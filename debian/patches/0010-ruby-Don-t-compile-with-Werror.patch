From: Hilko Bengen <bengen@debian.org>
Date: Sun, 17 Feb 2013 22:52:59 +0100
Subject: ruby: Don't compile with -Werror.
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Otherwise, _guestfs.c can't be compiled due to many strict-prototype
warnings turned into errors:

compiling /home/bengen/src/deb/pkg-libvirt/libguestfs/debian/build-default/../..
/ruby/ext/guestfs/_guestfs.c
In file included from /usr/include/ruby-1.9.1/ruby.h:32:0,
                 from /home/bengen/src/deb/pkg-libvirt/libguestfs/debian/build-d
efault/../../ruby/ext/guestfs/_guestfs.c:29:
/usr/include/ruby-1.9.1/ruby/ruby.h:1093:1: error: function declaration isnâ€™t a
prototype [-Werror=strict-prototypes]
[...]
---
 ruby/ext/guestfs/extconf.rb.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/ruby/ext/guestfs/extconf.rb.in b/ruby/ext/guestfs/extconf.rb.in
index 2bb4c9d..d03ae64 100644
--- a/ruby/ext/guestfs/extconf.rb.in
+++ b/ruby/ext/guestfs/extconf.rb.in
@@ -31,7 +31,7 @@ end
 
 $CFLAGS =
   "#{$CFLAGS} @CFLAGS@ -DGUESTFS_PRIVATE=1 " <<
-  "@WARN_CFLAGS@ @WERROR_CFLAGS@"
+  "@WARN_CFLAGS@"
 
 create_header
 create_makefile(extension_name, "@abs_srcdir@")
