.\" Automatically generated by Podwrapper::Man 1.38.4 (Pod::Simple 3.35)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "virt-filesystems 1"
.TH virt-filesystems 1 "2018-08-09" "libguestfs-1.38.4" "Virtualization Support"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "НАЗВА"
.IX Header "НАЗВА"
virt-filesystems — програма для показу списку файлових систем, розділів,
блокових пристроїв, \s-1LVM\s0 у віртуальних машинах або образах дисків
.SH "КОРОТКИЙ ОПИС"
.IX Header "КОРОТКИЙ ОПИС"
.Vb 1
\& virt\-filesystems [\-\-параметри] \-d назва_домену
\&
\& virt\-filesystems [\-\-параметри] \-a диск.img [\-a диск.img ...]
.Ve
.SH "ОПИС"
.IX Header "ОПИС"
За допомогою цієї програми ви зможете виявляти файлові системи, розділи
диска, логічні томи та визначати їхні розміри у образі диска або у
віртуальній машині. Програма є замінником \fBvirt\-list\-filesystems\fR\|(1) та
\&\fBvirt\-list\-partitions\fR\|(1).
.PP
Одним із варіантів використання цієї програми є додавання її у скрипти для
ітеративного обходу усіх файлових систем на образі диска:
.PP
.Vb 3
\& for fs in $(virt\-filesystems \-a disk.img); do
\&   # ...
\& done
.Ve
.PP
Це одним використанням програми є виведення списку розділів до використання
іншого інструмента для внесення змін до цих розділів (зокрема програми
\&\fBvirt\-resize\fR\|(1)). Якщо вам цікавий вміст невідомого образу диска,
скористайтеся цим інструментом разом із \fBvirt\-inspector\fR\|(1).
.PP
Керувати виведенням даних цією програмою можна за допомогою різноманітних
параметрів командного рядка. Вам слід задати параметр \fI\-a\fR або \fI\-d\fR, щоб
визначити образ диска або гостьову систему libvirt. Якщо ви вкажете один з
цих параметрів, програма покаже знайдені файлові системи, по одній на рядок,
ось так:
.PP
.Vb 3
\& $ virt\-filesystems \-a disk.img
\& /dev/sda1
\& /dev/vg_guest/lv_root
.Ve
.PP
Якщо ви додасте \fI\-l\fR або \fI\-\-long\fR, у виведених даних буде показано
додаткову інформацію:
.PP
.Vb 4
\& $ virt\-filesystems \-a disk.img \-l
\& Назва                  Тип          ВФС   Мітка  Розмір
\& /dev/sda1              filesystem   ext4  boot   524288000
\& /dev/vg_guest/lv_root  filesystem   ext4  root   10212081664
.Ve
.PP
Якщо ви додасте параметр \fI\-\-extra\fR, буде показано і файлові системи, які
непридатні до монтування (резервна пам'ять, невідомий формат):
.PP
.Vb 5
\& $ virt\-filesystems \-a disk.img \-\-extra
\& /dev/sda1
\& /dev/vg_guest/lv_root
\& /dev/vg_guest/lv_swap
\& /dev/vg_guest/lv_data
.Ve
.PP
Якщо ви додасте параметр \fI\-\-partitions\fR, буде показано розділи, а не
файлові системи:
.PP
.Vb 3
\& $ virt\-filesystems \-a disk.img \-\-partitions
\& /dev/sda1
\& /dev/sda2
.Ve
.PP
У подібний спосіб, ви можете скористатися параметрами \fI\-\-logical\-volumes\fR,
\&\fI\-\-volume\-groups\fR, \fI\-\-physical\-volumes\fR, \fI\-\-block\-devices\fR, щоб отримати
список цих записів.
.PP
Ви можете також скористатися цими параметрами у поєднанні (якщо вам потрібна
комбінація із файловими системами, вам слід додати
\&\fI\-\-filesystems\fR). Зауважте, що деякі з пунктів списку можуть належати
одночасно декільком категоріям (наприклад, \fI/dev/sda1\fR може бути як
розділом, так і файловою системою). Такі пункти буде показано відповідну
кількість разів. Щоб отримати список, який міститиме абсолютно усе, про що
знає virt-filesystems, скористайтеся параметром \fI\-\-all\fR.
.PP
\&\s-1UUID\s0 (оскільки вони є доволі довгими) типово показано не буде. Додайте
параметр \fI\-\-uuid\fR, щоб ознайомитися із \s-1UUID\s0 пристроїв і файлових систем у
розширених даних.
.PP
\&\fI\-\-all \-\-long \-\-uuid\fR є корисною комбінацією для показу усіх доступних
даних щодо усього.
.PP
.Vb 7
\& $ virt\-filesystems \-a win.img \-\-all \-\-long \-\-uuid \-h
\& Назва     Тип        VFS  Мітка           Розмір Батьк.   UUID
\& /dev/sda1 filesystem ntfs System Reserved 100M \-        F81C92571C92112C
\& /dev/sda2 filesystem ntfs \-               20G  \-        F2E8996AE8992E3B
\& /dev/sda1 partition  \-    \-               100M /dev/sda \-
\& /dev/sda2 partition  \-    \-               20G  /dev/sda \-
\& /dev/sda  device     \-    \-               20G  \-        \-
.Ve
.PP
Для отримання зручних для машинної обробки даних скористайтеся параметром
\&\fI\-\-csv\fR. Дані буде виведено у форматі значень відокремлених комами.
.SH "ПАРАМЕТРИ"
.IX Header "ПАРАМЕТРИ"
.IP "\fB\-\-help\fR" 4
.IX Item "--help"
Показати коротку довідку.
.IP "\fB\-a\fR файл" 4
.IX Item "-a файл"
.PD 0
.IP "\fB\-\-add\fR файл" 4
.IX Item "--add файл"
.PD
Додати \fIфайл\fR, який має бути образом диска з віртуальної машини. Якщо у
віртуальній машині декілька блокових пристроїв, вам слід вказати їх усі за
допомогою окремих записів параметра \fI\-a\fR.
.Sp
Формат образу диска визначається автоматично. Щоб перевизначити його і
примусово використати певний формат, скористайтеся параметром
\&\fI\-\-format=..\fR.
.IP "\fB\-a адреса\fR" 4
.IX Item "-a адреса"
.PD 0
.IP "\fB\-\-add адреса\fR" 4
.IX Item "--add адреса"
.PD
Додати віддалений диск. Див. \*(L"ДОДАВАННЯ ВІДДАЛЕНОГО СХОВИЩА\*(R" in \fBguestfish\fR\|(1).
.IP "\fB\-\-all\fR" 4
.IX Item "--all"
Вивести усе. У поточній версії це те саме, що вказати такі параметри:
\&\fI\-\-filesystems\fR, \fI\-\-extra\fR, \fI\-\-partitions\fR, \fI\-\-block\-devices\fR,
\&\fI\-\-logical\-volumes\fR, \fI\-\-volume\-groups\fR, \fI\-\-physical\-volumes\fR. (У
майбутньому до цього списку може бути додано інші пункти).
.Sp
Див. також \fI\-\-long\fR.
.IP "\fB\-\-blkdevs\fR" 4
.IX Item "--blkdevs"
.PD 0
.IP "\fB\-\-block\-devices\fR" 4
.IX Item "--block-devices"
.PD
Показати список блокових пристроїв.
.IP "\fB\-c\fR адреса" 4
.IX Item "-c адреса"
.PD 0
.IP "\fB\-\-connect\fR адреса" 4
.IX Item "--connect адреса"
.PD
Якщо використовується libvirt, встановити з’єднання з вказаним \fI\s-1URI\s0\fR. Якщо
пропущено, з’єднання буде встановлено з типовим гіпервізором libvirt.
.Sp
Якщо вказати блокові пристрої гостьових систем безпосередньо (\fI\-a\fR),
libvirt не буде використовуватися взагалі.
.IP "\fB\-\-csv\fR" 4
.IX Item "--csv"
Вивести результати до формату \s-1CSV\s0 (записів, відокремлених комами). Дані у
цьому форматі можна просто імпортувати до баз даних і електронних
таблиць. Втім, варто ознайомитися із розділом \*(L"НОТАТКА ЩОДО ФОРМАТУ \s-1CSV\*(R"\s0,
наведеним нижче.
.IP "\fB\-d\fR гість" 4
.IX Item "-d гість"
.PD 0
.IP "\fB\-\-domain\fR гість" 4
.IX Item "--domain гість"
.PD
Додати всі диски з вказаної гостьової системи libvirt. \s-1UUID\s0 доменів можна
використовувати замість назв.
.IP "\fB\-\-echo\-keys\fR" 4
.IX Item "--echo-keys"
Типово, якщо virt-filesystems попросить вас ввести ключ або пароль, програма
не відтворюватиме введені символи на екрані. Якщо ви не боїтеся
TEMPEST\-нападів, або у вашій кімнаті нікого, окрім вас, немає, ви можете
скористатися цим прапорцем, щоб бачити, які саме символи ви вводите.
.IP "\fB\-\-extra\fR" 4
.IX Item "--extra"
Це спричинить показ файлових систем, які не є звичайними файловими
системами, які придатні до монтування. До цієї категорії включено розділи
резервної пам'яті та файлові системи, які є порожніми або містять невідомі
дані.
.Sp
Цей параметр автоматично встановлює параметр \fI\-\-filesystems\fR.
.IP "\fB\-\-filesystems\fR" 4
.IX Item "--filesystems"
Показати список придатних до монтування систем. Якщо параметр показу не було
визначено, цей параметр буде додано до команди.
.Sp
Якщо було використано параметр \fI\-\-extra\fR, буде показано і непридатні до
монтування файлові системи.
.IP "\fB\-\-format=raw|qcow2|..\fR" 4
.IX Item "--format=raw|qcow2|.."
.PD 0
.IP "\fB\-\-format\fR" 4
.IX Item "--format"
.PD
Типовим значенням для параметра \fI\-a\fR є автоматичне визначення формату
образу диска. Використання цього параметра примусово визначає значення
параметрів \fI\-a\fR формату диска у наступному рядку команди. Використання
параметра \fI\-\-format\fR без аргументу перемикає програму у режим автоматичного
визначення у наступних параметрах \fI\-a\fR.
.Sp
Приклад:
.Sp
.Vb 1
\& virt\-filesystems \-\-format=raw \-a диск.img
.Ve
.Sp
примусове встановлення формату без обробки (без автоматичного визначення)
для \fIdisk.img\fR.
.Sp
.Vb 1
\& virt\-filesystems \-\-format=raw \-a диск.img \-\-format \-a інший_диск.img
.Ve
.Sp
примусове встановлення формату без обробки (без автоматичного визначення)
для \fIdiskimg\fR і повернення до автоматичного визначення для \fIanother.img\fR.
.Sp
Якщо ви користуєтеся ненадійними образами гостьових систем у необробленому
форматі, вам слід скористатися цим параметром для визначення формату
диска. Таким чином можна уникнути можливих проблем з захистом для
сформованих зловмисниками гостьових систем (\s-1CVE\-2010\-3851\s0).
.IP "\fB\-h\fR" 4
.IX Item "-h"
.PD 0
.IP "\fB\-\-human\-readable\fR" 4
.IX Item "--human-readable"
.PD
У режимі \fI\-\-long\fR показувати розміри у зручному для читання форматі.
.IP "\fB\-\-keys\-from\-stdin\fR" 4
.IX Item "--keys-from-stdin"
Прочитати параметри ключа або пароля із джерела стандартного
введення. Типово програма намагається читати паролі від користувача
відкриттям \fI/dev/tty\fR.
.IP "\fB\-l\fR" 4
.IX Item "-l"
.PD 0
.IP "\fB\-\-long\fR" 4
.IX Item "--long"
.PD
Показувати додаткові стовпчики даних («довгий формат»).
.Sp
Якщо ви не додасте параметр \fI\-\-no\-title\fR, буде додано рядок заголовка.
.Sp
Вміст додаткових стовпчиків залежить від вибраного виведення, а
упорядкування стовпчиків може змінитися у майбутніх версіях. Для того, щоб
виведені дані відповідали вхідним даним зовнішніх програм, скористайтеся
рядком заголовків, виведенням \fI\-\-csv\fR і/або \fBcsvtool\fR\|(1).
.Sp
Якщо дані має бути виведено у зручному для читання людиною форматі,
скористайтеся параметром \fI\-h\fR. Типово, буде показано розміри у \fIбайтах\fR.
.Sp
Скористайтеся параметром \fI\-\-uuid\fR, щоб було показано також \s-1UUID.\s0
.IP "\fB\-\-lvs\fR" 4
.IX Item "--lvs"
.PD 0
.IP "\fB\-\-logvols\fR" 4
.IX Item "--logvols"
.IP "\fB\-\-logical\-volumes\fR" 4
.IX Item "--logical-volumes"
.PD
Показати логічні томи \s-1LVM.\s0 У цьому режимі томи буде показано незалежно від
того, чи містяться на логічних томах файлові системи.
.IP "\fB\-\-no\-title\fR" 4
.IX Item "--no-title"
У режимі \fI\-\-long\fR не додавати рядок заголовків.
.Sp
Зауважте, що порядок стовпчиків не є фіксованим і може змінитися у майбутніх
версіях virt-filesystems; отже, використання цього параметра може призвести
до не зовсім очікуваних наслідків.
.IP "\fB\-\-parts\fR" 4
.IX Item "--parts"
.PD 0
.IP "\fB\-\-partitions\fR" 4
.IX Item "--partitions"
.PD
Показати розділи. У цьому режимі розділи буде показано незалежно від того,
чи містяться на розділах файлові системи.
.IP "\fB\-\-pvs\fR" 4
.IX Item "--pvs"
.PD 0
.IP "\fB\-\-physvols\fR" 4
.IX Item "--physvols"
.IP "\fB\-\-physical\-volumes\fR" 4
.IX Item "--physical-volumes"
.PD
Показати фізичні томи \s-1LVM.\s0
.IP "\fB\-\-uuid\fR" 4
.IX Item "--uuid"
.PD 0
.IP "\fB\-\-uuids\fR" 4
.IX Item "--uuids"
.PD
У режимі \fI\-\-long\fR буде також виведено \s-1UUID.\s0
.IP "\fB\-v\fR" 4
.IX Item "-v"
.PD 0
.IP "\fB\-\-verbose\fR" 4
.IX Item "--verbose"
.PD
Увімкнути докладний показ повідомлень з метою діагностики.
.IP "\fB\-V\fR" 4
.IX Item "-V"
.PD 0
.IP "\fB\-\-version\fR" 4
.IX Item "--version"
.PD
Показати дані щодо версії і завершити роботу.
.IP "\fB\-\-vgs\fR" 4
.IX Item "--vgs"
.PD 0
.IP "\fB\-\-volgroups\fR" 4
.IX Item "--volgroups"
.IP "\fB\-\-volume\-groups\fR" 4
.IX Item "--volume-groups"
.PD
Показати групи томів \s-1LVM.\s0
.IP "\fB\-x\fR" 4
.IX Item "-x"
Увімкнути трасування викликів програмного інтерфейсу libguestfs.
.SH "СТОВПЧИКИ"
.IX Header "СТОВПЧИКИ"
Зауважте, що порядок і перелік стовпчиків у виведених даних у майбутніх
версіях може бути змінено.
.IP "\fBНазва\fR" 4
.IX Item "Назва"
Назва файлової системи, розділу, блокового пристрою або \s-1LVM.\s0
.Sp
Назви пристроїв та розділів буде показано у форматі канонічних назв
libguestfs. Таким чином, наприклад, \fI/dev/sda2\fR означатиме другий розділ на
першому пристрої.
.Sp
Якщо параметр \fI\-\-long\fR \fBне\fR вказано, у виведених даних буде лише стовпчик
назв.
.IP "\fBТип\fR" 4
.IX Item "Тип"
Тип об'єкта. Наприклад, \f(CW\*(C`filesystem\*(C'\fR, \f(CW\*(C`lv\*(C'\fR, \f(CW\*(C`device\*(C'\fR тощо.
.IP "\fB\s-1VFS\s0\fR" 4
.IX Item "VFS"
Якщо буде виявлено відому програмі файлову систему, у цьому стовпчику буде
показано дані щодо неї, наприклад \f(CW\*(C`ext4\*(C'\fR.
.IP "\fBМітка\fR" 4
.IX Item "Мітка"
Якщо у об'єкта є мітка (яка використовується для ідентифікації та монтування
файлових систем), у цьому стовпчику міститься мітка.
.IP "\fB\s-1MBR\s0\fR" 4
.IX Item "MBR"
Байт типу розділу, буде показано у форматі двоцифрового шістнадцяткового
числа. Довідковий список типів розділів наведено тут:
http://www.win.tue.nl/~aeb/partitions/partition_types\-1.html
.Sp
Це стосується лише розділів \s-1DOS\s0 (\s-1MBR\s0).
.IP "\fBРозмір\fR" 4
.IX Item "Розмір"
Розмір об'єкта у байтах. Якщо використано параметр \fI\-\-human\fR, розмір буде
вказано у зручному для читання форматі.
.IP "\fBОснова\fR" 4
.IX Item "Основа"
У стовпчику батьківських об'єктів показано відношення батьківських і
дочірніх об'єктів.
.Sp
Наприклад, якщо об'єкт є розділом, у цьому стовпчику міститиметься назва
пристрою, на якому цей розділ розташовано. Якщо об'єкт є логічним томом, у
цьому стовпчику буде наведено назву групи томів.
.Sp
Якщо батьківських об'єктів декілька, вмістом стовпчика буде список значень
відокремлених комами, наприклад \f(CW\*(C`/dev/sda,/dev/sdb\*(C'\fR.
.IP "\fB\s-1UUID\s0\fR" 4
.IX Item "UUID"
Якщо у об'єкта є \s-1UUID\s0 (який використовується для ідентифікації та монтування
файлових систем та блокових пристроїв), у цьому стовпчику міститься \s-1UUID\s0 у
форматі рядка.
.Sp
\&\s-1UUID\s0 буде показано, лише якщо вказано параметр \fI\-\-uuid\fR.
.SH "ЗАУВАЖЕННЯ ЩОДО ФОРМАТУ CSV"
.IX Header "ЗАУВАЖЕННЯ ЩОДО ФОРМАТУ CSV"
Формат значень, які відокремлено комами (\s-1CSV\s0), є оманливо простим. Може
\&\fIздатися\fR, що його просто обробляти, але насправді це зовсім не так.
.PP
Міф: достатньо розділити поля за комами. Реальність: поділ комами \fIне\fR
працює у надійний спосіб. Ось приклад із двома стовпчиками:
.PP
.Vb 1
\& "foo,bar",baz
.Ve
.PP
Міф: слід читати файл за рядками, один рядок за одну операцію
читання. Реальність: читання за рядками \fIне\fR працює у надійний спосіб. Ось
приклад із одним рядком:
.PP
.Vb 2
\& "foo
\& bar",baz
.Ve
.PP
Для скриптів командної оболонки скористайтеся \f(CW\*(C`csvtool\*(C'\fR
(https://github.com/Chris00/ocaml\-csv також є серед пакунків основних
дистрибутивів Linux).
.PP
Для інших мов програмування використовуйте бібліотеку для обробки даних \s-1CSV\s0
(наприклад, \f(CW\*(C`Text::CSV\*(C'\fR для Perl або вбудовану бібліотеку csv Python).
.PP
У більшості електронних таблиць та баз даних передбачено можливості
безпосереднього імпортування даних \s-1CSV.\s0
.SH "СТАН ВИХОДУ"
.IX Header "СТАН ВИХОДУ"
Ця програма повертає значення 0 у разі успішного завершення і ненульове
значення, якщо сталася помилка.
.SH "ТАКОЖ ПЕРЕГЛЯНЬТЕ"
.IX Header "ТАКОЖ ПЕРЕГЛЯНЬТЕ"
\&\fBguestfs\fR\|(3), \fBguestfish\fR\|(1), \fBvirt\-cat\fR\|(1), \fBvirt\-df\fR\|(1),
\&\fBvirt\-list\-filesystems\fR\|(1), \fBvirt\-list\-partitions\fR\|(1), \fBcsvtool\fR\|(1),
http://libguestfs.org/.
.SH "АВТОР"
.IX Header "АВТОР"
Richard W.M. Jones http://people.redhat.com/~rjones/
.SH "АВТОРСЬКІ ПРАВА"
.IX Header "АВТОРСЬКІ ПРАВА"
© Red Hat Inc., 2010–2012
.SH "LICENSE"
.IX Header "LICENSE"
.SH "BUGS"
.IX Header "BUGS"
To get a list of bugs against libguestfs, use this link:
https://bugzilla.redhat.com/buglist.cgi?component=libguestfs&product=Virtualization+Tools
.PP
To report a new bug against libguestfs, use this link:
https://bugzilla.redhat.com/enter_bug.cgi?component=libguestfs&product=Virtualization+Tools
.PP
When reporting a bug, please supply:
.IP "\(bu" 4
The version of libguestfs.
.IP "\(bu" 4
Where you got libguestfs (eg. which Linux distro, compiled from source, etc)
.IP "\(bu" 4
Describe the bug accurately and give a way to reproduce it.
.IP "\(bu" 4
Run \fBlibguestfs\-test\-tool\fR\|(1) and paste the \fBcomplete, unedited\fR
output into the bug report.
