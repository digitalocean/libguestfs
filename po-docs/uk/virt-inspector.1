.\" Automatically generated by Podwrapper::Man 1.40.2 (Pod::Simple 3.35)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "virt-inspector 1"
.TH virt-inspector 1 "2019-02-07" "libguestfs-1.40.2" "Virtualization Support"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "НАЗВА"
.IX Header "НАЗВА"
virt-inspector — показ версії операційної системи та інших даних щодо
віртуальної машини
.SH "КОРОТКИЙ ОПИС"
.IX Header "КОРОТКИЙ ОПИС"
.Vb 1
\& virt\-inspector [\-\-параметри] \-d назва_домену
\&
\& virt\-inspector [\-\-параметри] \-a диск.img [\-a диск.img ...]
.Ve
.PP
Застарілий стиль:
.PP
.Vb 1
\& virt\-inspector назва_домену
\&
\& virt\-inspector диск.img [диск.img ...]
.Ve
.SH "ОПИС"
.IX Header "ОПИС"
\&\fBvirt-inspector\fR виконує вивчення віртуальної машини або образу диска і
намагається визначити версію операційної системи та інші дані щодо
віртуальної машини.
.PP
Virt-inspector виводить дані \s-1XML\s0 для обробки у інших програмах.
.PP
У звичайному режимі користуйтеся командою \f(CW\*(C`virt\-inspector \-d назва_домену\*(C'\fR,
де \f(CW\*(C`назва_домену\*(C'\fR — назва домену libvirt (див. \f(CW\*(C`virsh list \-\-all\*(C'\fR).
.PP
Ви також можете запускати virt-inspector безпосередньо для образів дисків з
однієї віртуальної машини. Для цього слід використовувати команду
\&\f(CW\*(C`virt\-inspector \-a образ.диска\*(C'\fR. У рідкісних випадках у домені може бути
декілька блокових пристроїв. У цьому випадку вам слід вказати список із
декількох параметрів \fI\-a\fR, один за одним. Перший має відповідати пристрою
\&\fI/dev/sda\fR гостьової системи, другий — пристрою \fI/dev/sdb\fR гостьової
системи тощо.
.PP
Ви також можете запускати virt-inspector для дисків для встановлення
системи, образів компакт\-дисків для портативних систем, призначених для
завантаження образів флешок \s-1USB\s0 тощо.
.PP
Virt-inspector може одночасно інспектувати і створювати звіт лише для
\&\fIодного домену\fR. Для інспектування декількох віртуальних машин вам
доведеться запускати virt-inspector декілька разів (наприклад, із циклу for
скрипту оболонки).
.PP
Оскільки virt-inspector потрібен безпосередній доступ до образів гостьової
системи, програма, зазвичай, не працюватиме, якщо використовується віддалене
з'єднання із libvirt.
.PP
Усі дані, які доступні за допомогою virt-inspector, також доступні і з
основного програмного інтерфейсу інспектування libguestfs
(див. \*(L"ІНСПЕКТУВАННЯ\*(R" in \fBguestfs\fR\|(3)). Ті самі дані можна також отримати за
допомогою guestfish або прив'язок до libguestfs багатьма мовами
програмування (див. \*(L"ОТРИМАННЯ ДАНИХ ІНСПЕКТУВАННЯ ЗА ДОПОМОГОЮ
ПРОГРАМНОГО ІНТЕРФЕЙСУ \s-1LIBGUESTFS\*(R"\s0).
.SH "ПАРАМЕТРИ"
.IX Header "ПАРАМЕТРИ"
.IP "\fB\-\-help\fR" 4
.IX Item "--help"
Показати коротку довідку.
.IP "\fB\-a\fR файл" 4
.IX Item "-a файл"
.PD 0
.IP "\fB\-\-add\fR файл" 4
.IX Item "--add файл"
.PD
Додати \fIфайл\fR, який має бути образом диска з віртуальної машини. Якщо у
віртуальній машині декілька блокових пристроїв, вам слід вказати їх усі за
допомогою окремих записів параметра \fI\-a\fR.
.Sp
Формат образу диска визначається автоматично. Щоб перевизначити його і
примусово використати певний формат, скористайтеся параметром
\&\fI\-\-format=..\fR.
.IP "\fB\-a\fR адреса" 4
.IX Item "-a адреса"
.PD 0
.IP "\fB\-\-add\fR адреса" 4
.IX Item "--add адреса"
.PD
Додати віддалений диск. Див. \*(L"ДОДАВАННЯ ВІДДАЛЕНОГО СХОВИЩА\*(R" in \fBguestfish\fR\|(1).
.IP "\fB\-c\fR адреса" 4
.IX Item "-c адреса"
.PD 0
.IP "\fB\-\-connect\fR адреса" 4
.IX Item "--connect адреса"
.PD
Якщо використовується libvirt, встановити з’єднання з вказаним \fI\s-1URI\s0\fR. Якщо
пропущено, з’єднання буде встановлено з типовим гіпервізором libvirt.
.Sp
Libvirt використовуватиметься, лише якщо ви вкажете \f(CW\*(C`назву домену\*(C'\fR у рядку
команди. Якщо вказати блокові пристрої гостьових систем безпосередньо
(\fI\-a\fR), libvirt не буде використовуватися взагалі.
.IP "\fB\-d\fR гість" 4
.IX Item "-d гість"
.PD 0
.IP "\fB\-\-domain\fR гість" 4
.IX Item "--domain гість"
.PD
Додати всі диски з вказаної гостьової системи libvirt. \s-1UUID\s0 доменів можна
використовувати замість назв.
.IP "\fB\-\-echo\-keys\fR" 4
.IX Item "--echo-keys"
Типово, якщо virt-inspector попросить вас ввести ключ або пароль, програма
не відтворюватиме введені символи на екрані. Якщо ви не боїтеся
TEMPEST\-нападів, або у вашій кімнаті нікого, окрім вас, немає, ви можете
скористатися цим прапорцем, щоб бачити, які саме символи ви вводите.
.IP "\fB\-\-format=raw|qcow2|..\fR" 4
.IX Item "--format=raw|qcow2|.."
.PD 0
.IP "\fB\-\-format\fR" 4
.IX Item "--format"
.PD
Визначає формат образу диска, назву якого вказано у рядку команди. Якщо
формат не вказано, його буде визначено автоматично на основі вмісту образу
диска.
.Sp
Якщо вказаний диск походить з libvirt, ця програма надішле запит щодо даних
до libvirt. У цьому випадку вказане значення параметра формату буде
проігноровано.
.Sp
Якщо ви працюєте із образами дисків гостьових систем у форматі raw із
ненадійних джерел, вам слід завжди вказувати назву формату.
.IP "\fB\-\-key\fR \s-1SELECTOR\s0" 4
.IX Item "--key SELECTOR"
Specify a key for \s-1LUKS,\s0 to automatically open a \s-1LUKS\s0 device when using the
inspection.  \f(CW\*(C`SELECTOR\*(C'\fR can be in one of the following formats:
.RS 4
.ie n .IP "\fB\-\-key\fR ""DEVICE"":key:KEY_STRING" 4
.el .IP "\fB\-\-key\fR \f(CWDEVICE\fR:key:KEY_STRING" 4
.IX Item "--key DEVICE:key:KEY_STRING"
Use the specified \f(CW\*(C`KEY_STRING\*(C'\fR as passphrase.
.ie n .IP "\fB\-\-key\fR ""DEVICE"":file:FILENAME" 4
.el .IP "\fB\-\-key\fR \f(CWDEVICE\fR:file:FILENAME" 4
.IX Item "--key DEVICE:file:FILENAME"
Read the passphrase from \fI\s-1FILENAME\s0\fR.
.RE
.RS 4
.RE
.IP "\fB\-\-keys\-from\-stdin\fR" 4
.IX Item "--keys-from-stdin"
Прочитати параметри ключа або пароля із джерела стандартного
введення. Типово програма намагається читати паролі від користувача
відкриттям \fI/dev/tty\fR.
.IP "\fB\-\-no\-applications\fR" 4
.IX Item "--no-applications"
Типово, виведені virt-inspector дані містять список програм, які встановлено
у гостьовій системі, якщо такий список доступний.
.Sp
Вкажіть цей параметр, щоб вимкнути частину \s-1XML\s0 результату.
.IP "\fB\-\-no\-icon\fR" 4
.IX Item "--no-icon"
Типово, виведені virt-inspector дані містять список програм, які встановлено
у гостьовій системі, якщо такий список доступний (див. \*(L"icon\*(R").
.Sp
Вкажіть цей параметр, щоб вимкнути частину \s-1XML\s0 результату.
.IP "\fB\-v\fR" 4
.IX Item "-v"
.PD 0
.IP "\fB\-\-verbose\fR" 4
.IX Item "--verbose"
.PD
Увімкнути докладний показ повідомлень з метою діагностики.
.IP "\fB\-V\fR" 4
.IX Item "-V"
.PD 0
.IP "\fB\-\-version\fR" 4
.IX Item "--version"
.PD
Показати дані щодо версії і завершити роботу.
.IP "\fB\-x\fR" 4
.IX Item "-x"
Увімкнути трасування викликів програмного інтерфейсу libguestfs.
.IP "\fB\-\-xpath\fR запит" 4
.IX Item "--xpath запит"
Виконати запит XPath до \s-1XML\s0 у stdin і вивести результат до stdout. У цьому
режимі virt-inspector просто виконує запит XPath; усі інші функції
інспектування буде вимкнено. Приклади запитів наведено у розділі \*(L"ЗАПИТИ
\&\s-1XPATH\*(R"\s0 нижче.
.SH "ПАРАМЕТРИ КОМАНДНОГО РЯДКА У ФОРМАТІ ПОПЕРЕДНІХ ВЕРСІЙ"
.IX Header "ПАРАМЕТРИ КОМАНДНОГО РЯДКА У ФОРМАТІ ПОПЕРЕДНІХ ВЕРСІЙ"
У попередніх версіях virt-inspector можна було використовувати або
.PP
.Vb 1
\& virt\-inspector диск.img [диск.img ...]
.Ve
.PP
або
.PP
.Vb 1
\& virt\-inspector назва_гостьової_системи
.Ve
.PP
тоді як у цій версії вам слід скористатися \fI\-a\fR або \fI\-d\fR, відповідно, щоб
уникнути помилок у випадках, коли назва образу диска може збігатися із
назвою гостьової системи.
.PP
З міркувань зворотної сумісності передбачено підтримку запису параметрів у
застарілому форматі.
.SH "ФОРМАТ XML"
.IX Header "ФОРМАТ XML"
Точний опис \s-1XML\s0 virt-inspector наведено у файлі схеми \s-1RELAX NG\s0
\&\fIvirt\-inspector.rng\fR, який постачається разом із libguestfs. Цей розділ
містить лише поверхневий огляд.
.PP
Елементом верхнього рівня є <operatingsystems>. Він містить один або
декілька елементів <operatingsystem>. Елементів
<operatingsystem> буде декілька, лише якщо у віртуальній машині
передбачено декілька варіантів завантаження. Такі випадки є дуже рідкісними
у світі віртуальних машин.
.SS "<operatingsystem>"
.IX Subsection "<operatingsystem>"
Всередині теґу <operatingsystem> містяться різноманітні
необов'язкові поля, які описують операційну систему, її архітектуру, містять
описовий рядок «назва продукту», тип операційної системи тощо. Ось приклад:
.PP
.Vb 11
\& <operatingsystems>
\&   <operatingsystem>
\&     <root>/dev/sda2</root>
\&     <name>windows</name>
\&     <arch>i386</arch>
\&     <distro>windows</distro>
\&     <product_name>Windows 7 Enterprise</product_name>
\&     <product_variant>Client</product_variant>
\&     <major_version>6</major_version>
\&     <minor_version>1</minor_version>
\&     <windows_systemroot>/Windows</windows_systemroot>
.Ve
.PP
Якщо коротко, <name> — клас операційної системи (щось подібне до
\&\f(CW\*(C`linux\*(C'\fR або \f(CW\*(C`windows\*(C'\fR), <distro> — дистрибутив (наприклад,
\&\f(CW\*(C`fedora\*(C'\fR, але передбачено розпізнавання багатьох інших дистрибутивів), а
<arch> — архітектура гостьової системи. Інші поля мають доволі
зрозуміле призначення, але оскільки ці поля взято безпосередньо з
програмного інтерфейсу інспектування libguestfs, їхній повний опис можна
знайти у розділі \*(L"ІНСПЕКТУВАННЯ\*(R" in \fBguestfs\fR\|(3).
.PP
Елемент <root> є пристроєм кореневої файлової системи, але з точки
зору libguestfs (блокові пристрої можуть мати зовсім інші назви у самій
віртуальній машині).
.SS "<mountpoints>"
.IX Subsection "<mountpoints>"
У Un*x\-подібних гостьових системах типово міститься декілька файлових
систем, які монтуються як різні точки монтування. Ці файлові системи описано
у елементі <mountpoints>, який виглядає ось так:
.PP
.Vb 7
\& <operatingsystems>
\&   <operatingsystem>
\&     ...
\&     <mountpoints>
\&       <mountpoint dev="/dev/vg_f13x64/lv_root">/</mountpoint>
\&       <mountpoint dev="/dev/sda1">/boot</mountpoint>
\&     </mountpoints>
.Ve
.PP
Як і з <root>, пристрої подано з точки зору libguestfs, отже вони
можуть мати зовсім інші назви у гостьовій системі. У списку буде наведено
лише монтовані файлові системи, а не щось подібне до пристроїв резервної
пам'яті на диску.
.SS "<filesystems>"
.IX Subsection "<filesystems>"
Елемент <filesystems> подібний до <mountpoints>, але
стосується файлових \fIусіх\fR файлових систем, що належать гостьовій
операційній системі, зокрема розділів резервної пам'яті на диску та порожніх
розділів. (У рідкісних випадках гостьової системи із варіантами
завантаження, цей елемент стосується файлових систем, що належать цій
операційній системі або є спільними для цієї операційної системи та інших
операційних систем.)
.PP
Ви побачите щось таке:
.PP
.Vb 9
\& <operatingsystems>
\&   <operatingsystem>
\&     ...
\&     <filesystems>
\&       <filesystem dev="/dev/vg_f13x64/lv_root">
\&         <type>ext4</type>
\&         <label>Fedora\-13\-x86_64</label>
\&         <uuid>e6a4db1e\-15c2\-477b\-ac2a\-699181c396aa</uuid>
\&       </filesystem>
.Ve
.PP
Необов'язкові елементи у <filesystem> стосуються типу, мітки та \s-1UUID\s0
файлової системи.
.SS "<applications>"
.IX Subsection "<applications>"
Пов'язані елементи <package_format>, <package_management> та
<applications> описують програми, які встановлено у віртуальній
машині.
.PP
Елемент <package_format>, якщо він є, описує використану систему
пакунків. Типовими значеннями цього елемента є \f(CW\*(C`rpm\*(C'\fR та \f(CW\*(C`deb\*(C'\fR.
.PP
Елемент <package_management>, якщо такий є, описує засіб для
керування пакунками. Серед типових значень елемента є \f(CW\*(C`yum\*(C'\fR, \f(CW\*(C`up2date\*(C'\fR та
\&\f(CW\*(C`apt\*(C'\fR.
.PP
<applications> містить список пакунків або встановлених програм.
.PP
.Vb 9
\& <operatingsystems>
\&   <operatingsystem>
\&     ...
\&     <applications>
\&       <application>
\&         <name>coreutils</name>
\&         <version>8.5</version>
\&         <release>1</release>
\&       </application>
.Ve
.PP
Для деяких типів гостьових системи дані полів версії і випуску можуть бути
недоступними. Можлива поява інших полів,
див. \*(L"guestfs_inspect_list_applications\*(R" in \fBguestfs\fR\|(3).
.SS "<drive_mappings>"
.IX Subsection "<drive_mappings>"
Для операційних систем, подібних до Windows, де для позначення дисків
використовуються літери, virt-inspector може визначати прив'язки літер
дисків до файлових систем.
.PP
.Vb 7
\& <operatingsystems>
\&   <operatingsystem>
\&     ...
\&     <drive_mappings>
\&       <drive_mapping name="C">/dev/sda2</drive_mapping>
\&       <drive_mapping name="E">/dev/sdb1</drive_mapping>
\&     </drive_mappings>
.Ve
.PP
У наведеному вище прикладі диск C пов'язано із файловою системою на другому
розділі першого диска, диск E — із файловою системою на першому розділі
другого диска.
.PP
Зауважте, що це стосується лише постійних прив'язок дисків, а не прив'язок,
які подібні до прив'язок до спільних ресурсів у мережі. Крім того, до цього
списку може бути не включено точки монтування томів \s-1NTFS.\s0
.SS "<icon>"
.IX Subsection "<icon>"
Іноді virt-inspector може видобути піктограму або логотип гостьової
системи. Піктограму буде повернуто у форматі даних \s-1PNG\s0 у кодуванні
base64. Зауважте, що піктограма може бути доволі великою і дуже якісною.
.PP
.Vb 7
\& <operatingsystems>
\&   <operatingsystem>
\&     ...
\&     <icon>
\&       iVBORw0KGgoAAAANSUhEUgAAAGAAAABg[.......]
\&       [... багато рядків даних base64 ...]
\&     </icon>
.Ve
.PP
Для показу піктограми вам слід видобути ї і перетворити дані у кодуванні
base64 знову у двійковий файл. Скористайтеся запитом XPath або простим
редактором для видобування даних, а потім програмою \fBbase64\fR\|(1) з coreutils
для перетворення цих даних на файл \s-1PNG:\s0
.PP
.Vb 1
\& base64 \-i \-d < дані.піктограми > icon.png
.Ve
.SH "ЗАПИТИ XPATH"
.IX Header "ЗАПИТИ XPATH"
У virt-inspector передбачено вбудовану підтримку виконання запитів
XPath. Причиною включення підтримкиXPath  безпосередньо до virt-inspector є
те, що не існує добрих і широкодоступних засобів командного рядка, які
можуть виконувати запити XPath. Єдиним добрим засобом є \fBxmlstarlet\fR\|(1),
але ця програма недоступна у Red Hat Enterprise Linux.
.PP
Для виконання запиту XPath скористайтеся параметром \fI\-\-xpath\fR. Зауважте, що
у цьому режимі virt-inspector просто читає \s-1XML\s0 зі stdin і виводить результат
запиту до stdout. Усі інші можливості інспектування у цьому режимі вимкнено.
.PP
Приклад:
.PP
.Vb 5
\& $ virt\-inspector \-d Guest | virt\-inspector \-\-xpath \*(Aq//filesystems\*(Aq
\& <filesystems>
\&      <filesystem dev="/dev/vg_f13x64/lv_root">
\&        <type>ext4</type>
\& [...]
\&
\& $ virt\-inspector \-d Guest | \e
\&     virt\-inspector \-\-xpath "string(//filesystem[@dev=\*(Aq/dev/sda1\*(Aq]/type)"
\& ext4
\&
\& $ virt\-inspector \-d Guest | \e
\&     virt\-inspector \-\-xpath \*(Aqstring(//icon)\*(Aq | base64 \-i \-d | display \-
\& [показує піктограму гостьової системи, якщо така існує]
.Ve
.SH "ОТРИМАННЯ ДАНИХ ІНСПЕКТУВАННЯ ЗА ДОПОМОГОЮ ПРОГРАМНОГО ІНТЕРФЕЙСУ LIBGUESTFS"
.IX Header "ОТРИМАННЯ ДАНИХ ІНСПЕКТУВАННЯ ЗА ДОПОМОГОЮ ПРОГРАМНОГО ІНТЕРФЕЙСУ LIBGUESTFS"
У ранніх версіях libguestfs virt-inspector був великим скриптом Perl, до
якого було включено багато евристики для інспектування гостьових систем. Цей
підхід мав декілька проблем: для виконання інспектування з інших
інструментів (зокрема guestfish) нам доводилося викликати цей скрипт Perl;
він ставив у пріоритетне становище Perl над іншими мовами програмування,
підтримку яких передбачено у libguestfs.
.PP
До libguestfs 1.8 ми переписали код Perl на C і включили його до програмного
інтерфейсу основи libguestfs (\fBguestfs\fR\|(3)). Тепер virt-inspector є простим
тонким прошарком C над основним програмним інтерфейсом мовою C. Усі дані
інспектування доступні з усіх мов програмування, підтримку яких передбачено
у libguestfs, і з guestfish.
.PP
Опис програмного інтерфейсу інспектування мовою C наведено у розділі
\&\*(L"ІНСПЕКТУВАННЯ\*(R" in \fBguestfs\fR\|(3).
.PP
Приклад коду, де використовується програмний інтерфейс інспектування мовою
C, наведено у файлі \fIinspect\-vm.c\fR, який постачається разом із libguestfs.
.PP
Крім того, \fIinspect\-vm.c\fR трансльовано іншими мовами
програмування. Наприклад, \fIinspect_vm.pl\fR є трансляцією на Perl. Також
передбачено інші трансляції на OCaml, Python
тощо. Див. \*(L"ВИКОРИСТАННЯ \s-1LIBGUESTFS\s0 ЗА ДОПОМОГОЮ ІНШИХ МОВ
ПРОГРАМУВАННЯ\*(R" in \fBguestfs\fR\|(3), де наведено список сторінок підручника, де містяться
приклади коду.
.SS "ОТРИМАННЯ ДАНИХ ІНСПЕКТУВАННЯ ВІД \s-1GUESTFISH\s0"
.IX Subsection "ОТРИМАННЯ ДАНИХ ІНСПЕКТУВАННЯ ВІД GUESTFISH"
Якщо ви використовуєте параметр guestfish \fI\-i\fR, викликається основний
програмний інтерфейс інспектування \*(L"guestfs_inspect_os\*(R" in \fBguestfs\fR\|(3) мовою
C. Це еквівалент команди guestfish \f(CW\*(C`inspect\-os\*(C'\fR. Ви також можете викликати
цю команду guestfish вручну.
.PP
\&\f(CW\*(C`inspect\-os\*(C'\fR виконує інспектування поточного образу диска, повертаючи
список знайдених операційних систем. Кожну операційну систему представлено
її пристроєм кореневої файлової системи. У більшості випадків ця команда не
виводить ніяких даних (не знайдено жодної операційної системи) або виводить
єдиний кореневий пристрій, але ви маєте зважати на те, що ця команда може
вивести декілька рядків, якщо у образі декілька операційних систем або із
гостьовою системою з'єднано компакт\-диск для встановлення.
.PP
.Vb 4
\& $ guestfish \-\-ro \-a F15x32.img
\& ><fs> run
\& ><fs> inspect\-os
\& /dev/vg_f15x32/lv_root
.Ve
.PP
За допомогою кореневого пристрою ви можете отримати подальшу інформацію щодо
гостьової системи:
.PP
.Vb 8
\& ><fs> inspect\-get\-type /dev/vg_f15x32/lv_root
\& linux
\& ><fs> inspect\-get\-distro /dev/vg_f15x32/lv_root
\& fedora
\& ><fs> inspect\-get\-major\-version /dev/vg_f15x32/lv_root
\& 15
\& ><fs> inspect\-get\-product\-name /dev/vg_f15x32/lv_root
\& Fedora release 15 (Lovelock)
.Ve
.PP
Обмеження guestfish ускладнюють прив'язку кореневого пристрою до змінної
(оскільки у guestfish немає змінних), отже, якщо вам потрібно робити це
декілька разів, варто написати скрипт якоюсь іншою мовою програмування,
підтримку якої передбачено програмним інтерфейсом libguestfs.
.PP
Для отримання списку програм вам спочатку слід змонтувати диски:
.PP
.Vb 5
\& ><fs> inspect\-get\-mountpoints /dev/vg_f15x32/lv_root
\& /: /dev/vg_f15x32/lv_root
\& /boot: /dev/vda1
\& ><fs> mount\-ro /dev/vg_f15x32/lv_root /
\& ><fs> mount\-ro /dev/vda1 /boot
.Ve
.PP
а далі викличте програмний інтерфейс inspect-list-applications:
.PP
.Vb 10
\& ><fs> inspect\-list\-applications /dev/vg_f15x32/lv_root | head \-28
\& [0] = {
\&   app_name: ConsoleKit
\&   app_display_name:
\&   app_epoch: 0
\&   app_version: 0.4.5
\&   app_release: 1.fc15
\&   app_install_path:
\&   app_trans_path:
\&   app_publisher:
\&   app_url:
\&   app_source_package:
\&   app_summary:
\&   app_description:
\& }
\& [1] = {
\&   app_name: ConsoleKit\-libs
\&   app_display_name:
\&   app_epoch: 0
\&   app_version: 0.4.5
\&   app_release: 1.fc15
\&   app_install_path:
\&   app_trans_path:
\&   app_publisher:
\&   app_url:
\&   app_source_package:
\&   app_summary:
\&   app_description:
\& }
.Ve
.PP
Зауважте, що для показу піктограми гостьової системи файлові системи має
бути змонтовано у означений вище спосіб. Далі, ви можете зробити так:
.PP
.Vb 1
\& ><fs> inspect\-get\-icon /dev/vg_f15x32/lv_root | display \-
.Ve
.SH "ПОПЕРЕДНІ ВЕРСІЇ VIRT-INSPECTOR"
.IX Header "ПОПЕРЕДНІ ВЕРСІЇ VIRT-INSPECTOR"
Як ми вже вказували вище, ранні версії libguestfs постачалися із іншою
програмою virt-inspector, написаною на Perl (поточну версію написано на
C). Виведені дані \s-1XML\s0 virt-inspector на Perl були іншими, програма також
могла виводити дані у інших форматах, зокрема текстовому.
.PP
Підтримку застарілої версії virt-inspector припинено, вона більше не
постачається з libguestfs.
.PP
Крім того, до непорозумінь може призвести і те, що разом із Red Hat
Enterprise Linux 6 ми постачаємо дві версії virt-inspector із різними
назвами:
.PP
.Vb 2
\& virt\-inspector     Стара версія на Perl.
\& virt\-inspector2    Нова версія на C.
.Ve
.SH "СТАН ВИХОДУ"
.IX Header "СТАН ВИХОДУ"
Ця програма повертає значення 0 у разі успішного завершення і ненульове
значення, якщо сталася помилка.
.SH "ТАКОЖ ПЕРЕГЛЯНЬТЕ"
.IX Header "ТАКОЖ ПЕРЕГЛЯНЬТЕ"
\&\fBguestfs\fR\|(3), \fBguestfish\fR\|(1), http://www.w3.org/TR/xpath/,
\&\fBbase64\fR\|(1), \fBxmlstarlet\fR\|(1), http://libguestfs.org/.
.SH "АВТОРИ"
.IX Header "АВТОРИ"
.IP "\(bu" 4
Richard W.M. Jones http://people.redhat.com/~rjones/
.IP "\(bu" 4
Matthew Booth mbooth@redhat.com
.SH "АВТОРСЬКІ ПРАВА"
.IX Header "АВТОРСЬКІ ПРАВА"
© Red Hat Inc., 2010–2012
.SH "LICENSE"
.IX Header "LICENSE"
.SH "BUGS"
.IX Header "BUGS"
To get a list of bugs against libguestfs, use this link:
https://bugzilla.redhat.com/buglist.cgi?component=libguestfs&product=Virtualization+Tools
.PP
To report a new bug against libguestfs, use this link:
https://bugzilla.redhat.com/enter_bug.cgi?component=libguestfs&product=Virtualization+Tools
.PP
When reporting a bug, please supply:
.IP "\(bu" 4
The version of libguestfs.
.IP "\(bu" 4
Where you got libguestfs (eg. which Linux distro, compiled from source, etc)
.IP "\(bu" 4
Describe the bug accurately and give a way to reproduce it.
.IP "\(bu" 4
Run \fBlibguestfs\-test\-tool\fR\|(1) and paste the \fBcomplete, unedited\fR
output into the bug report.
