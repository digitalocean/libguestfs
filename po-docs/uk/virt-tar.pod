
=head1 НАЗВА

virt-tar — видобування або вивантаження файлів до віртуальної машини

=head1 КОРОТКИЙ ОПИС

 virt-tar [--параметри] -x назва_домену каталог архів_tar

 virt-tar [--параметри] -u назва_домену  архів_tar каталог

 virt-tar [--параметри] диск.img [диск.img ...] -x каталог архів_tar

 virt-tar [--параметри] диск.img [диск.img ...] -u архів_tar каталог

=head1 ЗАСТАРІЛЕ

Ця програма вважається застарілою. Замість неї слід використовувати
L<virt-copy-in(1)>, L<virt-copy-out(1)>, L<virt-tar-in(1)>,
L<virt-tar-out(1)>.

=head1 ПРИКЛАДИ

Отримати C</home> з віртуальної машини до локального архіву tar:

 virt-tar -x domname /home home.tar

 virt-tar -zx domname /home home.tar.gz

Вивантажити локальний архів tar і розпакувати його до C</tmp> у віртуальній
машині:

 virt-tar -u domname uploadstuff.tar /tmp

 virt-tar -zu domname uploadstuff.tar.gz /tmp

=head1 ПОПЕРЕДЖЕННЯ

I<Не> використовуйте C<virt-tar> з параметром I<-u> (вивантаження) для
активних віртуальних машин. Якщо ви зробите це, ви ризикуєте пошкодити диск
у віртуальній машині. C<virt-tar> намагатиметься запобігти подібним діям,
але програма не завжди може визначити усі можливі випадки.

Ви можете користуватися параметром I<-x> (видобути) для активних віртуальних
машин, але результатом можуть бути некоректні дані або помилки, якщо під час
видобування у файловій системі віртуальної машини відбуваються якісь
дії. Якщо активна віртуальна машина є синхронізованою і перебуває у стані
спокою, зазвичай, C<virt-tar> працюватиме, але єдиним способом гарантування
коректних результатів є вимикання віртуальної машини.

=head1 ОПИС

C<virt-tar> — інструмент архівування загального призначення, завданням якого
є отримання і вивантаження частин файлової системи гостьової операційної
системи. У нього багато можливих застосувань: створення резервних копій,
вивантаження файлів із даними, стеження за діями у гостьовій системі,
виправлення та налаштовування гостьових систем тощо.

Якщо вам потрібен один файл, скористайтеся L<virt-cat(1)>. Якщо ви хочете
внести зміни до одного файла, скористайтеся L<virt-edit(1)>.  Для виконання
складніших дій можна скористатися програмою L<guestfish(1)>.

Передбачено два режими роботи: I<-x> (eXtract) отримує дані каталогу і його
вміст (рекурсивно) з віртуальної машини до локального архіву tar. I<-u>
вивантажує дані з локального архіву tar, розпаковуючи їх до каталогу у
віртуальній машині. Параметри, які визначають ці два режими роботи, не можна
використовувати разом у одній команді.

Крім того, ймовірно, вам знадобиться параметр I<-z> (gZip), який вмикає
стискання даних. Під час вивантаження даних вам слід вказати параметр I<-z>,
якщо вивантажуваний файл стиснуто, оскільки сама virt-tar не намагатиметься
це визначити.

C<virt-tar> може працювати лише з форматом архівів tar (з можливістю
стискання gzip). Наприклад, програма не може працювати із файлами PKZip або
архівами, які стиснуто bzip2. Якщо вам доводиться працювати з іншими
форматами даних, вам доведеться перезібрати архіви власноруч. (Це обмеження
є обмеженням програмного інтерфейсу L<libguestfs(3)>).

=head1 ПАРАМЕТРИ

=over 4

=item B<--help>

Показати коротку довідку.

=item B<--version>

Показати дані щодо версії і завершити роботу.

=item B<-c адреса>

=item B<--connect адреса>

Якщо використовується libvirt, встановити з’єднання з вказаним I<URI>. Якщо
пропущено, з’єднання буде встановлено з типовим гіпервізором libvirt.

Якщо вказати блокові пристрої гостьових систем безпосередньо, libvirt не
буде використовуватися взагалі.

=item B<--format> raw

Визначає формат образу диска, назву якого вказано у рядку команди. Якщо
формат не вказано, його буде визначено автоматично на основі вмісту образу
диска.

Якщо вказаний диск походить з libvirt, ця програма надішле запит щодо даних
до libvirt. У цьому випадку вказане значення параметра формату буде
проігноровано.

Якщо ви працюєте із образами дисків гостьових систем у форматі raw із
ненадійних джерел, вам слід завжди вказувати назву формату.

=item B<-x>

=item B<--extract>

=item B<--download>

=item B<-u>

=item B<--upload>

Скористайтеся параметром I<-x> для видобування (отримання) каталогу з
віртуальної машини до локального архіву tar.

Скористайтеся параметром I<-u> для вивантаження і розпаковування локального
архіву tar до віртуальної машини. Будь ласка, ознайомтеся із наведеним вище
розділом L</ПОПЕРЕДЖЕННЯ>, перш ніж користуватися цим параметром.

Слід вказувати лише один із цих параметрів.

=item B<-z>

=item B<--gzip>

Надає змогу вказати, що вхідний або вихідний архів tar стиснуто за допомогою
gzip.

=back

=head1 ТАКОЖ ПЕРЕГЛЯНЬТЕ

L<guestfs(3)>, L<guestfish(1)>, L<virt-cat(1)>, L<virt-edit(1)>,
L<virt-copy-in(1)>, L<virt-copy-out(1)>, L<virt-tar-in(1)>,
L<virt-tar-out(1)>, L<Sys::Guestfs(3)>, L<Sys::Virt(3)>,
L<http://libguestfs.org/>.

=head1 АВТОР

Richard W.M. Jones L<http://people.redhat.com/~rjones/>

=head1 АВТОРСЬКІ ПРАВА

© Red Hat Inc., 2009

