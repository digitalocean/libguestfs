.\" Automatically generated by Podwrapper::Man 1.40.1 (Pod::Simple 3.35)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "virt-make-fs 1"
.TH virt-make-fs 1 "2019-01-17" "libguestfs-1.40.1" "Virtualization Support"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "НАЗВА"
.IX Header "НАЗВА"
virt-make-fs —створення файлової системи на основі архіву tar або файлів
.SH "КОРОТКИЙ ОПИС"
.IX Header "КОРОТКИЙ ОПИС"
.Vb 1
\& virt\-make\-fs [\-\-параметри] вхідний.tar вихідний.img
\&
\& virt\-make\-fs [\-\-параметри] вхідний.tar.gz вихідний.img
\&
\& virt\-make\-fs [\-\-параметри] каталог вихідний.img
.Ve
.SH "ОПИС"
.IX Header "ОПИС"
Virt-make-fs — інструмент командного рядка для створення файлової системи на
основі архіву tar або якихось файлів у каталозі. Подібний для інструментів
\&\fBmkisofs\fR\|(1), \fBgenisoimage\fR\|(1) та \fBmksquashfs\fR\|(1). На відміну від цих
інструментів він може створювати файлові системи стандартних типів, зокрема
ext2/3 або \s-1NTFS,\s0 що може бути корисним, якщо ви хочете долучити ці файлові
системи до наявних віртуальних машин (наприклад, щоб імпортувати великі
обсяги доступних лише для читання даних до віртуальної машини).
.PP
Для створення порожніх дисків скористайтеся \fBvirt\-format\fR\|(1). Для створення
складних компонувань скористайтеся \fBguestfish\fR\|(1).
.PP
Базовий варіант використання:
.PP
.Vb 1
\& virt\-make\-fs вхідні_дані вихідний.образ
.Ve
.PP
де \f(CW\*(C`вхідні_дані\*(C'\fR є або каталогом, де зберігаються файли, які ви хочете
додати, або архів tar (нестиснений або стиснений за допомогою gzip); а
\&\fIвиведений.образ\fR є образом диска. Тип виведених даних визначається
автоматично. Типовим виведеним образом диска є простий (raw) розріджений
образ ext2, якщо ви не вкажете додаткових прапорців (див. розділ
\&\*(L"ПАРАМЕТРИ\*(R" нижче).
.SS "ТИП ФАЙЛОВОЇ СИСТЕМИ"
.IX Subsection "ТИП ФАЙЛОВОЇ СИСТЕМИ"
Типовим типом файлової системи є \f(CW\*(C`ext2\*(C'\fR. Можна використовувати майже
будь\-який тип файлової системи, підтримку якого передбачено у libguestfs
(але \fIне\fR придатний лише для читання формат, зокрема \s-1ISO9660\s0). Ось декілька
із найпоширеніших варіантів:
.IP "\fIext3\fR" 4
.IX Item "ext3"
Зауважте, що у файлових системах ext3 міститься журнал із типовим розміром
1\-32 МБ. Якщо ви не збираєтеся використовувати файлову систему у спосіб,
який потребує журналу, цей журнал є лише непотрібним доповненням файлової
системи.
.IP "\fIntfs\fR або \fIvfat\fR" 4
.IX Item "ntfs або vfat"
Корисно, якщо дані експортуються до гостьової системи Windows.
.IP "\fIminix\fR" 4
.IX Item "minix"
Менша зайва витрата місця за \f(CW\*(C`ext2\*(C'\fR, але є певні обмеження щодо довжини
назви файла і загального розміру файлової системи.
.PP
\fIПРИКЛАД\fR
.IX Subsection "ПРИКЛАД"
.PP
.Vb 1
\& virt\-make\-fs \-\-type=minix input minixfs.img
.Ve
.SS "ДІЛИТИ ЧИ НЕ ДІЛИТИ НА РОЗДІЛИ"
.IX Subsection "ДІЛИТИ ЧИ НЕ ДІЛИТИ НА РОЗДІЛИ"
На вимогу, virt-make-fs може додавати на диск\-результат таблицю розділів.
.PP
Додавання розділу може зробити образ диска суміснішим із деякими
віртуалізованими операційними системами, які не можуть працювати із
файловими системами, які безпосередньо розміщено на блоковому пристрої
(Linux не звертає на це уваги і може успішно працювати із обома типами
образів).
.PP
З іншого боку, якщо у вас є таблиця розділів, образ\-результат вже не буде
простою файловою системою. Наприклад, ви не зможете запустити \fBfsck\fR\|(8)
безпосередньо для поділеного на розділи образу диска. (Втім, можна буде
користуватися засобами libguestfs, зокрема \fBguestfish\fR\|(1) і
\&\fBvirt\-resize\fR\|(1)).
.PP
\fIПРИКЛАД\fR
.IX Subsection "ПРИКЛАД"
.PP
Додавання розділу \s-1MBR:\s0
.PP
.Vb 1
\& virt\-make\-fs \-\-partition \-\- input образ.img
.Ve
.PP
Якщо виведений образ диска може бути розміром у терабайт або більше, краще
скористатися сумісною із \s-1EFI/GPT\s0 таблицею розділів:
.PP
.Vb 1
\& virt\-make\-fs \-\-partition=gpt \-\-size=+4T \-\-format=qcow2 input диск.img
.Ve
.SS "ЗАЙВЕ МІСЦЕ"
.IX Subsection "ЗАЙВЕ МІСЦЕ"
На відміну від форматів, таких як tar і squashfs, файлова система не може
«просто підлаштуватися» під файли, які вона містить, — вона може потребувати
зайвого місця. Залежно від того, як ви збираєтеся використовувати виведений
образ, зайве місце може бути небажаним, таким, яке слід мінімізувати, або
бажаним для додавання згодом файлів. Типовою поведінкою virt-make-fs є
мінімізація зайвого місця, але ви можете скористатися прапорцем \fI\-\-size\fR
для створення зайвого місця, якщо вам це потрібно.
.PP
Альтернативним способом створити зайве місце без збільшення
образу\-результату є використання альтернативного формату образів дисків
(замість типового формату «raw"»). За допомогою параметра \fI\-\-format=qcow2\fR
можна визначити природний для qemu/KVM формат образів qcow2 (перш ніж
користуватися ним, перевірте, чи передбачено підтримку цього формату у
вашому гіпервізорі). Це надасть вам змогу вибрати більший розмір за
допомогою \fI\-\-size\fR так, щоб зайве місце було розподілено у образі лише
після того, як ви спробуєте на ньому щось зберегти.
.PP
Не забувайте, що ви також можете скористатися локальними командами, зокрема
\&\fBresize2fs\fR\|(8) та \fBvirt\-resize\fR\|(1), для зміни розмірів наявних файлових
систем або повторно запустити virt-make-fs для збирання іншого образу «з
нуля».
.PP
\fIПРИКЛАД\fR
.IX Subsection "ПРИКЛАД"
.PP
.Vb 1
\& virt\-make\-fs \-\-format=qcow2 \-\-size=+200M input output.img
.Ve
.SH "ПАРАМЕТРИ"
.IX Header "ПАРАМЕТРИ"
.IP "\fB\-\-help\fR" 4
.IX Item "--help"
Показати коротку довідку.
.IP "\fB\-\-floppy\fR" 4
.IX Item "--floppy"
Створити віртуальну дискету.
.Sp
У поточній версії буде попередньо вибрано розмір (1440 кБ), тип розділу
(\s-1MBR\s0) і тип файлової системи (\s-1VFAT\s0). У майбутньому також може бути вибрано
геометрію.
.IP "\fB\-\-size=\fRN" 4
.IX Item "--size=N"
.PD 0
.IP "\fB\-\-size=+\fRN" 4
.IX Item "--size=+N"
.IP "\fB\-s\fR N" 4
.IX Item "-s N"
.IP "\fB\-s\fR \fB+\fRN" 4
.IX Item "-s +N"
.PD
Скористайтеся параметром \fI\-\-size\fR (або \fI\-s\fR), щоб вибрати розмір
образу\-результату.
.Sp
Якщо цей параметр \fIне\fR вказано, образ\-результат буде точно таким великим,
щоб умістити усі файли без зайвої витрати місця.
.Sp
Щоб вибрати для диска\-результату фіксований розмір, вкажіть значення розміру
з суфіксом b/K/M/G/T/P/E, який позначає байти, кілобайти, мегабайти,
гігабайти, терабайти, петабайти або ексабайти. Диск має бути достатньо
об'ємним, щоб умістити усі вхідні файли. Якщо розмір диска виявиться
недостатнім, вам буде повідомлено про помилку.
.Sp
Щоб лишити на диску зайве місце, вкажіть \f(CW\*(C`+\*(C'\fR (символ «плюс») із числовим
значенням та суфіксом b/K/M/G/T/P/E , який позначає байти, кілобайти,
мегабайти, гігабайти, терабайти, петабайти або ексабайти. Наприклад,
\&\fI\-\-size=+200M\fR означає «достатньо місця для вхідних файлів та (приблизно)
зайві 200 МБ вільного місця».
.Sp
Зауважте, що virt-make-fs estimates використовує оцінки вільного місця на
диску, тому створені програмою файлові системи не міститимуть рівно стільки
вільного місця, скільки ви вкажете. (Створення файлової системи, яка
міститиме рівно стільки місця, скільки було вказано користувачем, є доволі
складним і тривалим завданням.)
.IP "\fB\-\-format=\fRФОРМАТ" 4
.IX Item "--format=ФОРМАТ"
.PD 0
.IP "\fB\-F\fR ФОРМАТ" 4
.IX Item "-F ФОРМАТ"
.PD
Вибрати формат образу диска\-результату.
.Sp
Типовимт є \f(CW\*(C`raw\*(C'\fR (простий розріджений образ диска).
.IP "\fB\-\-type=\fRФС" 4
.IX Item "--type=ФС"
.PD 0
.IP "\fB\-t\fR ФС" 4
.IX Item "-t ФС"
.PD
Вибрати тип файлової системи для виведення даних.
.Sp
Типовим значенням є \f(CW\*(C`ext2\*(C'\fR.
.Sp
Тут можна скористатися будь\-якою файловою системою, підтримку читання і
запису для якої передбачено у libguestfs.
.IP "\fB\-\-label=\fRМІТКА" 4
.IX Item "--label=МІТКА"
Встановити мітку файлової системи.
.IP "\fB\-\-partition\fR" 4
.IX Item "--partition"
.PD 0
.IP "\fB\-\-partition=\fRТИП РОЗДІЛУ" 4
.IX Item "--partition=ТИП РОЗДІЛУ"
.PD
Якщо його вказано, цей прапорець додає таблицю розділів \s-1MBR\s0 на виведений
програмою образ диска.
.Sp
Ви можете змінити тип таблиці розділів, наприклад, вказати
\&\fI\-\-partition=gpt\fR для великих дисків.
.Sp
Для \s-1MBR\s0 virt-make-fs встановлює значення байта типу розділу автоматично.
.IP "\fB\-v\fR" 4
.IX Item "-v"
.PD 0
.IP "\fB\-\-verbose\fR" 4
.IX Item "--verbose"
.PD
Увімкнути виведення діагностичних даних.
.IP "\fB\-V\fR" 4
.IX Item "-V"
.PD 0
.IP "\fB\-\-version\fR" 4
.IX Item "--version"
.PD
Показати дані щодо версії і завершити роботу.
.IP "\fB\-x\fR" 4
.IX Item "-x"
Увімкнути трасування libguestfs.
.SH "ТАКОЖ ПЕРЕГЛЯНЬТЕ"
.IX Header "ТАКОЖ ПЕРЕГЛЯНЬТЕ"
\&\fBguestfish\fR\|(1), \fBvirt\-format\fR\|(1), \fBvirt\-resize\fR\|(1), \fBvirt\-tar\-in\fR\|(1),
\&\fBmkisofs\fR\|(1), \fBgenisoimage\fR\|(1), \fBmksquashfs\fR\|(1), \fBmke2fs\fR\|(8),
\&\fBresize2fs\fR\|(8), \fBguestfs\fR\|(3), http://libguestfs.org/.
.SH "АВТОР"
.IX Header "АВТОР"
Richard W.M. Jones http://people.redhat.com/~rjones/
.SH "АВТОРСЬКІ ПРАВА"
.IX Header "АВТОРСЬКІ ПРАВА"
Copyright (C) 2010\-2019 Red Hat Inc.
.SH "LICENSE"
.IX Header "LICENSE"
.SH "BUGS"
.IX Header "BUGS"
To get a list of bugs against libguestfs, use this link:
https://bugzilla.redhat.com/buglist.cgi?component=libguestfs&product=Virtualization+Tools
.PP
To report a new bug against libguestfs, use this link:
https://bugzilla.redhat.com/enter_bug.cgi?component=libguestfs&product=Virtualization+Tools
.PP
When reporting a bug, please supply:
.IP "\(bu" 4
The version of libguestfs.
.IP "\(bu" 4
Where you got libguestfs (eg. which Linux distro, compiled from source, etc)
.IP "\(bu" 4
Describe the bug accurately and give a way to reproduce it.
.IP "\(bu" 4
Run \fBlibguestfs\-test\-tool\fR\|(1) and paste the \fBcomplete, unedited\fR
output into the bug report.
