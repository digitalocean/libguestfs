.\" Automatically generated by Podwrapper::Man 1.38.0 (Pod::Simple 3.35)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "virt-diff 1"
.TH virt-diff 1 "2018-02-09" "libguestfs-1.38.0" "Virtualization Support"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "НАЗВА"
.IX Header "НАЗВА"
virt-diff \*(-- показ відмінностей між файлами у двох віртуальних машинах
.SH "КОРОТКИЙ ОПИС"
.IX Header "КОРОТКИЙ ОПИС"
.Vb 1
\& virt\-diff [\-\-параметри] \-d домен1 \-D домен2
\&
\& virt\-diff [\-\-параметри] \-a диск1.img [\-a ...] \-A диск2.img [\-A ...]
.Ve
.SH "ОПИС"
.IX Header "ОПИС"
\&\f(CW\*(C`virt\-diff\*(C'\fR показує список відмінностей між файлами у двох віртуальних
машинах або на двох образах дисків. Звичайним випадком застосування є показ
змін у віртуальній машині після певного проміжку роботи: можна зробити
знімок, запустити віртуальну машину, а потмі скористатися цією програмою для
перегляду змін, які відрізняють новий стан віртуальної машини і старий її
знімок.
.PP
Ця програма виявить відмінності у назвах файлів, розмірах файлів,
контрольних сумах, розширених атрибутах, вмісті файлів та інших даних з
віртуальної машини або образу диска. Втім, вона \fBне\fR шукатиме відмінності у
завантажувачі, невикористаному місці між розділами або всередині файлових
систем, «прихованих» секторах тощо. Іншими словами, це не інструмент
вивчення питань безпеки або ретельного дослідження.
.PP
Щоб вказати дві гостьові системи, вам слід скористатися параметром \fI\-a\fR або
\&\fI\-d\fR для першої гостьової системи і параметром \fI\-A\fR або \fI\-D\fR для
другої. Типовий варіант команди:
.PP
.Vb 1
\& virt\-diff \-a старий.img \-A новий.img
.Ve
.PP
або з використанням відомих libvirt назв:
.PP
.Vb 1
\& virt\-diff \-d oldguest \-D newguest
.Ve
.SH "ПАРАМЕТРИ"
.IX Header "ПАРАМЕТРИ"
.IP "\fB\-\-help\fR" 4
.IX Item "--help"
Показати коротку довідку.
.IP "\fB\-a\fR файл" 4
.IX Item "-a файл"
.PD 0
.IP "\fB\-\-add\fR файл" 4
.IX Item "--add файл"
.PD
Додати \fIфайл\fR, який має бути образом диска з першої віртуальної
машини. Якщо у віртуальній машині декілька блокових пристроїв, вам слід
вказати їх усі за допомогою окремих записів параметра \fI\-a\fR.
.Sp
Формат образу диска визначається автоматично. Щоб перевизначити його і
примусово використати певний формат, скористайтеся параметром
\&\fI\-\-format=..\fR.
.IP "\fB\-a\fR адреса" 4
.IX Item "-a адреса"
.PD 0
.IP "\fB\-\-add\fR адреса" 4
.IX Item "--add адреса"
.PD
Додати віддалений диск. Див. \*(L"ДОДАВАННЯ ВІДДАЛЕНОГО СХОВИЩА\*(R" in \fBguestfish\fR\|(1).
.IP "\fB\-\-all\fR" 4
.IX Item "--all"
Те саме, що \fI\-\-extra\-stats\fR \fI\-\-times\fR \fI\-\-uids\fR \fI\-\-xattrs\fR.
.IP "\fB\-\-atime\fR" 4
.IX Item "--atime"
Типово, зміни у часі доступу до файла ігноруватимуться, оскільки вони,
зазвичай, не варті уваги. Якщо буде використано цей параметр, програма
показуватиме і відмінності у значеннях часу доступу.
.IP "\fB\-A\fR файл" 4
.IX Item "-A файл"
.PD 0
.IP "\fB\-A\fR адреса" 4
.IX Item "-A адреса"
.PD
Додати образ диска із іншої віртуальної машини.
.IP "\fB\-\-checksum\fR" 4
.IX Item "--checksum"
.PD 0
.IP "\fB\-\-checksum=crc|md5|sha1|sha224|sha256|sha384|sha512\fR" 4
.IX Item "--checksum=crc|md5|sha1|sha224|sha256|sha384|sha512"
.PD
Використовувати контрольну суму вмісту файла для визначення випадків зміни
вмісту файла.
.Sp
Без аргументів, типово, буде використано \fImd5\fR. За допомогою аргумента ви
можете вказати тип контрольної суми, яку буде використано. Якщо прапорець не
вказано, для визначення того, чи було змінено файл, буде використано часові
параметри та розмір файла.
.IP "\fB\-c\fR адреса" 4
.IX Item "-c адреса"
.PD 0
.IP "\fB\-\-connect\fR адреса" 4
.IX Item "--connect адреса"
.PD
Якщо використовується libvirt, встановити з’єднання з вказаним \fI\s-1URI\s0\fR. Якщо
пропущено, з’єднання буде встановлено з типовим гіпервізором libvirt.
.Sp
Якщо вказати блокові пристрої гостьових систем безпосередньо (\fI\-a\fR),
libvirt не буде використовуватися взагалі.
.IP "\fB\-\-csv\fR" 4
.IX Item "--csv"
Вивести результати до формату \s-1CSV\s0 (записів, відокремлених комами). Дані у
цьому форматі можна просто імпортувати до баз даних і електронних
таблиць. Втім, варто ознайомитися із розділом \*(L"НОТАТКА ЩОДО ФОРМАТУ \s-1CSV\*(R"\s0,
наведеним нижче.
.IP "\fB\-\-dir\-links\fR" 4
.IX Item "--dir-links"
The default is to ignore changes in the number of links in directory
entries, since those are unlikely to be interesting.  Using this flag shows
changes to the nlink field of directories.
.IP "\fB\-\-dir\-times\fR" 4
.IX Item "--dir-times"
Типово, програма ігнорує зміну часових параметрів для записів каталогів,
оскільки така зміна навряд чи є цікавою для користувача. За допомогою цього
прапорця ви можете наказати програмі показувати зміни у полях часових
параметрів каталогів.
.IP "\fB\-d\fR гість" 4
.IX Item "-d гість"
.PD 0
.IP "\fB\-\-domain\fR гість" 4
.IX Item "--domain гість"
.PD
Додати всі диски з вказаної гостьової системи libvirt як першої гостьової
системи. \s-1UUID\s0 доменів можна використовувати замість назв.
.IP "\fB\-D\fR гість" 4
.IX Item "-D гість"
Додати всі диски з вказаної гостьової системи libvirt як другої гостьової
системи. \s-1UUID\s0 доменів можна використовувати замість назв.
.IP "\fB\-\-echo\-keys\fR" 4
.IX Item "--echo-keys"
Типово, якщо virt-diff попросить вас ввести ключ або пароль, програма не
відтворюватиме введені символи на екрані. Якщо ви не боїтеся
TEMPEST\-нападів, або у вашій кімнаті нікого, окрім вас, немає, ви можете
скористатися цим прапорцем, щоб бачити, які саме символи ви вводите.
.IP "\fB\-\-extra\-stats\fR" 4
.IX Item "--extra-stats"
Показати додаткові дані.
.IP "\fB\-\-format=raw|qcow2|..\fR" 4
.IX Item "--format=raw|qcow2|.."
.PD 0
.IP "\fB\-\-format\fR" 4
.IX Item "--format"
.PD
Типовим значенням для параметра \fI\-a\fR/\fI\-A\fR є автоматичне визначення формату
образу диска. Використання цього параметра примусово визначає значення
параметрів \fI\-a\fR/\fI\-A\fR формату диска у наступному рядку
команди. Використання параметра \fI\-\-format\fR без аргументу перемикає програму
у режим автоматичного визначення у наступних параметрах \fI\-a\fR/\fI\-A\fR.
.Sp
Приклад:
.Sp
.Vb 1
\& virt\-diff \-\-format=raw \-a disk.img [...]
.Ve
.Sp
примусове встановлення формату без обробки (без автоматичного визначення)
для \fIdisk.img\fR.
.Sp
.Vb 1
\& virt\-diff \-\-format=raw \-a disk.img \-\-format \-a another.img [...]
.Ve
.Sp
примусове встановлення формату без обробки (без автоматичного визначення)
для \fIdiskimg\fR і повернення до автоматичного визначення для \fIanother.img\fR.
.Sp
Якщо ви користуєтеся ненадійними образами гостьових систем у необробленому
форматі, вам слід скористатися цим параметром для визначення формату
диска. Таким чином можна уникнути можливих проблем з захистом для
сформованих зловмисниками гостьових систем (\s-1CVE\-2010\-3851\s0).
.IP "\fB\-h\fR" 4
.IX Item "-h"
.PD 0
.IP "\fB\-\-human\-readable\fR" 4
.IX Item "--human-readable"
.PD
Показати розміри файлів у зручному для читання форматі.
.IP "\fB\-\-keys\-from\-stdin\fR" 4
.IX Item "--keys-from-stdin"
Прочитати параметри ключа або пароля із джерела стандартного
введення. Типово програма намагається читати паролі від користувача
відкриттям \fI/dev/tty\fR.
.IP "\fB\-\-times\fR" 4
.IX Item "--times"
Показати поля часу.
.IP "\fB\-\-time\-days\fR" 4
.IX Item "--time-days"
Показувати поля часу у форматі днів до поточного (від’ємні значення для днів
у майбутньому).
.Sp
Зауважте, що \f(CW0\fR у виведених даних означає «менше 1 одного дня до поточного
моменту» або «вік файла — від 0 до 86399 секунд».
.IP "\fB\-\-time\-relative\fR" 4
.IX Item "--time-relative"
Показувати поля часу у форматі секунд до поточного моменту (від’ємні
значення для часу у майбутньому).
.IP "\fB\-\-time\-t\fR" 4
.IX Item "--time-t"
Показувати поля часу у форматі секунд з моменту початку епохи \s-1UNIX.\s0
.IP "\fB\-\-uids\fR" 4
.IX Item "--uids"
Показати поля \s-1UID\s0 і \s-1GID.\s0
.IP "\fB\-v\fR" 4
.IX Item "-v"
.PD 0
.IP "\fB\-\-verbose\fR" 4
.IX Item "--verbose"
.PD
Увімкнути докладний показ повідомлень з метою діагностики.
.IP "\fB\-V\fR" 4
.IX Item "-V"
.PD 0
.IP "\fB\-\-version\fR" 4
.IX Item "--version"
.PD
Показати дані щодо версії і завершити роботу.
.IP "\fB\-x\fR" 4
.IX Item "-x"
Увімкнути трасування викликів програмного інтерфейсу libguestfs.
.IP "\fB\-\-xattrs\fR" 4
.IX Item "--xattrs"
Показати розширені атрибути.
.SH "ЗАУВАЖЕННЯ ЩОДО ФОРМАТУ CSV"
.IX Header "ЗАУВАЖЕННЯ ЩОДО ФОРМАТУ CSV"
Формат значень, які відокремлено комами (\s-1CSV\s0), є оманливо простим. Може
\&\fIздатися\fR, що його просто обробляти, але насправді це зовсім не так.
.PP
Міф: достатньо розділити поля за комами. Реальність: поділ комами \fIне\fR
працює у надійний спосіб. Ось приклад із двома стовпчиками:
.PP
.Vb 1
\& "foo,bar",baz
.Ve
.PP
Міф: слід читати файл за рядками, один рядок за одну операцію
читання. Реальність: читання за рядками \fIне\fR працює у надійний спосіб. Ось
приклад із одним рядком:
.PP
.Vb 2
\& "foo
\& bar",baz
.Ve
.PP
Для скриптів командної оболонки скористайтеся \f(CW\*(C`csvtool\*(C'\fR
(https://github.com/Chris00/ocaml\-csv також є серед пакунків основних
дистрибутивів Linux).
.PP
Для інших мов програмування використовуйте бібліотеку для обробки даних \s-1CSV\s0
(наприклад, \f(CW\*(C`Text::CSV\*(C'\fR для Perl або вбудовану бібліотеку csv Python).
.PP
У більшості електронних таблиць та баз даних передбачено можливості
безпосереднього імпортування даних \s-1CSV.\s0
.SH "СТАН ВИХОДУ"
.IX Header "СТАН ВИХОДУ"
Ця програма повертає значення 0 у разі успішного завершення і ненульове
значення, якщо сталася помилка.
.SH "ТАКОЖ ПЕРЕГЛЯНЬТЕ"
.IX Header "ТАКОЖ ПЕРЕГЛЯНЬТЕ"
\&\fBguestfs\fR\|(3), \fBguestfish\fR\|(1), \fBvirt\-cat\fR\|(1), \fBvirt\-copy\-out\fR\|(1),
\&\fBvirt\-ls\fR\|(1), \fBvirt\-tar\-out\fR\|(1), http://libguestfs.org/.
.SH "АВТОР"
.IX Header "АВТОР"
Richard W.M. Jones http://people.redhat.com/~rjones/
.SH "АВТОРСЬКІ ПРАВА"
.IX Header "АВТОРСЬКІ ПРАВА"
Copyright (C) 2009\-2018 Red Hat Inc.
.SH "LICENSE"
.IX Header "LICENSE"
.SH "BUGS"
.IX Header "BUGS"
To get a list of bugs against libguestfs, use this link:
https://bugzilla.redhat.com/buglist.cgi?component=libguestfs&product=Virtualization+Tools
.PP
To report a new bug against libguestfs, use this link:
https://bugzilla.redhat.com/enter_bug.cgi?component=libguestfs&product=Virtualization+Tools
.PP
When reporting a bug, please supply:
.IP "\(bu" 4
The version of libguestfs.
.IP "\(bu" 4
Where you got libguestfs (eg. which Linux distro, compiled from source, etc)
.IP "\(bu" 4
Describe the bug accurately and give a way to reproduce it.
.IP "\(bu" 4
Run \fBlibguestfs\-test\-tool\fR\|(1) and paste the \fBcomplete, unedited\fR
output into the bug report.
