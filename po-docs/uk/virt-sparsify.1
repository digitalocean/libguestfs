.\" Automatically generated by Podwrapper::Man 1.40.2 (Pod::Simple 3.35)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "virt-sparsify 1"
.TH virt-sparsify 1 "2019-02-07" "libguestfs-1.40.2" "Virtualization Support"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "НАЗВА"
.IX Header "НАЗВА"
virt-sparsify — зробити диск віртуальної машини розрідженим
.SH "КОРОТКИЙ ОПИС"
.IX Header "КОРОТКИЙ ОПИС"
.Vb 1
\& virt\-sparsify [\-\-параметри] вхідний_диск вихідний_диск
\&
\& virt\-sparsify [\-\-параметри] \-\-in\-place диск
.Ve
.SH "ОПИС"
.IX Header "ОПИС"
Virt-sparsify — інструмент, який може зробити диск віртуальної машини (або
будь\-який образ диска) розрідженим, тобто спеціально зменшеним. Це означає,
що вільне місце в образі диска можна буде перетворити на вільне місце в
основній системі.
.PP
Virt-sparsify може знаходити і розріджувати вільне місце у більшості
файлових систем (наприклад у ext2/3/4, btrfs, \s-1NTFS\s0 тощо), а також у фізичних
томах \s-1LVM.\s0
.PP
Крім того, програма virt-sparsify може перетворювати диски з одного формату
на інший, наприклад, перетворити образ диска у простому форматі (raw) на
розріджений образ у форматі qcow2.
.PP
Virt-sparsify може працювати з будь\-яким образом диска, не лише з образами
віртуальних машин. Втім, якщо у вашій віртуальній машині декілька дисків і
використано керування томами, virt-sparsify працюватиме, але не дуже
ефективно (http://bugzilla.redhat.com/887826).
.SS "ВАЖЛИВЕ ЗАУВАЖЕННЯ ЩОДО РОЗРІДЖЕНИХ ВИВЕДЕНИХ ОБРАЗІВ"
.IX Subsection "ВАЖЛИВЕ ЗАУВАЖЕННЯ ЩОДО РОЗРІДЖЕНИХ ВИВЕДЕНИХ ОБРАЗІВ"
Якщо вхідними даними є образ raw, буде виведено розріджені дані raw. \fBВам
слід перевірити розмір виведених даних за допомогою інструмента, який
обробляє розріджені дані\fR, наприклад \f(CW\*(C`du \-sh\*(C'\fR. Різниця може бути досить
значною:
.PP
.Vb 4
\& $ ls \-lh test1.img
\& \-rw\-rw\-r\-\-. 1 rjones rjones 100M Aug  8 08:08 test1.img
\& $ du \-sh test1.img
\& 3.6M   test1.img
.Ve
.PP
(Порівняйте видимий розмір у \fB100 МБ\fR зі справжнім розміром у \fB3,6 МБ\fR)
.SS "ВАЖЛИВІ ОБМЕЖЕННЯ"
.IX Subsection "ВАЖЛИВІ ОБМЕЖЕННЯ"
.IP "\(bu" 4
До використання цього інструмента віртуальну машину \fIслід зупинити\fR.
.IP "\(bu" 4
Virt-sparsify може потребувати для роботи удвічі більшого місця на диску,
ніж розмір початкового образу диска (1 тимчасова копія + 1 образ
призначення). Ця оцінка є максимальною, і зазвичай потрібно набагато менше
місця.
.Sp
Якщо ви використовуєте параметр \fI\-\-in\-place\fR, значні обсяги місця на диску
для тимчасового зберігання даних \fBне\fR знадобляться.
.IP "\(bu" 4
Virt-sparsify не може змінювати розміри образів дисків. Для зміни розмірів
дисків скористайтеся \fBvirt\-resize\fR\|(1).
.IP "\(bu" 4
Virt-sparsify не може працювати із зашифрованими дисками. У libguestfs
передбачено підтримку самих зашифрованих дисків, але зашифровані диски не
може бути розріджено.
.IP "\(bu" 4
Virt-sparsify ще не може розріджувати місце між розділами. Зауважте, що це
місце часто використовується для критичних даних, зокрема завантажувачів,
тому, насправді, воно може бути зовсім не таким зайвим, як може здатися.
.IP "\(bu" 4
У режимі копіювання внутрішні знімки qcow2 не копіюються на образ
призначення.
.PP
Перш ніж розпочати користування цією програмою, вам також варто ознайомитися
зі сторінками підручника щодо пов'язаних із нею інструментів,
\&\fBvirt\-filesystems\fR\|(1) та \fBvirt\-df\fR\|(1).
.SH "ПРИКЛАДИ"
.IX Header "ПРИКЛАДИ"
Типовий приклад використання:
.PP
.Vb 1
\& virt\-sparsify вхідний_диск вихідний_диск
.Ve
.PP
Ця команда копіює \f(CW\*(C`вхідний_диск\*(C'\fR на диск \f(CW\*(C`вихідний_диск\*(C'\fR, роблячи
результат розрідженим. Диск \f(CW\*(C`вихідний_диск\*(C'\fR буде створено або перезаписано,
якщо такий диск уже існує. Програма сама визначить формат вхідного диска
(наприклад qcow2) і використає той самий формат для вихідного диска.
.PP
Для перетворення диска з одного формату на інший скористайтеся параметром
\&\fI\-\-convert\fR:
.PP
.Vb 1
\& virt\-sparsify disk.raw \-\-convert qcow2 disk.qcow2
.Ve
.PP
Virt-sparsify намагається занулити і розрідити вільне місце на усіх файлових
системах, які вдасться знайти на початковому образі диска. Ви можете
наказати програмі ігнорувати (не занулювати вільне місце) певні файлові
системи за допомогою такої команди:
.PP
.Vb 1
\& virt\-sparsify \-\-ignore /dev/sda1 вхідний_диск вихідний_диск
.Ve
.PP
Щоб отримати список файлових систем на образі диска, скористайтеся командою
\&\fBvirt\-filesystems\fR\|(1).
.PP
Починаючи з версії virt-sparsify ≥ 1.26, ви можете розріджувати образ
диска на місці, ось так:
.PP
.Vb 1
\& virt\-sparsify \-\-in\-place disk.img
.Ve
.SH "ПАРАМЕТРИ"
.IX Header "ПАРАМЕТРИ"
.IP "\fB\-\-help\fR" 4
.IX Item "--help"
Показати довідкове повідомлення.
.IP "\fB\-\-check\-tmpdir\fR \fBignore\fR" 4
.IX Item "--check-tmpdir ignore"
.PD 0
.IP "\fB\-\-check\-tmpdir\fR \fBcontinue\fR" 4
.IX Item "--check-tmpdir continue"
.IP "\fB\-\-check\-tmpdir\fR \fBwarn\fR" 4
.IX Item "--check-tmpdir warn"
.IP "\fB\-\-check\-tmpdir\fR \fBfail\fR" 4
.IX Item "--check-tmpdir fail"
.PD
Переконайтеся, чи достатньо вільного місця у каталозі, вказаному за
допомогою змінної середовища \*(L"\s-1TMPDIR\*(R"\s0 або параметра \fI\-\-tmp\fR, для
завершення дії. Це лише оцінка.
.Sp
Якщо під час перевірки буде виявлено проблему, ви можете піти одним з таких
шляхів:
.RS 4
.IP "\(bu" 4
\&\fBігнорувати\fR її,
.IP "\(bu" 4
вивести попередження і \fBпродовжити\fR,
.IP "\(bu" 4
\&\fBпопередити\fR і почекати, доки користувач натисне клавішу Enter (типова
поведінка) або
.IP "\(bu" 4
\&\fBвивести попередження про помилку\fR і завершити роботу.
.RE
.RS 4
.Sp
Цей параметр не можна поєднувати із параметром \fI\-\-in\-place\fR.
.RE
.IP "\fB\-\-colors\fR" 4
.IX Item "--colors"
.PD 0
.IP "\fB\-\-colours\fR" 4
.IX Item "--colours"
.PD
Використовувати послідовності символів \s-1ANSI\s0 для розфарбовування
повідомлень. Ці послідовності типово використовуються, якщо дані виводяться
на термінал tty.  Якщо дані, виведені програмою, спрямовуються до файла,
послідовності визначення кольорів \s-1ANSI\s0 буде вимкнено, якщо ви не додасте до
команди цей параметр.
.IP "\fB\-\-compress\fR" 4
.IX Item "--compress"
Стиснути файл виведених даних. Це працює, \fIлише\fR якщо форматом виведення
даних є \f(CW\*(C`qcow2\*(C'\fR.
.Sp
Цей параметр не можна поєднувати із параметром \fI\-\-in\-place\fR.
.IP "\fB\-\-convert\fR raw" 4
.IX Item "--convert raw"
.PD 0
.IP "\fB\-\-convert\fR qcow2" 4
.IX Item "--convert qcow2"
.IP "\fB\-\-convert\fR [інші формати]" 4
.IX Item "--convert [інші формати]"
.PD
Використовувати \f(CW\*(C`формат виведення\*(C'\fR як формат образу призначення. Якщо цей
параметр не вказано, буде використано той самий формат, що і у вхідних
даних.
.Sp
Підтримуваними і працездатними форматами виведення є такі: \f(CW\*(C`raw\*(C'\fR, \f(CW\*(C`qcow2\*(C'\fR,
\&\f(CW\*(C`vdi\*(C'\fR.
.Sp
Ви також можете скористатися будь\-яким іншим форматом, підтримку якого
передбачено у програми \fBqemu\-img\fR\|(1), наприклад \f(CW\*(C`vmdk\*(C'\fR, але підтримка
інших форматів повністю залежить від можливостей qemu.
.Sp
Зазвичай, варто визначати формат за допомогою \fI\-\-convert\fR, оскільки тоді
virt-sparsify не доведеться вгадувати формат вхідних даних.
.Sp
Скоригувати формат виведення даних можна за допомогою параметрів
\&\fI\-\-compress\fR, \fI\-o\fR.
.Sp
Цей параметр не можна поєднувати із параметром \fI\-\-in\-place\fR.
.IP "\fB\-\-echo\-keys\fR" 4
.IX Item "--echo-keys"
Типово, якщо virt-sparcify попросить вас ввести ключ або пароль, програма не
відтворюватиме введені символи на екрані. Якщо ви не боїтеся
TEMPEST\-нападів, або у вашій кімнаті нікого, окрім вас, немає, ви можете
скористатися цим прапорцем, щоб бачити, які саме символи ви вводите.
.IP "\fB\-\-format\fR raw" 4
.IX Item "--format raw"
.PD 0
.IP "\fB\-\-format\fR qcow2" 4
.IX Item "--format qcow2"
.PD
Вказати формат образу диска вхідних даних. Якщо цей прапорець не вказано,
його буде автоматично визначено на основі даних самого образу.
.Sp
Якщо ви працюєте із образами дисків гостьових систем у форматі raw із
ненадійних джерел, вам слід завжди вказувати назву формату.
.IP "\fB\-\-ignore\fR файлова_система" 4
.IX Item "--ignore файлова_система"
.PD 0
.IP "\fB\-\-ignore\fR група_томів" 4
.IX Item "--ignore група_томів"
.PD
Ігнорувати вказану файлову систему.
.Sp
Якщо не використовується \fI\-\-in\-place\fR, вільне місце у файловій системі не
буде занулено, але наявні нульові блоки все одно буде розріджено.
.Sp
Якщо використовується \fI\-\-in\-place\fR, файлову систему буде повністю
проігноровано.
.Sp
У другій формі команда призведе до ігнорування вказаної за назвою групи
томів. Використовуйте назву групи томів без префікса \fI/dev/\fR, наприклад
\&\fI\-\-ignore vg_foo\fR
.Sp
Цей параметр можна вказувати декілька разів.
.IP "\fB\-\-in\-place\fR" 4
.IX Item "--in-place"
Виконати розрідження на місці замість розрідження копіюванням. Див. розділ
\&\*(L"РОЗРІДЖЕННЯ НА МІСЦІ\*(R" нижче.
.IP "\fB\-\-key\fR \s-1SELECTOR\s0" 4
.IX Item "--key SELECTOR"
Specify a key for \s-1LUKS,\s0 to automatically open a \s-1LUKS\s0 device when using the
inspection.  \f(CW\*(C`SELECTOR\*(C'\fR can be in one of the following formats:
.RS 4
.ie n .IP "\fB\-\-key\fR ""DEVICE"":key:KEY_STRING" 4
.el .IP "\fB\-\-key\fR \f(CWDEVICE\fR:key:KEY_STRING" 4
.IX Item "--key DEVICE:key:KEY_STRING"
Use the specified \f(CW\*(C`KEY_STRING\*(C'\fR as passphrase.
.ie n .IP "\fB\-\-key\fR ""DEVICE"":file:FILENAME" 4
.el .IP "\fB\-\-key\fR \f(CWDEVICE\fR:file:FILENAME" 4
.IX Item "--key DEVICE:file:FILENAME"
Read the passphrase from \fI\s-1FILENAME\s0\fR.
.RE
.RS 4
.RE
.IP "\fB\-\-keys\-from\-stdin\fR" 4
.IX Item "--keys-from-stdin"
Прочитати параметри ключа або пароля із джерела стандартного
введення. Типово програма намагається читати паролі від користувача
відкриттям \fI/dev/tty\fR.
.IP "\fB\-\-machine\-readable\fR" 4
.IX Item "--machine-readable"
.PD 0
.IP "\fB\-\-machine\-readable\fR=format" 4
.IX Item "--machine-readable=format"
.PD
За допомогою цього параметра можна зробити виведені дані придатнішими для
обробки комп'ютером, якщо для цієї обробки використовуються інші
програми. Див. \*(L"ПРИДАТНЕ ДО ЧИТАННЯ КОМП'ЮТЕРОМ ВИВЕДЕННЯ\*(R" нижче.
.IP "\fB\-o\fR параметр[,параметр,...]" 4
.IX Item "-o параметр[,параметр,...]"
Передати параметри \fI\-o\fR до програми \fBqemu\-img\fR\|(1) для коригування формату
виведення даних.  Перелік доступних параметрів залежить від формату
виведення (див. \fI\-\-convert\fR) і встановленої версії програми qemu-img.
.Sp
Вам слід скористатися \fI\-o\fR не більше одного разу. Щоб передати декілька
параметрів, відокремте їх комами. Приклад:
.Sp
.Vb 2
\& virt\-sparsify \-\-convert qcow2 \e
\&   \-o cluster_size=512,preallocation=metadata ...
.Ve
.Sp
Цей параметр не можна поєднувати із параметром \fI\-\-in\-place\fR.
.IP "\fB\-q\fR" 4
.IX Item "-q"
.PD 0
.IP "\fB\-\-quiet\fR" 4
.IX Item "--quiet"
.PD
Цей параметр вимикає смужки поступу та інші необов'язкові до виведення дані.
.IP "\fB\-\-tmp\fR блоковий_пристрій" 4
.IX Item "--tmp блоковий_пристрій"
.PD 0
.IP "\fB\-\-tmp\fR каталог" 4
.IX Item "--tmp каталог"
.PD
Лише у режимі копіювання, використати вказаний за назвою пристрій або
каталог як місце для тимчасової накладки (див. також \*(L"\s-1TMPDIR\*(R"\s0 нижче).
.Sp
Якщо як параметр вказано блоковий пристрій, блоковий пристрій буде записано
безпосередньо. \fBЗауважте, що при цьому з блокового пристрою буде повністю
витерто наявні дані\fR.
.Sp
Якщо як параметр вказано каталог, визначення параметра буде рівнозначним
заданню значення змінної середовища \*(L"\s-1TMPDIR\*(R"\s0.
.Sp
Цей параметр не можна поєднувати із параметром \fI\-\-in\-place\fR.
.IP "\fB\-\-tmp\fR prebuilt:файл" 4
.IX Item "--tmp prebuilt:файл"
Лише у режимі копіювання, спеціалізований параметр \fI\-\-tmp prebuilt:файл\fR
(де \f(CW\*(C`prebuilt:\*(C'\fR слід записувати буквально) наказує virt-sparsify
використовувати як місце зберігання тимчасових даних файл qcow2 \f(CW\*(C`файл\*(C'\fR.
.RS 4
.IP "\(bu" 4
Файл \fBмає\fR бути наново форматовано як qcow2, а вхідний диск буде резервним
файлом.
.IP "\(bu" 4
Якщо ви повторно запускатимете virt-sparsify, вам \fBслід\fR повторно
створювати файл перед кожним запуском.
.IP "\(bu" 4
Virt-sparsify не вилучає цей файл.
.RE
.RS 4
.Sp
Цей параметр використовується oVirt, де потрібен спеціальним чином
форматований тимчасовий файл.
.RE
.IP "\fB\-v\fR" 4
.IX Item "-v"
.PD 0
.IP "\fB\-\-verbose\fR" 4
.IX Item "--verbose"
.PD
Увімкнути докладний показ повідомлень з метою діагностики.
.IP "\fB\-V\fR" 4
.IX Item "-V"
.PD 0
.IP "\fB\-\-version\fR" 4
.IX Item "--version"
.PD
Показати дані щодо версії і завершити роботу.
.IP "\fB\-x\fR" 4
.IX Item "-x"
Увімкнути трасування викликів програмного інтерфейсу libguestfs.
.IP "\fB\-\-zero\fR розділ" 4
.IX Item "--zero розділ"
.PD 0
.IP "\fB\-\-zero\fR логічний_том" 4
.IX Item "--zero логічний_том"
.PD
Занулити вміст вказаного за назвою розділу або логічного тому у гостьовій
системі. Усі дані на пристрої буде втрачено, але буде досягнуто чудової
розрідженості! Цей параметр можна вказувати в одній команді декілька разів.
.SH "РОЗРІДЖЕННЯ НА МІСЦІ"
.IX Header "РОЗРІДЖЕННЯ НА МІСЦІ"
Починаючи з virt-sparsify ≥ 1.26, програма може виконувати розрідження
на місці (замість копіювання з вхідного диска до вихідного диска). Таке
розрідження є ефективнішим. Втім, за його використання не можна отримати
більше місця у основній системі, якщо порівнювати із розрідженням із
копіюванням.
.PP
Щоб скористатися цим режимом, вкажіть образ диска, який буде змінено на
місці:
.PP
.Vb 1
\& virt\-sparsify \-\-in\-place disk.img
.Ve
.PP
Деякі параметри несумісні із цим режимом: \fI\-\-convert\fR, \fI\-\-compress\fR і
\&\fI\-o\fR, оскільки їхнє використання вимагає загальної зміни формату диска;
\&\fI\-\-check\-tmpdir\fR, оскільки великі обсяги для зберігання тимчасових даних не
потрібні.
.PP
Розрідження на місці працює завдяки підтримці відкидання (або обрізання чи
скасування отримання пам'яті).
.SH "ПРИДАТНЕ ДО ЧИТАННЯ КОМП'ЮТЕРОМ ВИВЕДЕННЯ"
.IX Header "ПРИДАТНЕ ДО ЧИТАННЯ КОМП'ЮТЕРОМ ВИВЕДЕННЯ"
Для виведення даних у зручному для машинної обробки форматі можна
скористатися параметром \fI\-\-machine\-readable\fR. Додавання цього параметра
робить зручним використання virt-sparcify з інших програм, графічних
інтерфейсів тощо.
.PP
Існує два способи використання цього параметра.
.PP
Спочатку, скористайтеся цим параметром окремо, щоб опитати систему щодо
можливостей виконуваного файла virt-sparcify.  Типово виведені дані
виглядатимуть якось так:
.PP
.Vb 4
\& $ virt\-sparsify \-\-machine\-readable
\& virt\-sparsify
\& ntfs
\& btrfs
.Ve
.PP
Виводиться список можливостей, по одній на рядок, і програма завершує роботу
зі станом 0.
.PP
По\-друге, можна скористатися цим параметром у поєднанні із іншими
параметрами для того, щоб зробити звичайні виведені програмою дані
придатнішими для подальшої машинної обробки.
.PP
У поточній версії це означає таке:
.IP "1." 4
Повідомлення смужки поступу можна обробляти зі стандартного виведення,
шукаючи їх за таким формальним виразом:
.Sp
.Vb 1
\& ^[0\-9]+/[0\-9]+$
.Ve
.IP "2." 4
Програма, яка надсилає виклик, має обробляти повідомлення, надіслані до
стандартного виведення, (окрім повідомлень смужки поступу) як повідомлення
щодо стану. Ці повідомлення може бути записано до журналу і/або показано
користувачеві.
.IP "3." 4
Програма, яка надсилає виклик, має обробляти повідомлення, надіслані до
stderr як повідомлення про помилки. Крім того, virt-sparcify завершує роботу
із ненульовим кодом стану, якщо станеться критична помилка.
.PP
Підтримку параметра \fI\-\-machine\-readable\fR передбачено у всіх версіях
virt-sparsify.
.PP
It is possible to specify a format string for controlling the output; see
\&\*(L"\s-1ADVANCED MACHINE READABLE OUTPUT\*(R"\s0 in \fBguestfs\fR\|(3).
.SH "WINDOWS 8"
.IX Header "WINDOWS 8"
«Швидкий запуск» Windows 8 може заважати роботі
virt-sparsify. Див. \*(L"ПРИСИПЛЯННЯ \s-1WINDOWS\s0  ТА ШВИДКИЙ ЗАПУСК
\&\s-1WINDOWS 8\*(R"\s0 in \fBguestfs\fR\|(3).
.SH "ЗМІННІ СЕРЕДОВИЩА"
.IX Header "ЗМІННІ СЕРЕДОВИЩА"
.IP "ТИМЧАСОВИЙ КАТАЛОГ" 4
.IX Item "ТИМЧАСОВИЙ КАТАЛОГ"
Розташування каталогу тимчасових даних, який використовуватиметься для
потенційно великих тимчасових файлів\-накладок.
.Sp
У virt-sparsify ≥ 1.28 ви можете перевизначити цю змінну середовища за
допомогою параметра \fI\-\-tmp\fR.
.Sp
На диску має бути достатньо вільного місця для найгіршого варіанта для
повної копії початкового диска (\fIвіртуального\fR розміру). Якщо місця
недостатньо, слід встановити для \f(CW$TMPDIR\fR значення, яке вказує на інший
каталог, де достатньо місця.
.Sp
Типовим значенням є \fI/tmp\fR.
.Sp
Зауважте, що якщо файловою системою у \f(CW$TMPDIR\fR є tmpfs (наприклад, якщо
файловою системою \fI/tmp\fR є tmpfs, або якщо ви використовуєте
\&\f(CW\*(C`TMPDIR=/dev/shm\*(C'\fR), типовим розміром tmpfs є максимальне значення
\&\fIполовини\fR фізичної оперативної пам'яті. Якщо virt-sparsify знадобиться
більше місця, програма просто «повисне». Якщо ви побоюєтеся такого перебігу
подій, або скористайтеся реальним диском, або збільште максимальний розмір
точки монтування tmpfs, наприклад так:
.Sp
.Vb 1
\& mount \-o remount,size=10G /tmp
.Ve
.Sp
Якщо ви використовуєте параметр \fI\-\-in\-place\fR, значні обсяги місця на диску
для тимчасового зберігання даних \fBне\fR знадобляться.
.PP
Опис інших змінних середовища наведено у розділі \*(L"\s-1ENVIRONMENT
VARIABLES\*(R"\s0 in \fBguestfs\fR\|(3).
.SH "СТАН ВИХОДУ"
.IX Header "СТАН ВИХОДУ"
Ця програма повертає 0, якщо дію виконано без жодної помилки (це не
обов'язково означає, що місце на диску звільнилося).
.PP
Ненульовий код виходу вказує на помилку.
.PP
Якщо повернуто код виходу \f(CW3\fR і було використано параметр \fI\-\-in\-place\fR, це
означає, що у libguestfs не передбачено підтримки відкидання зайвого місця
на диску, отже, доведеться користуватися режимом копіювання.
.SH "ТАКОЖ ПЕРЕГЛЯНЬТЕ"
.IX Header "ТАКОЖ ПЕРЕГЛЯНЬТЕ"
\&\fBvirt\-df\fR\|(1), \fBvirt\-filesystems\fR\|(1), \fBvirt\-resize\fR\|(1), \fBvirt\-rescue\fR\|(1),
\&\fBguestfs\fR\|(3), \fBguestfish\fR\|(1), \fBtruncate\fR\|(1), \fBfallocate\fR\|(1),
\&\fBqemu\-img\fR\|(1), http://libguestfs.org/.
.SH "АВТОР"
.IX Header "АВТОР"
Richard W.M. Jones http://people.redhat.com/~rjones/
.SH "АВТОРСЬКІ ПРАВА"
.IX Header "АВТОРСЬКІ ПРАВА"
Copyright (C) 2011\-2019 Red Hat Inc.
.SH "LICENSE"
.IX Header "LICENSE"
.SH "BUGS"
.IX Header "BUGS"
To get a list of bugs against libguestfs, use this link:
https://bugzilla.redhat.com/buglist.cgi?component=libguestfs&product=Virtualization+Tools
.PP
To report a new bug against libguestfs, use this link:
https://bugzilla.redhat.com/enter_bug.cgi?component=libguestfs&product=Virtualization+Tools
.PP
When reporting a bug, please supply:
.IP "\(bu" 4
The version of libguestfs.
.IP "\(bu" 4
Where you got libguestfs (eg. which Linux distro, compiled from source, etc)
.IP "\(bu" 4
Describe the bug accurately and give a way to reproduce it.
.IP "\(bu" 4
Run \fBlibguestfs\-test\-tool\fR\|(1) and paste the \fBcomplete, unedited\fR
output into the bug report.
