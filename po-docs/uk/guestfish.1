.\" Automatically generated by Pod::Man 2.25 (Pod::Simple 3.16)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\" ========================================================================
.\"
.IX Title "guestfish 1"
.TH guestfish 1 "2012-07-10" "libguestfs-1.18.5" "Virtualization Support"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "НАЗВА"
.IX Header "НАЗВА"
guestfish \- the libguestfs Filesystem Interactive SHell
.SH "КОРОТКИЙ ОПИС"
.IX Header "КОРОТКИЙ ОПИС"
.Vb 1
\& guestfish [\-\-options] [commands]
\&
\& guestfish
\&
\& guestfish [\-\-ro|\-\-rw] \-a disk.img
\&
\& guestfish [\-\-ro|\-\-rw] \-a disk.img \-m dev[:mountpoint]
\&
\& guestfish \-d libvirt\-domain
\&
\& guestfish [\-\-ro|\-\-rw] \-a disk.img \-i
\&
\& guestfish \-d libvirt\-domain \-i
.Ve
.SH "ПОПЕРЕДЖЕННЯ"
.IX Header "ПОПЕРЕДЖЕННЯ"
Using guestfish in read/write mode on live virtual machines can be
dangerous, potentially causing disk corruption.  Use the \fI\-\-ro\fR (read-only)
option to use guestfish safely if the disk image or virtual machine might be
live.
.SH "ОПИС"
.IX Header "ОПИС"
Guestfish is a shell and command-line tool for examining and modifying
virtual machine filesystems.  It uses libguestfs and exposes all of the
functionality of the guestfs \s-1API\s0, see \fIguestfs\fR\|(3).
.PP
Guestfish gives you structured access to the libguestfs \s-1API\s0, from shell
scripts or the command line or interactively.  If you want to rescue a
broken virtual machine image, you should look at the \fIvirt\-rescue\fR\|(1)
command.
.SH "ПРИКЛАДИ"
.IX Header "ПРИКЛАДИ"
.SS "As an interactive shell"
.IX Subsection "As an interactive shell"
.Vb 1
\& $ guestfish
\& 
\& Welcome to guestfish, the libguestfs filesystem interactive shell for
\& editing virtual machine filesystems.
\& 
\& Type: \*(Aqhelp\*(Aq for a list of commands
\&       \*(Aqman\*(Aq to read the manual
\&       \*(Aqquit\*(Aq to quit the shell
\& 
\& ><fs> add\-ro disk.img
\& ><fs> run
\& ><fs> list\-filesystems
\& /dev/sda1: ext4
\& /dev/vg_guest/lv_root: ext4
\& /dev/vg_guest/lv_swap: swap
\& ><fs> mount /dev/vg_guest/lv_root /
\& ><fs> cat /etc/fstab
\& # /etc/fstab
\& # Created by anaconda
\& [...]
\& ><fs> exit
.Ve
.SS "From shell scripts"
.IX Subsection "From shell scripts"
Create a new \f(CW\*(C`/etc/motd\*(C'\fR file in a guest or disk image:
.PP
.Vb 6
\& guestfish <<_EOF_
\& add disk.img
\& run
\& mount /dev/vg_guest/lv_root /
\& write /etc/motd "Welcome, new users"
\& _EOF_
.Ve
.PP
List the \s-1LVM\s0 logical volumes in a disk image:
.PP
.Vb 4
\& guestfish \-a disk.img \-\-ro <<_EOF_
\& run
\& lvs
\& _EOF_
.Ve
.PP
List all the filesystems in a disk image:
.PP
.Vb 4
\& guestfish \-a disk.img \-\-ro <<_EOF_
\& run
\& list\-filesystems
\& _EOF_
.Ve
.SS "On one command line"
.IX Subsection "On one command line"
Update \f(CW\*(C`/etc/resolv.conf\*(C'\fR in a guest:
.PP
.Vb 3
\& guestfish \e
\&   add disk.img : run : mount /dev/vg_guest/lv_root / : \e
\&   write /etc/resolv.conf "nameserver 1.2.3.4"
.Ve
.PP
Edit \f(CW\*(C`/boot/grub/grub.conf\*(C'\fR interactively:
.PP
.Vb 4
\& guestfish \-\-rw \-\-add disk.img \e
\&   \-\-mount /dev/vg_guest/lv_root \e
\&   \-\-mount /dev/sda1:/boot \e
\&   edit /boot/grub/grub.conf
.Ve
.SS "Mount disks automatically"
.IX Subsection "Mount disks automatically"
Use the \fI\-i\fR option to automatically mount the disks from a virtual
machine:
.PP
.Vb 1
\& guestfish \-\-ro \-a disk.img \-i cat /etc/group
\&
\& guestfish \-\-ro \-d libvirt\-domain \-i cat /etc/group
.Ve
.PP
Another way to edit \f(CW\*(C`/boot/grub/grub.conf\*(C'\fR interactively is:
.PP
.Vb 1
\& guestfish \-\-rw \-a disk.img \-i edit /boot/grub/grub.conf
.Ve
.SS "As a script interpreter"
.IX Subsection "As a script interpreter"
Create a 100MB disk containing an ext2\-formatted partition:
.PP
.Vb 5
\& #!/usr/bin/guestfish \-f
\& sparse test1.img 100M
\& run
\& part\-disk /dev/sda mbr
\& mkfs ext2 /dev/sda1
.Ve
.SS "Start with a prepared disk"
.IX Subsection "Start with a prepared disk"
An alternate way to create a 100MB disk called \f(CW\*(C`test1.img\*(C'\fR containing a
single ext2\-formatted partition:
.PP
.Vb 1
\& guestfish \-N fs
.Ve
.PP
To list what is available do:
.PP
.Vb 1
\& guestfish \-N help | less
.Ve
.SS "Дистанційне керування"
.IX Subsection "Дистанційне керування"
.Vb 4
\& eval "\`guestfish \-\-listen\`"
\& guestfish \-\-remote add\-ro disk.img
\& guestfish \-\-remote run
\& guestfish \-\-remote lvs
.Ve
.SH "ПАРАМЕТРИ"
.IX Header "ПАРАМЕТРИ"
.IP "\fB\-\-help\fR" 4
.IX Item "--help"
Displays general help on options.
.IP "\fB\-h\fR" 4
.IX Item "-h"
.PD 0
.IP "\fB\-\-cmd\-help\fR" 4
.IX Item "--cmd-help"
.PD
Lists all available guestfish commands.
.IP "\fB\-h команда\fR" 4
.IX Item "-h команда"
.PD 0
.IP "\fB\-\-cmd\-help команда\fR" 4
.IX Item "--cmd-help команда"
.PD
Displays detailed help on a single command \f(CW\*(C`cmd\*(C'\fR.
.IP "\fB\-a образ\fR" 4
.IX Item "-a образ"
.PD 0
.IP "\fB\-\-add образ\fR" 4
.IX Item "--add образ"
.PD
Add a block device or virtual machine image to the shell.
.Sp
The format of the disk image is auto-detected.  To override this and force a
particular format use the \fI\-\-format=..\fR option.
.Sp
Using this flag is mostly equivalent to using the \f(CW\*(C`add\*(C'\fR command, with
\&\f(CW\*(C`readonly:true\*(C'\fR if the \fI\-\-ro\fR flag was given, and with \f(CW\*(C`format:...\*(C'\fR if
the \fI\-\-format=...\fR flag was given.
.IP "\fB\-c адреса\fR" 4
.IX Item "-c адреса"
.PD 0
.IP "\fB\-\-connect адреса\fR" 4
.IX Item "--connect адреса"
.PD
When used in conjunction with the \fI\-d\fR option, this specifies the libvirt
\&\s-1URI\s0 to use.  The default is to use the default libvirt connection.
.IP "\fB\-\-csh\fR" 4
.IX Item "--csh"
If using the \fI\-\-listen\fR option and a csh-like shell, use this option.  See
section \*(L"\s-1REMOTE\s0 \s-1CONTROL\s0 \s-1AND\s0 \s-1CSH\s0\*(R" below.
.IP "\fB\-d домен\-libvirt\fR" 4
.IX Item "-d домен-libvirt"
.PD 0
.IP "\fB\-\-domain домен\-libvirt\fR" 4
.IX Item "--domain домен-libvirt"
.PD
Add disks from the named libvirt domain.  If the \fI\-\-ro\fR option is also
used, then any libvirt domain can be used.  However in write mode, only
libvirt domains which are shut down can be named here.
.Sp
Domain UUIDs can be used instead of names.
.Sp
Using this flag is mostly equivalent to using the \f(CW\*(C`add\-domain\*(C'\fR command,
with \f(CW\*(C`readonly:true\*(C'\fR if the \fI\-\-ro\fR flag was given, and with \f(CW\*(C`format:...\*(C'\fR
if the \fI\-\-format=...\fR flag was given.
.IP "\fB\-D\fR" 4
.IX Item "-D"
.PD 0
.IP "\fB\-\-no\-dest\-paths\fR" 4
.IX Item "--no-dest-paths"
.PD
Don't tab-complete paths on the guest filesystem.  It is useful to be able
to hit the tab key to complete paths on the guest filesystem, but this
causes extra \*(L"hidden\*(R" guestfs calls to be made, so this option is here to
allow this feature to be disabled.
.IP "\fB\-\-echo\-keys\fR" 4
.IX Item "--echo-keys"
When prompting for keys and passphrases, guestfish normally turns echoing
off so you cannot see what you are typing.  If you are not worried about
Tempest attacks and there is no one else in the room you can specify this
flag to see what you are typing.
.IP "\fB\-f файл\fR" 4
.IX Item "-f файл"
.PD 0
.IP "\fB\-\-file файл\fR" 4
.IX Item "--file файл"
.PD
Read commands from \f(CW\*(C`file\*(C'\fR.  To write pure guestfish scripts, use:
.Sp
.Vb 1
\& #!/usr/bin/guestfish \-f
.Ve
.IP "\fB\-\-format=raw|qcow2|..\fR" 4
.IX Item "--format=raw|qcow2|.."
.PD 0
.IP "\fB\-\-format\fR" 4
.IX Item "--format"
.PD
The default for the \fI\-a\fR option is to auto-detect the format of the disk
image.  Using this forces the disk format for \fI\-a\fR options which follow on
the command line.  Using \fI\-\-format\fR with no argument switches back to
auto-detection for subsequent \fI\-a\fR options.
.Sp
Приклад:
.Sp
.Vb 1
\& guestfish \-\-format=raw \-a disk.img
.Ve
.Sp
forces raw format (no auto-detection) for \f(CW\*(C`disk.img\*(C'\fR.
.Sp
.Vb 1
\& guestfish \-\-format=raw \-a disk.img \-\-format \-a another.img
.Ve
.Sp
forces raw format (no auto-detection) for \f(CW\*(C`disk.img\*(C'\fR and reverts to
auto-detection for \f(CW\*(C`another.img\*(C'\fR.
.Sp
If you have untrusted raw-format guest disk images, you should use this
option to specify the disk format.  This avoids a possible security problem
with malicious guests (\s-1CVE\-2010\-3851\s0).  See also \*(L"add-drive-opts\*(R".
.IP "\fB\-i\fR" 4
.IX Item "-i"
.PD 0
.IP "\fB\-\-inspector\fR" 4
.IX Item "--inspector"
.PD
Using \fIvirt\-inspector\fR\|(1) code, inspect the disks looking for an operating
system and mount filesystems as they would be mounted on the real virtual
machine.
.Sp
Typical usage is either:
.Sp
.Vb 1
\& guestfish \-d myguest \-i
.Ve
.Sp
(for an inactive libvirt domain called \fImyguest\fR), or:
.Sp
.Vb 1
\& guestfish \-\-ro \-d myguest \-i
.Ve
.Sp
(for active domains, readonly), or specify the block device directly:
.Sp
.Vb 1
\& guestfish \-\-rw \-a /dev/Guests/MyGuest \-i
.Ve
.Sp
Note that the command line syntax changed slightly over older versions of
guestfish.  You can still use the old syntax:
.Sp
.Vb 1
\& guestfish [\-\-ro] \-i disk.img
\&
\& guestfish [\-\-ro] \-i libvirt\-domain
.Ve
.Sp
Using this flag is mostly equivalent to using the \f(CW\*(C`inspect\-os\*(C'\fR command and
then using other commands to mount the filesystems that were found.
.IP "\fB\-\-keys\-from\-stdin\fR" 4
.IX Item "--keys-from-stdin"
Read key or passphrase parameters from stdin.  The default is to try to read
passphrases from the user by opening \f(CW\*(C`/dev/tty\*(C'\fR.
.IP "\fB\-\-listen\fR" 4
.IX Item "--listen"
Fork into the background and listen for remote commands.  See section
\&\*(L"\s-1REMOTE\s0 \s-1CONTROL\s0 \s-1GUESTFISH\s0 \s-1OVER\s0 A \s-1SOCKET\s0\*(R" below.
.IP "\fB\-\-live\fR" 4
.IX Item "--live"
Connect to a live virtual machine.  (Experimental, see
\&\*(L"\s-1ATTACHING\s0 \s-1TO\s0 \s-1RUNNING\s0 \s-1DAEMONS\s0\*(R" in \fIguestfs\fR\|(3)).
.IP "\fB\-m пристрій[:точка_монтування[:параметри]]\fR" 4
.IX Item "-m пристрій[:точка_монтування[:параметри]]"
.PD 0
.IP "\fB\-\-mount пристрій[:точка_монтування[:параметри]]\fR" 4
.IX Item "--mount пристрій[:точка_монтування[:параметри]]"
.PD
Mount the named partition or logical volume on the given mountpoint.
.Sp
If the mountpoint is omitted, it defaults to \f(CW\*(C`/\*(C'\fR.
.Sp
You have to mount something on \f(CW\*(C`/\*(C'\fR before most commands will work.
.Sp
If any \fI\-m\fR or \fI\-\-mount\fR options are given, the guest is automatically
launched.
.Sp
If you don't know what filesystems a disk image contains, you can either run
guestfish without this option, then list the partitions, filesystems and LVs
available (see \*(L"list-partitions\*(R", \*(L"list-filesystems\*(R" and \*(L"lvs\*(R"
commands), or you can use the \fIvirt\-filesystems\fR\|(1) program.
.Sp
The third (and rarely used) part of the mount parameter is the list of mount
options used to mount the underlying filesystem.  If this is not given, then
the mount options are either the empty string or \f(CW\*(C`ro\*(C'\fR (the latter if the
\&\fI\-\-ro\fR flag is used).  By specifying the mount options, you override this
default choice.  Probably the only time you would use this is to enable ACLs
and/or extended attributes if the filesystem can support them:
.Sp
.Vb 1
\& \-m /dev/sda1:/:acl,user_xattr
.Ve
.Sp
Using this flag is equivalent to using the \f(CW\*(C`mount\-options\*(C'\fR command.
.IP "\fB\-n\fR" 4
.IX Item "-n"
.PD 0
.IP "\fB\-\-no\-sync\fR" 4
.IX Item "--no-sync"
.PD
Disable autosync.  This is enabled by default.  See the discussion of
autosync in the \fIguestfs\fR\|(3) manpage.
.IP "\fB\-N тип\fR" 4
.IX Item "-N тип"
.PD 0
.IP "\fB\-\-new тип\fR" 4
.IX Item "--new тип"
.IP "\fB\-N help\fR" 4
.IX Item "-N help"
.PD
Prepare a fresh disk image formatted as \*(L"type\*(R".  This is an alternative to
the \fI\-a\fR option: whereas \fI\-a\fR adds an existing disk, \fI\-N\fR creates a
preformatted disk with a filesystem and adds it.  See \*(L"\s-1PREPARED\s0 \s-1DISK\s0
\&\s-1IMAGES\s0\*(R" below.
.IP "\fB\-\-pipe\-error\fR" 4
.IX Item "--pipe-error"
If writes fail to pipe commands (see \*(L"\s-1PIPES\s0\*(R" below), then the command
returns an error.
.Sp
The default (also for historical reasons) is to ignore such errors so that:
.Sp
.Vb 1
\& ><fs> command_with_lots_of_output | head
.Ve
.Sp
doesn't give an error.
.IP "\fB\-\-progress\-bars\fR" 4
.IX Item "--progress-bars"
Enable progress bars, even when guestfish is used non-interactively.
.Sp
Progress bars are enabled by default when guestfish is used as an
interactive shell.
.IP "\fB\-\-no\-progress\-bars\fR" 4
.IX Item "--no-progress-bars"
Disable progress bars.
.IP "\fB\-\-remote[=pid]\fR" 4
.IX Item "--remote[=pid]"
Send remote commands to \f(CW$GUESTFISH_PID\fR or \f(CW\*(C`pid\*(C'\fR.  See section \*(L"\s-1REMOTE\s0
\&\s-1CONTROL\s0 \s-1GUESTFISH\s0 \s-1OVER\s0 A \s-1SOCKET\s0\*(R" below.
.IP "\fB\-r\fR" 4
.IX Item "-r"
.PD 0
.IP "\fB\-\-ro\fR" 4
.IX Item "--ro"
.PD
This changes the \fI\-a\fR, \fI\-d\fR and \fI\-m\fR options so that disks are added and
mounts are done read-only.
.Sp
The option must always be used if the disk image or virtual machine might be
running, and is generally recommended in cases where you don't need write
access to the disk.
.Sp
Note that prepared disk images created with \fI\-N\fR are not affected by this
option.  Also commands like \f(CW\*(C`add\*(C'\fR are not affected \- you have to specify
the \f(CW\*(C`readonly:true\*(C'\fR option explicitly if you need it.
.Sp
See also \*(L"\s-1OPENING\s0 \s-1DISKS\s0 \s-1FOR\s0 \s-1READ\s0 \s-1AND\s0 \s-1WRITE\s0\*(R" below.
.IP "\fB\-\-selinux\fR" 4
.IX Item "--selinux"
Enable SELinux support for the guest.  See \*(L"\s-1SELINUX\s0\*(R" in \fIguestfs\fR\|(3).
.IP "\fB\-v\fR" 4
.IX Item "-v"
.PD 0
.IP "\fB\-\-verbose\fR" 4
.IX Item "--verbose"
.PD
Enable very verbose messages.  This is particularly useful if you find a
bug.
.IP "\fB\-V\fR" 4
.IX Item "-V"
.PD 0
.IP "\fB\-\-version\fR" 4
.IX Item "--version"
.PD
Display the guestfish / libguestfs version number and exit.
.IP "\fB\-w\fR" 4
.IX Item "-w"
.PD 0
.IP "\fB\-\-rw\fR" 4
.IX Item "--rw"
.PD
This changes the \fI\-a\fR, \fI\-d\fR and \fI\-m\fR options so that disks are added and
mounts are done read-write.
.Sp
See \*(L"\s-1OPENING\s0 \s-1DISKS\s0 \s-1FOR\s0 \s-1READ\s0 \s-1AND\s0 \s-1WRITE\s0\*(R" below.
.IP "\fB\-x\fR" 4
.IX Item "-x"
Echo each command before executing it.
.SH "COMMANDS ON COMMAND LINE"
.IX Header "COMMANDS ON COMMAND LINE"
Any additional (non-option) arguments are treated as commands to execute.
.PP
Commands to execute should be separated by a colon (\f(CW\*(C`:\*(C'\fR), where the colon
is a separate parameter.  Thus:
.PP
.Vb 1
\& guestfish cmd [args...] : cmd [args...] : cmd [args...] ...
.Ve
.PP
If there are no additional arguments, then we enter a shell, either an
interactive shell with a prompt (if the input is a terminal) or a
non-interactive shell.
.PP
In either command line mode or non-interactive shell, the first command that
gives an error causes the whole shell to exit.  In interactive mode (with a
prompt) if a command fails, you can continue to enter commands.
.SH "USING launch (OR run)"
.IX Header "USING launch (OR run)"
As with \fIguestfs\fR\|(3), you must first configure your guest by adding disks,
then launch it, then mount any disks you need, and finally issue
actions/commands.  So the general order of the day is:
.IP "\(bu" 4
add or \-a/\-\-add
.IP "\(bu" 4
launch (aka run)
.IP "\(bu" 4
mount or \-m/\-\-mount
.IP "\(bu" 4
any other commands
.PP
\&\f(CW\*(C`run\*(C'\fR is a synonym for \f(CW\*(C`launch\*(C'\fR.  You must \f(CW\*(C`launch\*(C'\fR (or \f(CW\*(C`run\*(C'\fR)  your
guest before mounting or performing any other commands.
.PP
The only exception is that if any of the \fI\-i\fR, \fI\-m\fR, \fI\-\-mount\fR, \fI\-N\fR or
\&\fI\-\-new\fR options were given then \f(CW\*(C`run\*(C'\fR is done automatically, simply
because guestfish can't perform the action you asked for without doing this.
.SH "OPENING DISKS FOR READ AND WRITE"
.IX Header "OPENING DISKS FOR READ AND WRITE"
The guestfish, \fIguestmount\fR\|(1) and \fIvirt\-rescue\fR\|(1) options \fI\-\-ro\fR and
\&\fI\-\-rw\fR affect whether the other command line options \fI\-a\fR, \fI\-c\fR, \fI\-d\fR,
\&\fI\-i\fR and \fI\-m\fR open disk images read-only or for writing.
.PP
In libguestfs ≤ 1.10, guestfish, guestmount and virt-rescue defaulted to
opening disk images supplied on the command line for write.  To open a disk
image read-only you have to do \fI\-a image \-\-ro\fR.
.PP
This matters: If you accidentally open a live \s-1VM\s0 disk image writable then
you will cause irreversible disk corruption.
.PP
In a future libguestfs we intend to change the default the other way.  Disk
images will be opened read-only.  You will have to either specify
\&\fIguestfish \-\-rw\fR, \fIguestmount \-\-rw\fR, \fIvirt-rescue \-\-rw\fR, or change the
configuration file \f(CW\*(C`/etc/libguestfs\-tools.conf\*(C'\fR in order to get write
access for disk images specified by those other command line options.
.PP
This version of guestfish, guestmount and virt-rescue has a \fI\-\-rw\fR option
which does nothing (it is already the default).  However it is highly
recommended that you use this option to indicate that you need write access,
and prepare your scripts for the day when this option will be required for
write access.
.PP
\&\fBNote:\fR This does \fInot\fR affect commands like \*(L"add\*(R" and \*(L"mount\*(R", or any
other libguestfs program apart from guestfish and guestmount.
.SH "ЛАПКИ"
.IX Header "ЛАПКИ"
You can quote ordinary parameters using either single or double quotes.  For
example:
.PP
.Vb 1
\& add "file with a space.img"
\&
\& rm \*(Aq/file name\*(Aq
\&
\& rm \*(Aq/"\*(Aq
.Ve
.PP
A few commands require a list of strings to be passed.  For these, use a
whitespace-separated list, enclosed in quotes.  Strings containing
whitespace to be passed through must be enclosed in single quotes.  A
literal single quote must be escaped with a backslash.
.PP
.Vb 3
\& vgcreate VG "/dev/sda1 /dev/sdb1"
\& command "/bin/echo \*(Aqfoo      bar\*(Aq"
\& command "/bin/echo \e\*(Aqfoo\e\*(Aq"
.Ve
.SS "\s-1ESCAPE\s0 \s-1SEQUENCES\s0 \s-1IN\s0 \s-1DOUBLE\s0 \s-1QUOTED\s0 \s-1ARGUMENTS\s0"
.IX Subsection "ESCAPE SEQUENCES IN DOUBLE QUOTED ARGUMENTS"
In double-quoted arguments (only) use backslash to insert special
characters:
.ie n .IP """\ea""" 4
.el .IP "\f(CW\ea\fR" 4
.IX Item "a"
Символ гудка (дзвінка).
.ie n .IP """\eb""" 4
.el .IP "\f(CW\eb\fR" 4
.IX Item "b"
Символ «зворотній хід»
.ie n .IP """\ef""" 4
.el .IP "\f(CW\ef\fR" 4
.IX Item "f"
Form feed character.
.ie n .IP """\en""" 4
.el .IP "\f(CW\en\fR" 4
.IX Item "n"
Newline character.
.ie n .IP """\er""" 4
.el .IP "\f(CW\er\fR" 4
.IX Item "r"
Символ повернення каретки.
.ie n .IP """\et""" 4
.el .IP "\f(CW\et\fR" 4
.IX Item "t"
Символ горизонтальної табуляції
.ie n .IP """\ev""" 4
.el .IP "\f(CW\ev\fR" 4
.IX Item "v"
Символ вертикальної табуляції.
.ie n .IP """\e""""" 4
.el .IP "\f(CW\e""\fR" 4
.IX Item """"
A literal double quote character.
.ie n .IP """\eooo""" 4
.el .IP "\f(CW\eooo\fR" 4
.IX Item "ooo"
A character with octal value \fIooo\fR.  There must be precisely 3 octal digits
(unlike C).
.ie n .IP """\exhh""" 4
.el .IP "\f(CW\exhh\fR" 4
.IX Item "xhh"
A character with hex value \fIhh\fR.  There must be precisely 2 hex digits.
.Sp
In the current implementation \f(CW\*(C`\e000\*(C'\fR and \f(CW\*(C`\ex00\*(C'\fR cannot be used in strings.
.ie n .IP """\e\e""" 4
.el .IP "\f(CW\e\e\fR" 4
.IX Item ""
A literal backslash character.
.SH "OPTIONAL ARGUMENTS"
.IX Header "OPTIONAL ARGUMENTS"
Some commands take optional arguments.  These arguments appear in this
documentation as \f(CW\*(C`[argname:..]\*(C'\fR.  You can use them as in these examples:
.PP
.Vb 1
\& add\-drive\-opts filename
\&
\& add\-drive\-opts filename readonly:true
\&
\& add\-drive\-opts filename format:qcow2 readonly:false
.Ve
.PP
Each optional argument can appear at most once.  All optional arguments must
appear after the required ones.
.SH "ЧИСЛА"
.IX Header "ЧИСЛА"
This section applies to all commands which can take integers as parameters.
.SS "\s-1SIZE\s0 \s-1SUFFIX\s0"
.IX Subsection "SIZE SUFFIX"
When the command takes a parameter measured in bytes, you can use one of the
following suffixes to specify kilobytes, megabytes and larger sizes:
.IP "\fBk\fR, \fBK\fR або \fBKiB\fR" 4
.IX Item "k, K або KiB"
Розмір у кілобайтах (у одному кілобайті 1024 байтів).
.IP "\fB\s-1KB\s0\fR" 4
.IX Item "KB"
Розмір у одиницях СІ: 1000 байтів.
.IP "\fBM\fR або \fBMiB\fR" 4
.IX Item "M або MiB"
Розмір у мегабайтах (у одному мегабайті 1048576 байтів).
.IP "\fB\s-1MB\s0\fR" 4
.IX Item "MB"
Розмір у одиницях СІ: 1000000 байтів.
.IP "\fBG\fR або \fBGiB\fR" 4
.IX Item "G або GiB"
Розмір у гігабайтах (з множником 2**30).
.IP "\fB\s-1GB\s0\fR" 4
.IX Item "GB"
Розмір у одиницях СІ: 10**9 байтів.
.IP "\fBT\fR або \fBTiB\fR" 4
.IX Item "T або TiB"
Розмір у терабайтах (з множником 2**40).
.IP "\fB\s-1TB\s0\fR" 4
.IX Item "TB"
Розмір у одиницях СІ: 10**12 байтів.
.IP "\fBP\fR або \fBPiB\fR" 4
.IX Item "P або PiB"
Розмір у петабайтах (у одному петабайті 2**50 байтів).
.IP "\fB\s-1PB\s0\fR" 4
.IX Item "PB"
Розмір у одиницях СІ: 10**15 байтів.
.IP "\fBE\fR або \fBEiB\fR" 4
.IX Item "E або EiB"
Розмір у ексабайтах (у одному ексабайті 2**60 байтів).
.IP "\fB\s-1EB\s0\fR" 4
.IX Item "EB"
Розмір у одиницях СІ: 10**18 байтів.
.IP "\fBZ\fR або \fBZiB\fR" 4
.IX Item "Z або ZiB"
Розмір у зетабайтах (у одному зетабайті 2**70 байтів).
.IP "\fB\s-1ZB\s0\fR" 4
.IX Item "ZB"
Розмір у одиницях СІ: 10**21 байтів.
.IP "\fBY\fR або \fBYiB\fR" 4
.IX Item "Y або YiB"
Розмір у йотабайтах (у одному йотабайті 2**80 байтів).
.IP "\fB\s-1YB\s0\fR" 4
.IX Item "YB"
Розмір у одиницях СІ: 10**24 байтів.
.PP
Приклад:
.PP
.Vb 1
\& truncate\-size /file 1G
.Ve
.PP
would truncate the file to 1 gigabyte.
.PP
Be careful because a few commands take sizes in kilobytes or megabytes
(eg. the parameter to \*(L"memsize\*(R" is specified in megabytes already).
Adding a suffix will probably not do what you expect.
.SS "\s-1OCTAL\s0 \s-1AND\s0 \s-1HEXADECIMAL\s0 \s-1NUMBERS\s0"
.IX Subsection "OCTAL AND HEXADECIMAL NUMBERS"
For specifying the radix (base) use the C convention: \f(CW0\fR to prefix an
octal number or \f(CW\*(C`0x\*(C'\fR to prefix a hexadecimal number.  For example:
.PP
.Vb 3
\& 1234      decimal number 1234
\& 02322     octal number, equivalent to decimal 1234
\& 0x4d2     hexadecimal number, equivalent to decimal 1234
.Ve
.PP
When using the \f(CW\*(C`chmod\*(C'\fR command, you almost always want to specify an octal
number for the mode, and you must prefix it with \f(CW0\fR (unlike the Unix
\&\fIchmod\fR\|(1) program):
.PP
.Vb 2
\& chmod 0777 /public  # OK
\& chmod 777 /public   # WRONG! This is mode 777 decimal = 01411 octal.
.Ve
.PP
Commands that return numbers usually print them in decimal, but some
commands print numbers in other radices (eg. \f(CW\*(C`umask\*(C'\fR prints the mode in
octal, preceded by \f(CW0\fR).
.SH "WILDCARDS AND GLOBBING"
.IX Header "WILDCARDS AND GLOBBING"
Neither guestfish nor the underlying guestfs \s-1API\s0 performs wildcard expansion
(globbing) by default.  So for example the following will not do what you
expect:
.PP
.Vb 1
\& rm\-rf /home/*
.Ve
.PP
Assuming you don't have a directory called literally \f(CW\*(C`/home/*\*(C'\fR then the
above command will return an error.
.PP
To perform wildcard expansion, use the \f(CW\*(C`glob\*(C'\fR command.
.PP
.Vb 1
\& glob rm\-rf /home/*
.Ve
.PP
runs \f(CW\*(C`rm\-rf\*(C'\fR on each path that matches (ie. potentially running the command
many times), equivalent to:
.PP
.Vb 3
\& rm\-rf /home/jim
\& rm\-rf /home/joe
\& rm\-rf /home/mary
.Ve
.PP
\&\f(CW\*(C`glob\*(C'\fR only works on simple guest paths and not on device names.
.PP
If you have several parameters, each containing a wildcard, then glob will
perform a Cartesian product.
.SH "КОМЕНТАРІ"
.IX Header "КОМЕНТАРІ"
Any line which starts with a \fI#\fR character is treated as a comment and
ignored.  The \fI#\fR can optionally be preceded by whitespace, but \fBnot\fR by a
command.  For example:
.PP
.Vb 3
\& # this is a comment
\&         # this is a comment
\& foo # NOT a comment
.Ve
.PP
Blank lines are also ignored.
.SH "RUNNING COMMANDS LOCALLY"
.IX Header "RUNNING COMMANDS LOCALLY"
Any line which starts with a \fI!\fR character is treated as a command sent to
the local shell (\f(CW\*(C`/bin/sh\*(C'\fR or whatever \fIsystem\fR\|(3) uses).  For example:
.PP
.Vb 2
\& !mkdir local
\& tgz\-out /remote local/remote\-data.tar.gz
.Ve
.PP
will create a directory \f(CW\*(C`local\*(C'\fR on the host, and then export the contents
of \f(CW\*(C`/remote\*(C'\fR on the mounted filesystem to \f(CW\*(C`local/remote\-data.tar.gz\*(C'\fR.
(See \f(CW\*(C`tgz\-out\*(C'\fR).
.PP
To change the local directory, use the \f(CW\*(C`lcd\*(C'\fR command.  \f(CW\*(C`!cd\*(C'\fR will have no
effect, due to the way that subprocesses work in Unix.
.SS "\s-1LOCAL\s0 \s-1COMMANDS\s0 \s-1WITH\s0 \s-1INLINE\s0 \s-1EXECUTION\s0"
.IX Subsection "LOCAL COMMANDS WITH INLINE EXECUTION"
If a line starts with \fI<!\fR then the shell command is executed (as for
\&\fI!\fR), but subsequently any output (stdout) of the shell command is parsed
and executed as guestfish commands.
.PP
Thus you can use shell script to construct arbitrary guestfish commands
which are then parsed by guestfish.
.PP
For example it is tedious to create a sequence of files (eg. \f(CW\*(C`/foo.1\*(C'\fR
through \f(CW\*(C`/foo.100\*(C'\fR) using guestfish commands alone.  However this is simple
if we use a shell script to create the guestfish commands for us:
.PP
.Vb 1
\& <! for n in \`seq 1 100\`; do echo write /foo.$n $n; done
.Ve
.PP
or with names like \f(CW\*(C`/foo.001\*(C'\fR:
.PP
.Vb 1
\& <! for n in \`seq 1 100\`; do printf "write /foo.%03d %d\en" $n $n; done
.Ve
.PP
When using guestfish interactively it can be helpful to just run the shell
script first (ie. remove the initial \f(CW\*(C`<\*(C'\fR character so it is just an
ordinary \fI!\fR local command), see what guestfish commands it would run, and
when you are happy with those prepend the \f(CW\*(C`<\*(C'\fR character to run the
guestfish commands for real.
.SH "КАНАЛИ"
.IX Header "КАНАЛИ"
Use \f(CW\*(C`command <space> | command\*(C'\fR to pipe the output of the first
command (a guestfish command) to the second command (any host command).  For
example:
.PP
.Vb 1
\& cat /etc/passwd | awk \-F: \*(Aq$3 == 0 { print }\*(Aq
.Ve
.PP
(where \f(CW\*(C`cat\*(C'\fR is the guestfish cat command, but \f(CW\*(C`awk\*(C'\fR is the host awk
program).  The above command would list all accounts in the guest filesystem
which have \s-1UID\s0 0, ie. root accounts including backdoors.  Other examples:
.PP
.Vb 3
\& hexdump /bin/ls | head
\& list\-devices | tail \-1
\& tgz\-out / \- | tar ztf \-
.Ve
.PP
The space before the pipe symbol is required, any space after the pipe
symbol is optional.  Everything after the pipe symbol is just passed
straight to the host shell, so it can contain redirections, globs and
anything else that makes sense on the host side.
.PP
To use a literal argument which begins with a pipe symbol, you have to quote
it, eg:
.PP
.Vb 1
\& echo "|"
.Ve
.SH "HOME DIRECTORIES"
.IX Header "HOME DIRECTORIES"
If a parameter starts with the character \f(CW\*(C`~\*(C'\fR then the tilde may be expanded
as a home directory path (either \f(CW\*(C`~\*(C'\fR for the current user's home directory,
or \f(CW\*(C`~user\*(C'\fR for another user).
.PP
Note that home directory expansion happens for users known \fIon the host\fR,
not in the guest filesystem.
.PP
To use a literal argument which begins with a tilde, you have to quote it,
eg:
.PP
.Vb 1
\& echo "~"
.Ve
.SH "ЗАШИФРОВАНІ ДИСКИ"
.IX Header "ЗАШИФРОВАНІ ДИСКИ"
Libguestfs has some support for Linux guests encrypted according to the
Linux Unified Key Setup (\s-1LUKS\s0) standard, which includes nearly all whole
disk encryption systems used by modern Linux guests.  Currently only
LVM-on-LUKS is supported.
.PP
Identify encrypted block devices and partitions using \*(L"vfs-type\*(R":
.PP
.Vb 2
\& ><fs> vfs\-type /dev/sda2
\& crypto_LUKS
.Ve
.PP
Then open those devices using \*(L"luks-open\*(R".  This creates a device-mapper
device called \f(CW\*(C`/dev/mapper/luksdev\*(C'\fR.
.PP
.Vb 2
\& ><fs> luks\-open /dev/sda2 luksdev
\& Enter key or passphrase ("key"): <enter the passphrase>
.Ve
.PP
Finally you have to tell \s-1LVM\s0 to scan for volume groups on the newly created
mapper device:
.PP
.Vb 2
\& vgscan
\& vg\-activate\-all true
.Ve
.PP
The logical volume(s) can now be mounted in the usual way.
.PP
Before closing a \s-1LUKS\s0 device you must unmount any logical volumes on it and
deactivate the volume groups by calling \f(CW\*(C`vg\-activate false VG\*(C'\fR on each
one.  Then you can close the mapper device:
.PP
.Vb 2
\& vg\-activate false /dev/VG
\& luks\-close /dev/mapper/luksdev
.Ve
.SH "ШЛЯХИ У WINDOWS"
.IX Header "ШЛЯХИ У WINDOWS"
If a path is prefixed with \f(CW\*(C`win:\*(C'\fR then you can use Windows-style drive
letters and paths (with some limitations).  The following commands are
equivalent:
.PP
.Vb 1
\& file /WINDOWS/system32/config/system.LOG
\&
\& file win:\ewindows\esystem32\econfig\esystem.log
\&
\& file WIN:C:\eWindows\eSYSTEM32\eCONFIG\eSYSTEM.LOG
.Ve
.PP
The parameter is rewritten \*(L"behind the scenes\*(R" by looking up the position
where the drive is mounted, prepending that to the path, changing all
backslash characters to forward slash, then resolving the result using
\&\*(L"case-sensitive-path\*(R".  For example if the E: drive was mounted on \f(CW\*(C`/e\*(C'\fR
then the parameter might be rewritten like this:
.PP
.Vb 1
\& win:e:\efoo\ebar => /e/FOO/bar
.Ve
.PP
This only works in argument positions that expect a path.
.SH "ВИВАНТАЖЕННЯ ТА ОТРИМАННЯ ФАЙЛІВ"
.IX Header "ВИВАНТАЖЕННЯ ТА ОТРИМАННЯ ФАЙЛІВ"
For commands such as \f(CW\*(C`upload\*(C'\fR, \f(CW\*(C`download\*(C'\fR, \f(CW\*(C`tar\-in\*(C'\fR, \f(CW\*(C`tar\-out\*(C'\fR and
others which upload from or download to a local file, you can use the
special filename \f(CW\*(C`\-\*(C'\fR to mean \*(L"from stdin\*(R" or \*(L"to stdout\*(R".  For example:
.PP
.Vb 1
\& upload \- /foo
.Ve
.PP
reads stdin and creates from that a file \f(CW\*(C`/foo\*(C'\fR in the disk image, and:
.PP
.Vb 1
\& tar\-out /etc \- | tar tf \-
.Ve
.PP
writes the tarball to stdout and then pipes that into the external \*(L"tar\*(R"
command (see \*(L"\s-1PIPES\s0\*(R").
.PP
When using \f(CW\*(C`\-\*(C'\fR to read from stdin, the input is read up to the end of
stdin.  You can also use a special \*(L"heredoc\*(R"\-like syntax to read up to some
arbitrary end marker:
.PP
.Vb 5
\& upload \-<<END /foo
\& input line 1
\& input line 2
\& input line 3
\& END
.Ve
.PP
Any string of characters can be used instead of \f(CW\*(C`END\*(C'\fR.  The end marker must
appear on a line of its own, without any preceding or following characters
(not even spaces).
.PP
Note that the \f(CW\*(C`\-<<\*(C'\fR syntax only applies to parameters used to
upload local files (so-called \*(L"FileIn\*(R" parameters in the generator).
.SH "EXIT ON ERROR BEHAVIOUR"
.IX Header "EXIT ON ERROR BEHAVIOUR"
By default, guestfish will ignore any errors when in interactive mode
(ie. taking commands from a human over a tty), and will exit on the first
error in non-interactive mode (scripts, commands given on the command line).
.PP
If you prefix a command with a \fI\-\fR character, then that command will not
cause guestfish to exit, even if that (one) command returns an error.
.SH "REMOTE CONTROL GUESTFISH OVER A SOCKET"
.IX Header "REMOTE CONTROL GUESTFISH OVER A SOCKET"
Guestfish can be remote-controlled over a socket.  This is useful
particularly in shell scripts where you want to make several different
changes to a filesystem, but you don't want the overhead of starting up a
guestfish process each time.
.PP
Start a guestfish server process using:
.PP
.Vb 1
\& eval "\`guestfish \-\-listen\`"
.Ve
.PP
and then send it commands by doing:
.PP
.Vb 1
\& guestfish \-\-remote cmd [...]
.Ve
.PP
To cause the server to exit, send it the exit command:
.PP
.Vb 1
\& guestfish \-\-remote exit
.Ve
.PP
Note that the server will normally exit if there is an error in a command.
You can change this in the usual way.  See section \*(L"\s-1EXIT\s0 \s-1ON\s0 \s-1ERROR\s0
\&\s-1BEHAVIOUR\s0\*(R".
.SS "\s-1CONTROLLING\s0 \s-1MULTIPLE\s0 \s-1GUESTFISH\s0 \s-1PROCESSES\s0"
.IX Subsection "CONTROLLING MULTIPLE GUESTFISH PROCESSES"
The \f(CW\*(C`eval\*(C'\fR statement sets the environment variable \f(CW$GUESTFISH_PID\fR, which
is how the \fI\-\-remote\fR option knows where to send the commands.  You can
have several guestfish listener processes running using:
.PP
.Vb 7
\& eval "\`guestfish \-\-listen\`"
\& pid1=$GUESTFISH_PID
\& eval "\`guestfish \-\-listen\`"
\& pid2=$GUESTFISH_PID
\& ...
\& guestfish \-\-remote=$pid1 cmd
\& guestfish \-\-remote=$pid2 cmd
.Ve
.SS "\s-1REMOTE\s0 \s-1CONTROL\s0 \s-1AND\s0 \s-1CSH\s0"
.IX Subsection "REMOTE CONTROL AND CSH"
When using csh-like shells (csh, tcsh etc) you have to add the \fI\-\-csh\fR
option:
.PP
.Vb 1
\& eval "\`guestfish \-\-listen \-\-csh\`"
.Ve
.SS "\s-1REMOTE\s0 \s-1CONTROL\s0 \s-1DETAILS\s0"
.IX Subsection "REMOTE CONTROL DETAILS"
Remote control happens over a Unix domain socket called
\&\f(CW\*(C`/tmp/.guestfish\-$UID/socket\-$PID\*(C'\fR, where \f(CW$UID\fR is the effective user \s-1ID\s0
of the process, and \f(CW$PID\fR is the process \s-1ID\s0 of the server.
.PP
Guestfish client and server versions must match exactly.
.SS "\s-1USING\s0 \s-1REMOTE\s0 \s-1CONTROL\s0 \s-1ROBUSTLY\s0 \s-1FROM\s0 \s-1SHELL\s0 \s-1SCRIPTS\s0"
.IX Subsection "USING REMOTE CONTROL ROBUSTLY FROM SHELL SCRIPTS"
From Bash, you can use the following code which creates a guestfish
instance, correctly quotes the command line, handles failure to start, and
cleans up guestfish when the script exits:
.PP
.Vb 1
\& #!/bin/bash \-
\& 
\& set \-e
\& 
\& guestfish[0]="guestfish"
\& guestfish[1]="\-\-listen"
\& guestfish[2]="\-\-ro"
\& guestfish[3]="\-a"
\& guestfish[4]="disk.img"
\& 
\& GUESTFISH_PID=
\& eval $("${guestfish[@]}")
\& if [ \-z "$GUESTFISH_PID" ]; then
\&     echo "error: guestfish didn\*(Aqt start up, see error messages above"
\&     exit 1
\& fi
\& 
\& cleanup_guestfish ()
\& {
\&     guestfish \-\-remote \-\- exit >/dev/null 2>&1 ||:
\& }
\& trap cleanup_guestfish EXIT ERR
\& 
\& guestfish \-\-remote \-\- run
\& 
\& # ...
.Ve
.SS "\s-1REMOTE\s0 \s-1CONTROL\s0 \s-1RUN\s0 \s-1COMMAND\s0 \s-1HANGING\s0"
.IX Subsection "REMOTE CONTROL RUN COMMAND HANGING"
Using the \f(CW\*(C`run\*(C'\fR (or \f(CW\*(C`launch\*(C'\fR) command remotely in a command substitution
context hangs, ie. don't do (note the backquotes):
.PP
.Vb 1
\& a=\`guestfish \-\-remote run\`
.Ve
.PP
Since the \f(CW\*(C`run\*(C'\fR command produces no output on stdout, this is not useful
anyway.  For further information see
<https://bugzilla.redhat.com/show_bug.cgi?id=592910>.
.SH "PREPARED DISK IMAGES"
.IX Header "PREPARED DISK IMAGES"
Use the \fI\-N type\fR or \fI\-\-new type\fR parameter to select one of a set of
preformatted disk images that guestfish can make for you to save typing.
This is particularly useful for testing purposes.  This option is used
instead of the \fI\-a\fR option, and like \fI\-a\fR can appear multiple times (and
can be mixed with \fI\-a\fR).
.PP
The new disk is called \f(CW\*(C`test1.img\*(C'\fR for the first \fI\-N\fR, \f(CW\*(C`test2.img\*(C'\fR for
the second and so on.  Existing files in the current directory are
\&\fIoverwritten\fR.
.PP
The type briefly describes how the disk should be sized, partitioned, how
filesystem(s) should be created, and how content should be added.
Optionally the type can be followed by extra parameters, separated by \f(CW\*(C`:\*(C'\fR
(colon) characters.  For example, \fI\-N fs\fR creates a default 100MB,
sparsely-allocated disk, containing a single partition, with the partition
formatted as ext2.  \fI\-N fs:ext4:1G\fR is the same, but for an ext4 filesystem
on a 1GB disk instead.
.PP
To list the available types and any extra parameters they take, run:
.PP
.Vb 1
\& guestfish \-N help | less
.Ve
.PP
Note that the prepared filesystem is not mounted.  You would usually have to
use the \f(CW\*(C`mount /dev/sda1 /\*(C'\fR command or add the \fI\-m /dev/sda1\fR option.
.PP
If any \fI\-N\fR or \fI\-\-new\fR options are given, the guest is automatically
launched.
.SS "ПРИКЛАДИ"
.IX Subsection "ПРИКЛАДИ"
Create a 100MB disk with an ext4\-formatted partition:
.PP
.Vb 1
\& guestfish \-N fs:ext4
.Ve
.PP
Create a 32MB disk with a VFAT-formatted partition, and mount it:
.PP
.Vb 1
\& guestfish \-N fs:vfat:32M \-m /dev/sda1
.Ve
.PP
Create a blank 200MB disk:
.PP
.Vb 1
\& guestfish \-N disk:200M
.Ve
.SH "PROGRESS BARS"
.IX Header "PROGRESS BARS"
Some (not all) long-running commands send progress notification messages as
they are running.  Guestfish turns these messages into progress bars.
.PP
When a command that supports progress bars takes longer than two seconds to
run, and if progress bars are enabled, then you will see one appearing below
the command:
.PP
.Vb 2
\& ><fs> copy\-size /large\-file /another\-file 2048M
\& / 10% [#####\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-] 00:30
.Ve
.PP
The spinner on the left hand side moves round once for every progress
notification received from the backend.  This is a (reasonably) golden
assurance that the command is \*(L"doing something\*(R" even if the progress bar is
not moving, because the command is able to send the progress notifications.
When the bar reaches 100% and the command finishes, the spinner disappears.
.PP
Progress bars are enabled by default when guestfish is used interactively.
You can enable them even for non-interactive modes using \fI\-\-progress\-bars\fR,
and you can disable them completely using \fI\-\-no\-progress\-bars\fR.
.SH "GUESTFISH COMMANDS"
.IX Header "GUESTFISH COMMANDS"
The commands in this section are guestfish convenience commands, in other
words, they are not part of the \fIguestfs\fR\|(3) \s-1API\s0.
.SS "help"
.IX Subsection "help"
.Vb 2
\& help
\& help команда
.Ve
.PP
Без параметра показує загальну довідкову інформацію.
.PP
With a \f(CW\*(C`cmd\*(C'\fR parameter, this displays detailed help for that command.
.SS "quit | exit"
.IX Subsection "quit | exit"
This exits guestfish.  You can also use \f(CW\*(C`^D\*(C'\fR key.
.SS "alloc"
.IX Subsection "alloc"
.SS "allocate"
.IX Subsection "allocate"
.Vb 1
\& alloc filename size
.Ve
.PP
This creates an empty (zeroed) file of the given size, and then adds so it
can be further examined.
.PP
For more advanced image creation, see \fIqemu\-img\fR\|(1) utility.
.PP
Size can be specified using standard suffixes, eg. \f(CW\*(C`1M\*(C'\fR.
.PP
To create a sparse file, use \*(L"sparse\*(R" instead.  To create a prepared disk
image, see \*(L"\s-1PREPARED\s0 \s-1DISK\s0 \s-1IMAGES\s0\*(R".
.SS "copy-in"
.IX Subsection "copy-in"
.Vb 1
\& copy\-in local [local ...] /remotedir
.Ve
.PP
\&\f(CW\*(C`copy\-in\*(C'\fR copies local files or directories recursively into the disk
image, placing them in the directory called \f(CW\*(C`/remotedir\*(C'\fR (which must
exist).  This guestfish meta-command turns into a sequence of \*(L"tar-in\*(R" and
other commands as necessary.
.PP
Multiple local files and directories can be specified, but the last
parameter must always be a remote directory.  Wildcards cannot be used.
.SS "copy-out"
.IX Subsection "copy-out"
.Vb 1
\& copy\-out remote [remote ...] localdir
.Ve
.PP
\&\f(CW\*(C`copy\-out\*(C'\fR copies remote files or directories recursively out of the disk
image, placing them on the host disk in a local directory called \f(CW\*(C`localdir\*(C'\fR
(which must exist).  This guestfish meta-command turns into a sequence of
\&\*(L"download\*(R", \*(L"tar-out\*(R" and other commands as necessary.
.PP
Multiple remote files and directories can be specified, but the last
parameter must always be a local directory.  To download to the current
directory, use \f(CW\*(C`.\*(C'\fR as in:
.PP
.Vb 1
\& copy\-out /home .
.Ve
.PP
Wildcards cannot be used in the ordinary command, but you can use them with
the help of \*(L"glob\*(R" like this:
.PP
.Vb 1
\& glob copy\-out /home/* .
.Ve
.SS "delete-event"
.IX Subsection "delete-event"
.Vb 1
\& delete\-event назва
.Ve
.PP
Delete the event handler which was previously registered as \f(CW\*(C`name\*(C'\fR.  If
multiple event handlers were registered with the same name, they are all
deleted.
.PP
See also the guestfish commands \f(CW\*(C`event\*(C'\fR and \f(CW\*(C`list\-events\*(C'\fR.
.SS "display"
.IX Subsection "display"
.Vb 1
\& display назва_файла
.Ve
.PP
Use \f(CW\*(C`display\*(C'\fR (a graphical display program) to display an image file.  It
downloads the file, and runs \f(CW\*(C`display\*(C'\fR on it.
.PP
To use an alternative program, set the \f(CW\*(C`GUESTFISH_DISPLAY_IMAGE\*(C'\fR
environment variable.  For example to use the \s-1GNOME\s0 display program:
.PP
.Vb 1
\& export GUESTFISH_DISPLAY_IMAGE=eog
.Ve
.PP
Див. також \fIdisplay\fR\|(1).
.SS "echo"
.IX Subsection "echo"
.Vb 1
\& echo [параметри...]
.Ve
.PP
This echos the parameters to the terminal.
.SS "edit"
.IX Subsection "edit"
.SS "vi"
.IX Subsection "vi"
.SS "emacs"
.IX Subsection "emacs"
.Vb 1
\& edit назва_файла
.Ve
.PP
This is used to edit a file.  It downloads the file, edits it locally using
your editor, then uploads the result.
.PP
The editor is \f(CW$EDITOR\fR.  However if you use the alternate commands \f(CW\*(C`vi\*(C'\fR
or \f(CW\*(C`emacs\*(C'\fR you will get those corresponding editors.
.SS "event"
.IX Subsection "event"
.Vb 1
\& event name eventset "shell script ..."
.Ve
.PP
Register a shell script fragment which is executed when an event is raised.
See \*(L"guestfs_set_event_callback\*(R" in \fIguestfs\fR\|(3) for a discussion of the event
\&\s-1API\s0 in libguestfs.
.PP
The \f(CW\*(C`name\*(C'\fR parameter is a name that you give to this event handler.  It can
be any string (even the empty string) and is simply there so you can delete
the handler using the guestfish \f(CW\*(C`delete\-event\*(C'\fR command.
.PP
The \f(CW\*(C`eventset\*(C'\fR parameter is a comma-separated list of one or more events,
for example \f(CW\*(C`close\*(C'\fR or \f(CW\*(C`close,trace\*(C'\fR.  The special value \f(CW\*(C`*\*(C'\fR means all
events.
.PP
The third and final parameter is the shell script fragment (or any external
command) that is executed when any of the events in the eventset occurs.  It
is executed using \f(CW\*(C`$SHELL \-c\*(C'\fR, or if \f(CW$SHELL\fR is not set then \f(CW\*(C`/bin/sh
\&\-c\*(C'\fR.
.PP
The shell script fragment receives callback parameters as arguments \f(CW$1\fR,
\&\f(CW$2\fR etc.  The actual event that was called is available in the environment
variable \f(CW$EVENT\fR.
.PP
.Vb 4
\& event "" close "echo closed"
\& event messages appliance,library,trace "echo $@"
\& event "" progress "echo progress: $3/$4"
\& event "" * "echo $EVENT $@"
.Ve
.PP
See also the guestfish commands \f(CW\*(C`delete\-event\*(C'\fR and \f(CW\*(C`list\-events\*(C'\fR.
.SS "glob"
.IX Subsection "glob"
.Vb 1
\& glob команда параметри...
.Ve
.PP
Expand wildcards in any paths in the args list, and run \f(CW\*(C`command\*(C'\fR
repeatedly on each matching path.
.PP
Див. \*(L"\s-1WILDCARDS\s0 \s-1AND\s0 \s-1GLOBBING\s0\*(R".
.SS "hexedit"
.IX Subsection "hexedit"
.Vb 3
\& hexedit <filename|device>
\& hexedit <filename|device> <max>
\& hexedit <filename|device> <start> <max>
.Ve
.PP
Use hexedit (a hex editor) to edit all or part of a binary file or block
device.
.PP
This command works by downloading potentially the whole file or device,
editing it locally, then uploading it.  If the file or device is large, you
have to specify which part you wish to edit by using \f(CW\*(C`max\*(C'\fR and/or \f(CW\*(C`start\*(C'\fR
\&\f(CW\*(C`max\*(C'\fR parameters.  \f(CW\*(C`start\*(C'\fR and \f(CW\*(C`max\*(C'\fR are specified in bytes, with the
usual modifiers allowed such as \f(CW\*(C`1M\*(C'\fR (1 megabyte).
.PP
For example to edit the first few sectors of a disk you might do:
.PP
.Vb 1
\& hexedit /dev/sda 1M
.Ve
.PP
which would allow you to edit anywhere within the first megabyte of the
disk.
.PP
To edit the superblock of an ext2 filesystem on \f(CW\*(C`/dev/sda1\*(C'\fR, do:
.PP
.Vb 1
\& hexedit /dev/sda1 0x400 0x400
.Ve
.PP
(assuming the superblock is in the standard location).
.PP
This command requires the external \fIhexedit\fR\|(1) program.  You can specify
another program to use by setting the \f(CW\*(C`HEXEDITOR\*(C'\fR environment variable.
.PP
Див. також \*(L"hexdump\*(R".
.SS "lcd"
.IX Subsection "lcd"
.Vb 1
\& lcd directory
.Ve
.PP
Change the local directory, ie. the current directory of guestfish itself.
.PP
Note that \f(CW\*(C`!cd\*(C'\fR won't do what you might expect.
.SS "list-events"
.IX Subsection "list-events"
.Vb 1
\& list\-events
.Ve
.PP
List the event handlers registered using the guestfish \f(CW\*(C`event\*(C'\fR command.
.SS "man"
.IX Subsection "man"
.SS "підручник"
.IX Subsection "підручник"
.Vb 1
\&  man
.Ve
.PP
Opens the manual page for guestfish.
.SS "more"
.IX Subsection "more"
.SS "less"
.IX Subsection "less"
.Vb 1
\& more filename
\&
\& less filename
.Ve
.PP
This is used to view a file.
.PP
The default viewer is \f(CW$PAGER\fR.  However if you use the alternate command
\&\f(CW\*(C`less\*(C'\fR you will get the \f(CW\*(C`less\*(C'\fR command specifically.
.SS "reopen"
.IX Subsection "reopen"
.Vb 1
\&  reopen
.Ve
.PP
Close and reopen the libguestfs handle.  It is not necessary to use this
normally, because the handle is closed properly when guestfish exits.
However this is occasionally useful for testing.
.SS "setenv"
.IX Subsection "setenv"
.Vb 1
\&  setenv VAR value
.Ve
.PP
Set the environment variable \f(CW\*(C`VAR\*(C'\fR to the string \f(CW\*(C`value\*(C'\fR.
.PP
To print the value of an environment variable use a shell command such as:
.PP
.Vb 1
\& !echo $VAR
.Ve
.SS "sparse"
.IX Subsection "sparse"
.Vb 1
\& sparse filename size
.Ve
.PP
This creates an empty sparse file of the given size, and then adds so it can
be further examined.
.PP
In all respects it works the same as the \*(L"alloc\*(R" command, except that the
image file is allocated sparsely, which means that disk blocks are not
assigned to the file until they are needed.  Sparse disk files only use
space when written to, but they are slower and there is a danger you could
run out of real disk space during a write operation.
.PP
For more advanced image creation, see \fIqemu\-img\fR\|(1) utility.
.PP
Size can be specified using standard suffixes, eg. \f(CW\*(C`1M\*(C'\fR.
.SS "supported"
.IX Subsection "supported"
.Vb 1
\& supported
.Ve
.PP
This command returns a list of the optional groups known to the daemon, and
indicates which ones are supported by this build of the libguestfs
appliance.
.PP
Див. також \*(L"\s-1AVAILABILITY\s0\*(R" in \fIguestfs\fR\|(3).
.SS "time"
.IX Subsection "time"
.Vb 1
\& time command args...
.Ve
.PP
Run the command as usual, but print the elapsed time afterwards.  This can
be useful for benchmarking operations.
.SS "unsetenv"
.IX Subsection "unsetenv"
.Vb 1
\&  unsetenv VAR
.Ve
.PP
Remove \f(CW\*(C`VAR\*(C'\fR from the environment.
.SH "КОМАНДИ"
.IX Header "КОМАНДИ"
.SS "add-cdrom"
.IX Subsection "add-cdrom"
.Vb 1
\& add\-cdrom filename
.Ve
.PP
This function adds a virtual CD-ROM disk image to the guest.
.PP
This is equivalent to the qemu parameter \fI\-cdrom filename\fR.
.PP
Нотатки:
.IP "\(bu" 4
This call checks for the existence of \f(CW\*(C`filename\*(C'\fR.  This stops you from
specifying other types of drive which are supported by qemu such as \f(CW\*(C`nbd:\*(C'\fR
and \f(CW\*(C`http:\*(C'\fR URLs.  To specify those, use the general \*(L"config\*(R" call
instead.
.IP "\(bu" 4
If you just want to add an \s-1ISO\s0 file (often you use this as an efficient way
to transfer large files into the guest), then you should probably use
\&\*(L"add-drive-ro\*(R" instead.
.PP
\&\fIThis function is deprecated.\fR In new code, use the \*(L"add_drive_opts\*(R" call
instead.
.PP
Deprecated functions will not be removed from the \s-1API\s0, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.
.SS "add-domain"
.IX Subsection "add-domain"
.SS "домен"
.IX Subsection "домен"
.Vb 1
\& add\-domain dom [libvirturi:..] [readonly:true|false] [iface:..] [live:true|false] [allowuuid:true|false] [readonlydisk:..]
.Ve
.PP
This function adds the disk(s) attached to the named libvirt domain \f(CW\*(C`dom\*(C'\fR.
It works by connecting to libvirt, requesting the domain and domain \s-1XML\s0 from
libvirt, parsing it for disks, and calling \*(L"add-drive-opts\*(R" on each one.
.PP
The number of disks added is returned.  This operation is atomic: if an
error is returned, then no disks are added.
.PP
This function does some minimal checks to make sure the libvirt domain is
not running (unless \f(CW\*(C`readonly\*(C'\fR is true).  In a future version we will try
to acquire the libvirt lock on each disk.
.PP
Disks must be accessible locally.  This often means that adding disks from a
remote libvirt connection (see <http://libvirt.org/remote.html>)  will fail
unless those disks are accessible via the same device path locally too.
.PP
The optional \f(CW\*(C`libvirturi\*(C'\fR parameter sets the libvirt \s-1URI\s0 (see
<http://libvirt.org/uri.html>).  If this is not set then we connect to the
default libvirt \s-1URI\s0 (or one set through an environment variable, see the
libvirt documentation for full details).
.PP
The optional \f(CW\*(C`live\*(C'\fR flag controls whether this call will try to connect to
a running virtual machine \f(CW\*(C`guestfsd\*(C'\fR process if it sees a suitable
<channel> element in the libvirt \s-1XML\s0 definition.  The default (if
the flag is omitted) is never to try.  See \*(L"\s-1ATTACHING\s0 \s-1TO\s0 \s-1RUNNING\s0
\&\s-1DAEMONS\s0\*(R" in \fIguestfs\fR\|(3) for more information.
.PP
If the \f(CW\*(C`allowuuid\*(C'\fR flag is true (default is false) then a \s-1UUID\s0 \fImay\fR be
passed instead of the domain name.  The \f(CW\*(C`dom\*(C'\fR string is treated as a \s-1UUID\s0
first and looked up, and if that lookup fails then we treat \f(CW\*(C`dom\*(C'\fR as a name
as usual.
.PP
The optional \f(CW\*(C`readonlydisk\*(C'\fR parameter controls what we do for disks which
are marked <readonly/> in the libvirt \s-1XML\s0.  Possible values are:
.ie n .IP "readonlydisk = ""error""" 4
.el .IP "readonlydisk = ``error''" 4
.IX Item "readonlydisk = error"
If \f(CW\*(C`readonly\*(C'\fR is false:
.Sp
The whole call is aborted with an error if any disk with the
<readonly/> flag is found.
.Sp
If \f(CW\*(C`readonly\*(C'\fR is true:
.Sp
Disks with the <readonly/> flag are added read-only.
.ie n .IP "readonlydisk = ""read""" 4
.el .IP "readonlydisk = ``read''" 4
.IX Item "readonlydisk = read"
If \f(CW\*(C`readonly\*(C'\fR is false:
.Sp
Disks with the <readonly/> flag are added read-only.  Other disks
are added read/write.
.Sp
If \f(CW\*(C`readonly\*(C'\fR is true:
.Sp
Disks with the <readonly/> flag are added read-only.
.ie n .IP "readonlydisk = ""write"" (default)" 4
.el .IP "readonlydisk = ``write'' (default)" 4
.IX Item "readonlydisk = write (default)"
If \f(CW\*(C`readonly\*(C'\fR is false:
.Sp
Disks with the <readonly/> flag are added read/write.
.Sp
If \f(CW\*(C`readonly\*(C'\fR is true:
.Sp
Disks with the <readonly/> flag are added read-only.
.ie n .IP "readonlydisk = ""ignore""" 4
.el .IP "readonlydisk = ``ignore''" 4
.IX Item "readonlydisk = ignore"
If \f(CW\*(C`readonly\*(C'\fR is true or false:
.Sp
Disks with the <readonly/> flag are skipped.
.PP
The other optional parameters are passed directly through to
\&\*(L"add-drive-opts\*(R".
.PP
This command has one or more optional arguments.  See \*(L"\s-1OPTIONAL\s0
\&\s-1ARGUMENTS\s0\*(R".
.SS "add-drive"
.IX Subsection "add-drive"
.Vb 1
\& add\-drive назва_файла
.Ve
.PP
This function is the equivalent of calling \*(L"add-drive-opts\*(R" with no
optional parameters, so the disk is added writable, with the format being
detected automatically.
.PP
Automatic detection of the format opens you up to a potential security hole
when dealing with untrusted raw-format images.  See \s-1CVE\-2010\-3851\s0 and
RHBZ#642934.  Specifying the format closes this security hole.  Therefore
you should think about replacing calls to this function with calls to
\&\*(L"add-drive-opts\*(R", and specifying the format.
.SS "add-drive-opts"
.IX Subsection "add-drive-opts"
.SS "add"
.IX Subsection "add"
.Vb 1
\& add\-drive\-opts filename [readonly:true|false] [format:..] [iface:..] [name:..]
.Ve
.PP
This function adds a virtual machine disk image \f(CW\*(C`filename\*(C'\fR to libguestfs.
The first time you call this function, the disk appears as \f(CW\*(C`/dev/sda\*(C'\fR, the
second time as \f(CW\*(C`/dev/sdb\*(C'\fR, and so on.
.PP
You don't necessarily need to be root when using libguestfs.  However you
obviously do need sufficient permissions to access the filename for whatever
operations you want to perform (ie. read access if you just want to read the
image or write access if you want to modify the image).
.PP
This call checks that \f(CW\*(C`filename\*(C'\fR exists.
.PP
The optional arguments are:
.ie n .IP """readonly""" 4
.el .IP "\f(CWreadonly\fR" 4
.IX Item "readonly"
If true then the image is treated as read-only.  Writes are still allowed,
but they are stored in a temporary snapshot overlay which is discarded at
the end.  The disk that you add is not modified.
.ie n .IP """format""" 4
.el .IP "\f(CWformat\fR" 4
.IX Item "format"
This forces the image format.  If you omit this (or use \*(L"add-drive\*(R" or
\&\*(L"add-drive-ro\*(R") then the format is automatically detected.  Possible
formats include \f(CW\*(C`raw\*(C'\fR and \f(CW\*(C`qcow2\*(C'\fR.
.Sp
Automatic detection of the format opens you up to a potential security hole
when dealing with untrusted raw-format images.  See \s-1CVE\-2010\-3851\s0 and
RHBZ#642934.  Specifying the format closes this security hole.
.ie n .IP """iface""" 4
.el .IP "\f(CWiface\fR" 4
.IX Item "iface"
This rarely-used option lets you emulate the behaviour of the deprecated
\&\*(L"add-drive-with-if\*(R" call (q.v.)
.ie n .IP """назва""" 4
.el .IP "\f(CWназва\fR" 4
.IX Item "назва"
The name the drive had in the original guest, e.g. /dev/sdb. This is used as
a hint to the guest inspection process if it is available.
.PP
This command has one or more optional arguments.  See \*(L"\s-1OPTIONAL\s0
\&\s-1ARGUMENTS\s0\*(R".
.SS "add-drive-ro"
.IX Subsection "add-drive-ro"
.SS "add-ro"
.IX Subsection "add-ro"
.Vb 1
\& add\-drive\-ro filename
.Ve
.PP
This function is the equivalent of calling \*(L"add-drive-opts\*(R" with the
optional parameter \f(CW\*(C`GUESTFS_ADD_DRIVE_OPTS_READONLY\*(C'\fR set to 1, so the disk
is added read-only, with the format being detected automatically.
.SS "add-drive-ro-with-if"
.IX Subsection "add-drive-ro-with-if"
.Vb 1
\& add\-drive\-ro\-with\-if filename iface
.Ve
.PP
This is the same as \*(L"add-drive-ro\*(R" but it allows you to specify the \s-1QEMU\s0
interface emulation to use at run time.
.PP
\&\fIThis function is deprecated.\fR In new code, use the \*(L"add_drive_opts\*(R" call
instead.
.PP
Deprecated functions will not be removed from the \s-1API\s0, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.
.SS "add-drive-with-if"
.IX Subsection "add-drive-with-if"
.Vb 1
\& add\-drive\-with\-if filename iface
.Ve
.PP
This is the same as \*(L"add-drive\*(R" but it allows you to specify the \s-1QEMU\s0
interface emulation to use at run time.
.PP
\&\fIThis function is deprecated.\fR In new code, use the \*(L"add_drive_opts\*(R" call
instead.
.PP
Deprecated functions will not be removed from the \s-1API\s0, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.
.SS "aug-clear"
.IX Subsection "aug-clear"
.Vb 1
\& aug\-clear augpath
.Ve
.PP
Set the value associated with \f(CW\*(C`path\*(C'\fR to \f(CW\*(C`NULL\*(C'\fR.  This is the same as the
\&\fIaugtool\fR\|(1) \f(CW\*(C`clear\*(C'\fR command.
.SS "aug-close"
.IX Subsection "aug-close"
.Vb 1
\& aug\-close
.Ve
.PP
Close the current Augeas handle and free up any resources used by it.  After
calling this, you have to call \*(L"aug-init\*(R" again before you can use any
other Augeas functions.
.SS "aug-defnode"
.IX Subsection "aug-defnode"
.Vb 1
\& aug\-defnode name expr val
.Ve
.PP
Defines a variable \f(CW\*(C`name\*(C'\fR whose value is the result of evaluating \f(CW\*(C`expr\*(C'\fR.
.PP
If \f(CW\*(C`expr\*(C'\fR evaluates to an empty nodeset, a node is created, equivalent to
calling \*(L"aug-set\*(R" \f(CW\*(C`expr\*(C'\fR, \f(CW\*(C`value\*(C'\fR.  \f(CW\*(C`name\*(C'\fR will be the nodeset
containing that single node.
.PP
On success this returns a pair containing the number of nodes in the
nodeset, and a boolean flag if a node was created.
.SS "aug-defvar"
.IX Subsection "aug-defvar"
.Vb 1
\& aug\-defvar name expr
.Ve
.PP
Defines an Augeas variable \f(CW\*(C`name\*(C'\fR whose value is the result of evaluating
\&\f(CW\*(C`expr\*(C'\fR.  If \f(CW\*(C`expr\*(C'\fR is \s-1NULL\s0, then \f(CW\*(C`name\*(C'\fR is undefined.
.PP
On success this returns the number of nodes in \f(CW\*(C`expr\*(C'\fR, or \f(CW0\fR if \f(CW\*(C`expr\*(C'\fR
evaluates to something which is not a nodeset.
.SS "aug-get"
.IX Subsection "aug-get"
.Vb 1
\& aug\-get augpath
.Ve
.PP
Look up the value associated with \f(CW\*(C`path\*(C'\fR.  If \f(CW\*(C`path\*(C'\fR matches exactly one
node, the \f(CW\*(C`value\*(C'\fR is returned.
.SS "aug-init"
.IX Subsection "aug-init"
.Vb 1
\& aug\-init root flags
.Ve
.PP
Create a new Augeas handle for editing configuration files.  If there was
any previous Augeas handle associated with this guestfs session, then it is
closed.
.PP
You must call this before using any other \*(L"aug\-*\*(R" commands.
.PP
\&\f(CW\*(C`root\*(C'\fR is the filesystem root.  \f(CW\*(C`root\*(C'\fR must not be \s-1NULL\s0, use \f(CW\*(C`/\*(C'\fR instead.
.PP
The flags are the same as the flags defined in <augeas.h>, the
logical \fIor\fR of the following integers:
.ie n .IP """AUG_SAVE_BACKUP"" = 1" 4
.el .IP "\f(CWAUG_SAVE_BACKUP\fR = 1" 4
.IX Item "AUG_SAVE_BACKUP = 1"
Keep the original file with a \f(CW\*(C`.augsave\*(C'\fR extension.
.ie n .IP """AUG_SAVE_NEWFILE"" = 2" 4
.el .IP "\f(CWAUG_SAVE_NEWFILE\fR = 2" 4
.IX Item "AUG_SAVE_NEWFILE = 2"
Save changes into a file with extension \f(CW\*(C`.augnew\*(C'\fR, and do not overwrite
original.  Overrides \f(CW\*(C`AUG_SAVE_BACKUP\*(C'\fR.
.ie n .IP """AUG_TYPE_CHECK"" = 4" 4
.el .IP "\f(CWAUG_TYPE_CHECK\fR = 4" 4
.IX Item "AUG_TYPE_CHECK = 4"
Typecheck lenses.
.Sp
This option is only useful when debugging Augeas lenses.  Use of this option
may require additional memory for the libguestfs appliance.  You may need to
set the \f(CW\*(C`LIBGUESTFS_MEMSIZE\*(C'\fR environment variable or call \*(L"set-memsize\*(R".
.ie n .IP """AUG_NO_STDINC"" = 8" 4
.el .IP "\f(CWAUG_NO_STDINC\fR = 8" 4
.IX Item "AUG_NO_STDINC = 8"
Do not use standard load path for modules.
.ie n .IP """AUG_SAVE_NOOP"" = 16" 4
.el .IP "\f(CWAUG_SAVE_NOOP\fR = 16" 4
.IX Item "AUG_SAVE_NOOP = 16"
Make save a no-op, just record what would have been changed.
.ie n .IP """AUG_NO_LOAD"" = 32" 4
.el .IP "\f(CWAUG_NO_LOAD\fR = 32" 4
.IX Item "AUG_NO_LOAD = 32"
Do not load the tree in \*(L"aug-init\*(R".
.PP
To close the handle, you can call \*(L"aug-close\*(R".
.PP
To find out more about Augeas, see <http://augeas.net/>.
.SS "aug-insert"
.IX Subsection "aug-insert"
.Vb 1
\& aug\-insert augpath label true|false
.Ve
.PP
Create a new sibling \f(CW\*(C`label\*(C'\fR for \f(CW\*(C`path\*(C'\fR, inserting it into the tree before
or after \f(CW\*(C`path\*(C'\fR (depending on the boolean flag \f(CW\*(C`before\*(C'\fR).
.PP
\&\f(CW\*(C`path\*(C'\fR must match exactly one existing node in the tree, and \f(CW\*(C`label\*(C'\fR must
be a label, ie. not contain \f(CW\*(C`/\*(C'\fR, \f(CW\*(C`*\*(C'\fR or end with a bracketed index \f(CW\*(C`[N]\*(C'\fR.
.SS "aug-load"
.IX Subsection "aug-load"
.Vb 1
\& aug\-load
.Ve
.PP
Завантажити файли до ієрархії.
.PP
See \f(CW\*(C`aug_load\*(C'\fR in the Augeas documentation for the full gory details.
.SS "aug-ls"
.IX Subsection "aug-ls"
.Vb 1
\& aug\-ls augpath
.Ve
.PP
This is just a shortcut for listing \*(L"aug-match\*(R" \f(CW\*(C`path/*\*(C'\fR and sorting the
resulting nodes into alphabetical order.
.SS "aug-match"
.IX Subsection "aug-match"
.Vb 1
\& aug\-match augpath
.Ve
.PP
Returns a list of paths which match the path expression \f(CW\*(C`path\*(C'\fR.  The
returned paths are sufficiently qualified so that they match exactly one
node in the current tree.
.SS "aug-mv"
.IX Subsection "aug-mv"
.Vb 1
\& aug\-mv src dest
.Ve
.PP
Move the node \f(CW\*(C`src\*(C'\fR to \f(CW\*(C`dest\*(C'\fR.  \f(CW\*(C`src\*(C'\fR must match exactly one node.
\&\f(CW\*(C`dest\*(C'\fR is overwritten if it exists.
.SS "aug-rm"
.IX Subsection "aug-rm"
.Vb 1
\& aug\-rm augpath
.Ve
.PP
Remove \f(CW\*(C`path\*(C'\fR and all of its children.
.PP
On success this returns the number of entries which were removed.
.SS "aug-save"
.IX Subsection "aug-save"
.Vb 1
\& aug\-save
.Ve
.PP
This writes all pending changes to disk.
.PP
The flags which were passed to \*(L"aug-init\*(R" affect exactly how files are
saved.
.SS "aug-set"
.IX Subsection "aug-set"
.Vb 1
\& aug\-set augpath val
.Ve
.PP
Set the value associated with \f(CW\*(C`path\*(C'\fR to \f(CW\*(C`val\*(C'\fR.
.PP
In the Augeas \s-1API\s0, it is possible to clear a node by setting the value to
\&\s-1NULL\s0.  Due to an oversight in the libguestfs \s-1API\s0 you cannot do that with
this call.  Instead you must use the \*(L"aug-clear\*(R" call.
.SS "available"
.IX Subsection "available"
.Vb 1
\& available \*(Aqgroups ...\*(Aq
.Ve
.PP
This command is used to check the availability of some groups of
functionality in the appliance, which not all builds of the libguestfs
appliance will be able to provide.
.PP
The libguestfs groups, and the functions that those groups correspond to,
are listed in \*(L"\s-1AVAILABILITY\s0\*(R" in \fIguestfs\fR\|(3).  You can also fetch this list at
runtime by calling \*(L"available-all-groups\*(R".
.PP
The argument \f(CW\*(C`groups\*(C'\fR is a list of group names, eg: \f(CW\*(C`["inotify",
"augeas"]\*(C'\fR would check for the availability of the Linux inotify functions
and Augeas (configuration file editing) functions.
.PP
The command returns no error if \fIall\fR requested groups are available.
.PP
It fails with an error if one or more of the requested groups is unavailable
in the appliance.
.PP
If an unknown group name is included in the list of groups then an error is
always returned.
.PP
\&\fIНотатки:\fR
.IP "\(bu" 4
You must call \*(L"launch\*(R" before calling this function.
.Sp
The reason is because we don't know what groups are supported by the
appliance/daemon until it is running and can be queried.
.IP "\(bu" 4
If a group of functions is available, this does not necessarily mean that
they will work.  You still have to check for errors when calling individual
\&\s-1API\s0 functions even if they are available.
.IP "\(bu" 4
It is usually the job of distro packagers to build complete functionality
into the libguestfs appliance.  Upstream libguestfs, if built from source
with all requirements satisfied, will support everything.
.IP "\(bu" 4
This call was added in version \f(CW1.0.80\fR.  In previous versions of
libguestfs all you could do would be to speculatively execute a command to
find out if the daemon implemented it.  See also \*(L"version\*(R".
.SS "available-all-groups"
.IX Subsection "available-all-groups"
.Vb 1
\& available\-all\-groups
.Ve
.PP
This command returns a list of all optional groups that this daemon knows
about.  Note this returns both supported and unsupported groups.  To find
out which ones the daemon can actually support you have to call
\&\*(L"available\*(R" on each member of the returned list.
.PP
See also \*(L"available\*(R" and \*(L"\s-1AVAILABILITY\s0\*(R" in \fIguestfs\fR\|(3).
.SS "base64\-in"
.IX Subsection "base64-in"
.Vb 1
\& base64\-in (base64file|\-) filename
.Ve
.PP
This command uploads base64\-encoded data from \f(CW\*(C`base64file\*(C'\fR to \f(CW\*(C`filename\*(C'\fR.
.PP
Use \f(CW\*(C`\-\*(C'\fR instead of a filename to read/write from stdin/stdout.
.SS "base64\-out"
.IX Subsection "base64-out"
.Vb 1
\& base64\-out filename (base64file|\-)
.Ve
.PP
This command downloads the contents of \f(CW\*(C`filename\*(C'\fR, writing it out to local
file \f(CW\*(C`base64file\*(C'\fR encoded as base64.
.PP
Use \f(CW\*(C`\-\*(C'\fR instead of a filename to read/write from stdin/stdout.
.SS "blkid"
.IX Subsection "blkid"
.Vb 1
\& blkid device
.Ve
.PP
This command returns block device attributes for \f(CW\*(C`device\*(C'\fR. The following
fields are usually present in the returned hash. Other fields may also be
present.
.ie n .IP """UUID""" 4
.el .IP "\f(CWUUID\fR" 4
.IX Item "UUID"
The uuid of this device.
.ie n .IP """МІТКА""" 4
.el .IP "\f(CWМІТКА\fR" 4
.IX Item "МІТКА"
Мітка пристрою.
.ie n .IP """ВЕРСІЯ""" 4
.el .IP "\f(CWВЕРСІЯ\fR" 4
.IX Item "ВЕРСІЯ"
Версія програми blkid.
.ie n .IP """ТИП""" 4
.el .IP "\f(CWТИП\fR" 4
.IX Item "ТИП"
Тип файлової системи або \s-1RAID\s0 для цього пристрою.
.ie n .IP """ВИКОРИСТАННЯ""" 4
.el .IP "\f(CWВИКОРИСТАННЯ\fR" 4
.IX Item "ВИКОРИСТАННЯ"
The usage of this device, for example \f(CW\*(C`filesystem\*(C'\fR or \f(CW\*(C`raid\*(C'\fR.
.SS "blockdev-flushbufs"
.IX Subsection "blockdev-flushbufs"
.Vb 1
\& blockdev\-flushbufs пристрій
.Ve
.PP
This tells the kernel to flush internal buffers associated with \f(CW\*(C`device\*(C'\fR.
.PP
This uses the \fIblockdev\fR\|(8) command.
.SS "blockdev-getbsz"
.IX Subsection "blockdev-getbsz"
.Vb 1
\& blockdev\-getbsz пристрій
.Ve
.PP
Повертає розмір блоку для пристрою.
.PP
(Note this is different from both \fIsize in blocks\fR and \fIfilesystem block
size\fR).
.PP
This uses the \fIblockdev\fR\|(8) command.
.SS "blockdev-getro"
.IX Subsection "blockdev-getro"
.Vb 1
\& blockdev\-getro пристрій
.Ve
.PP
Returns a boolean indicating if the block device is read-only (true if
read-only, false if not).
.PP
This uses the \fIblockdev\fR\|(8) command.
.SS "blockdev\-getsize64"
.IX Subsection "blockdev-getsize64"
.Vb 1
\& blockdev\-getsize64 пристрій
.Ve
.PP
Повертає розмір пристрою у байтах.
.PP
Див. також \*(L"blockdev-getsz\*(R".
.PP
This uses the \fIblockdev\fR\|(8) command.
.SS "blockdev-getss"
.IX Subsection "blockdev-getss"
.Vb 1
\& blockdev\-getss пристрій
.Ve
.PP
This returns the size of sectors on a block device.  Usually 512, but can be
larger for modern devices.
.PP
(Note, this is not the size in sectors, use \*(L"blockdev-getsz\*(R" for that).
.PP
This uses the \fIblockdev\fR\|(8) command.
.SS "blockdev-getsz"
.IX Subsection "blockdev-getsz"
.Vb 1
\& blockdev\-getsz пристрій
.Ve
.PP
This returns the size of the device in units of 512\-byte sectors (even if
the sectorsize isn't 512 bytes ... weird).
.PP
See also \*(L"blockdev-getss\*(R" for the real sector size of the device, and
\&\*(L"blockdev\-getsize64\*(R" for the more useful \fIsize in bytes\fR.
.PP
This uses the \fIblockdev\fR\|(8) command.
.SS "blockdev-rereadpt"
.IX Subsection "blockdev-rereadpt"
.Vb 1
\& blockdev\-rereadpt пристрій
.Ve
.PP
Повторно прочитати таблицю розділів з пристрою \f(CW\*(C`пристрій\*(C'\fR.
.PP
This uses the \fIblockdev\fR\|(8) command.
.SS "blockdev-setbsz"
.IX Subsection "blockdev-setbsz"
.Vb 1
\& blockdev\-setbsz пристрій розмір_блоку
.Ve
.PP
Встановлює розмір блоку на пристрої.
.PP
(Note this is different from both \fIsize in blocks\fR and \fIfilesystem block
size\fR).
.PP
This uses the \fIblockdev\fR\|(8) command.
.SS "blockdev-setro"
.IX Subsection "blockdev-setro"
.Vb 1
\& blockdev\-setro пристрій
.Ve
.PP
Sets the block device named \f(CW\*(C`device\*(C'\fR to read-only.
.PP
This uses the \fIblockdev\fR\|(8) command.
.SS "blockdev-setrw"
.IX Subsection "blockdev-setrw"
.Vb 1
\& blockdev\-setrw пристрій
.Ve
.PP
Sets the block device named \f(CW\*(C`device\*(C'\fR to read-write.
.PP
This uses the \fIblockdev\fR\|(8) command.
.SS "btrfs-device-add"
.IX Subsection "btrfs-device-add"
.Vb 1
\& btrfs\-device\-add \*(Aqdevices ...\*(Aq fs
.Ve
.PP
Add the list of device(s) in \f(CW\*(C`devices\*(C'\fR to the btrfs filesystem mounted at
\&\f(CW\*(C`fs\*(C'\fR.  If \f(CW\*(C`devices\*(C'\fR is an empty list, this does nothing.
.SS "btrfs-device-delete"
.IX Subsection "btrfs-device-delete"
.Vb 1
\& btrfs\-device\-delete \*(Aqdevices ...\*(Aq fs
.Ve
.PP
Remove the \f(CW\*(C`devices\*(C'\fR from the btrfs filesystem mounted at \f(CW\*(C`fs\*(C'\fR.  If
\&\f(CW\*(C`devices\*(C'\fR is an empty list, this does nothing.
.SS "btrfs-filesystem-balance"
.IX Subsection "btrfs-filesystem-balance"
.Vb 1
\& btrfs\-filesystem\-balance fs
.Ve
.PP
Balance the chunks in the btrfs filesystem mounted at \f(CW\*(C`fs\*(C'\fR across the
underlying devices.
.SS "btrfs-filesystem-resize"
.IX Subsection "btrfs-filesystem-resize"
.Vb 1
\& btrfs\-filesystem\-resize точка_монтування [size:N]
.Ve
.PP
Ця команда змінює розмір файлової системи btrfs.
.PP
Note that unlike other resize calls, the filesystem has to be mounted and
the parameter is the mountpoint not the device (this is a requirement of
btrfs itself).
.PP
Додатковими параметрами є:
.ie n .IP """розмір""" 4
.el .IP "\f(CWрозмір\fR" 4
.IX Item "розмір"
The new size (in bytes) of the filesystem.  If omitted, the filesystem is
resized to the maximum size.
.PP
Див. також \fIbtrfs\fR\|(8).
.PP
This command has one or more optional arguments.  See \*(L"\s-1OPTIONAL\s0
\&\s-1ARGUMENTS\s0\*(R".
.SS "btrfs-filesystem-sync"
.IX Subsection "btrfs-filesystem-sync"
.Vb 1
\& btrfs\-filesystem\-sync fs
.Ve
.PP
Force sync on the btrfs filesystem mounted at \f(CW\*(C`fs\*(C'\fR.
.SS "btrfs-fsck"
.IX Subsection "btrfs-fsck"
.Vb 1
\& btrfs\-fsck device [superblock:N] [repair:true|false]
.Ve
.PP
Used to check a btrfs filesystem, \f(CW\*(C`device\*(C'\fR is the device file where the
filesystem is stored.
.PP
This command has one or more optional arguments.  See \*(L"\s-1OPTIONAL\s0
\&\s-1ARGUMENTS\s0\*(R".
.SS "btrfs-set-seeding"
.IX Subsection "btrfs-set-seeding"
.Vb 1
\& btrfs\-set\-seeding device true|false
.Ve
.PP
Enable or disable the seeding feature of a device that contains a btrfs
filesystem.
.SS "btrfs-subvolume-create"
.IX Subsection "btrfs-subvolume-create"
.Vb 1
\& btrfs\-subvolume\-create dest
.Ve
.PP
Create a btrfs subvolume.  The \f(CW\*(C`dest\*(C'\fR argument is the destination directory
and the name of the snapshot, in the form \f(CW\*(C`/path/to/dest/name\*(C'\fR.
.SS "btrfs-subvolume-delete"
.IX Subsection "btrfs-subvolume-delete"
.Vb 1
\& btrfs\-subvolume\-delete subvolume
.Ve
.PP
Delete the named btrfs subvolume.
.SS "btrfs-subvolume-list"
.IX Subsection "btrfs-subvolume-list"
.Vb 1
\& btrfs\-subvolume\-list fs
.Ve
.PP
List the btrfs snapshots and subvolumes of the btrfs filesystem which is
mounted at \f(CW\*(C`fs\*(C'\fR.
.SS "btrfs-subvolume-set-default"
.IX Subsection "btrfs-subvolume-set-default"
.Vb 1
\& btrfs\-subvolume\-set\-default id fs
.Ve
.PP
Set the subvolume of the btrfs filesystem \f(CW\*(C`fs\*(C'\fR which will be mounted by
default.  See \*(L"btrfs-subvolume-list\*(R" to get a list of subvolumes.
.SS "btrfs-subvolume-snapshot"
.IX Subsection "btrfs-subvolume-snapshot"
.Vb 1
\& btrfs\-subvolume\-snapshot source dest
.Ve
.PP
Create a writable snapshot of the btrfs subvolume \f(CW\*(C`source\*(C'\fR.  The \f(CW\*(C`dest\*(C'\fR
argument is the destination directory and the name of the snapshot, in the
form \f(CW\*(C`/path/to/dest/name\*(C'\fR.
.SS "case-sensitive-path"
.IX Subsection "case-sensitive-path"
.Vb 1
\& case\-sensitive\-path path
.Ve
.PP
This can be used to resolve case insensitive paths on a filesystem which is
case sensitive.  The use case is to resolve paths which you have read from
Windows configuration files or the Windows Registry, to the true path.
.PP
The command handles a peculiarity of the Linux ntfs\-3g filesystem driver
(and probably others), which is that although the underlying filesystem is
case-insensitive, the driver exports the filesystem to Linux as
case-sensitive.
.PP
One consequence of this is that special directories such as \f(CW\*(C`c:\ewindows\*(C'\fR
may appear as \f(CW\*(C`/WINDOWS\*(C'\fR or \f(CW\*(C`/windows\*(C'\fR (or other things) depending on the
precise details of how they were created.  In Windows itself this would not
be a problem.
.PP
Bug or feature? You decide:
http://www.tuxera.com/community/ntfs\-3g\-faq/#posixfilenames1 <http://www.tuxera.com/community/ntfs-3g-faq/#posixfilenames1>
.PP
This function resolves the true case of each element in the path and returns
the case-sensitive path.
.PP
Thus \*(L"case-sensitive-path\*(R" (\*(L"/Windows/System32\*(R")  might return
\&\f(CW"/WINDOWS/system32"\fR (the exact return value would depend on details of
how the directories were originally created under Windows).
.PP
\&\fINote\fR: This function does not handle drive names, backslashes etc.
.PP
Див. також \*(L"realpath\*(R".
.SS "cat"
.IX Subsection "cat"
.Vb 1
\& cat шлях
.Ve
.PP
Return the contents of the file named \f(CW\*(C`path\*(C'\fR.
.PP
Note that this function cannot correctly handle binary files (specifically,
files containing \f(CW\*(C`\e0\*(C'\fR character which is treated as end of string).  For
those you need to use the \*(L"read-file\*(R" or \*(L"download\*(R" functions which have
a more complex interface.
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "checksum"
.IX Subsection "checksum"
.Vb 1
\& checksum csumtype path
.Ve
.PP
This call computes the \s-1MD5\s0, SHAx or \s-1CRC\s0 checksum of the file named \f(CW\*(C`path\*(C'\fR.
.PP
The type of checksum to compute is given by the \f(CW\*(C`csumtype\*(C'\fR parameter which
must have one of the following values:
.ie n .IP """crc""" 4
.el .IP "\f(CWcrc\fR" 4
.IX Item "crc"
Compute the cyclic redundancy check (\s-1CRC\s0) specified by \s-1POSIX\s0 for the
\&\f(CW\*(C`cksum\*(C'\fR command.
.ie n .IP """md5""" 4
.el .IP "\f(CWmd5\fR" 4
.IX Item "md5"
Compute the \s-1MD5\s0 hash (using the \f(CW\*(C`md5sum\*(C'\fR program).
.ie n .IP """sha1""" 4
.el .IP "\f(CWsha1\fR" 4
.IX Item "sha1"
Compute the \s-1SHA1\s0 hash (using the \f(CW\*(C`sha1sum\*(C'\fR program).
.ie n .IP """sha224""" 4
.el .IP "\f(CWsha224\fR" 4
.IX Item "sha224"
Compute the \s-1SHA224\s0 hash (using the \f(CW\*(C`sha224sum\*(C'\fR program).
.ie n .IP """sha256""" 4
.el .IP "\f(CWsha256\fR" 4
.IX Item "sha256"
Compute the \s-1SHA256\s0 hash (using the \f(CW\*(C`sha256sum\*(C'\fR program).
.ie n .IP """sha384""" 4
.el .IP "\f(CWsha384\fR" 4
.IX Item "sha384"
Compute the \s-1SHA384\s0 hash (using the \f(CW\*(C`sha384sum\*(C'\fR program).
.ie n .IP """sha512""" 4
.el .IP "\f(CWsha512\fR" 4
.IX Item "sha512"
Compute the \s-1SHA512\s0 hash (using the \f(CW\*(C`sha512sum\*(C'\fR program).
.PP
The checksum is returned as a printable string.
.PP
To get the checksum for a device, use \*(L"checksum-device\*(R".
.PP
To get the checksums for many files, use \*(L"checksums-out\*(R".
.SS "checksum-device"
.IX Subsection "checksum-device"
.Vb 1
\& checksum\-device csumtype device
.Ve
.PP
This call computes the \s-1MD5\s0, SHAx or \s-1CRC\s0 checksum of the contents of the
device named \f(CW\*(C`device\*(C'\fR.  For the types of checksums supported see the
\&\*(L"checksum\*(R" command.
.SS "checksums-out"
.IX Subsection "checksums-out"
.Vb 1
\& checksums\-out csumtype directory (sumsfile|\-)
.Ve
.PP
This command computes the checksums of all regular files in \f(CW\*(C`directory\*(C'\fR and
then emits a list of those checksums to the local output file \f(CW\*(C`sumsfile\*(C'\fR.
.PP
This can be used for verifying the integrity of a virtual machine.  However
to be properly secure you should pay attention to the output of the checksum
command (it uses the ones from \s-1GNU\s0 coreutils).  In particular when the
filename is not printable, coreutils uses a special backslash syntax.  For
more information, see the \s-1GNU\s0 coreutils info file.
.PP
Use \f(CW\*(C`\-\*(C'\fR instead of a filename to read/write from stdin/stdout.
.SS "chmod"
.IX Subsection "chmod"
.Vb 1
\& chmod mode path
.Ve
.PP
Change the mode (permissions) of \f(CW\*(C`path\*(C'\fR to \f(CW\*(C`mode\*(C'\fR.  Only numeric modes are
supported.
.PP
\&\fINote\fR: When using this command from guestfish, \f(CW\*(C`mode\*(C'\fR by default would be
decimal, unless you prefix it with \f(CW0\fR to get octal, ie. use \f(CW0700\fR not
\&\f(CW700\fR.
.PP
The mode actually set is affected by the umask.
.SS "chown"
.IX Subsection "chown"
.Vb 1
\& chown owner group path
.Ve
.PP
Change the file owner to \f(CW\*(C`owner\*(C'\fR and group to \f(CW\*(C`group\*(C'\fR.
.PP
Only numeric uid and gid are supported.  If you want to use names, you will
need to locate and parse the password file yourself (Augeas support makes
this relatively easy).
.SS "command"
.IX Subsection "command"
.Vb 1
\& command \*(Aqпараметри...\*(Aq
.Ve
.PP
This call runs a command from the guest filesystem.  The filesystem must be
mounted, and must contain a compatible operating system (ie. something
Linux, with the same or compatible processor architecture).
.PP
The single parameter is an argv-style list of arguments.  The first element
is the name of the program to run.  Subsequent elements are parameters.  The
list must be non-empty (ie. must contain a program name).  Note that the
command runs directly, and is \fInot\fR invoked via the shell (see \*(L"sh\*(R").
.PP
The return value is anything printed to \fIstdout\fR by the command.
.PP
If the command returns a non-zero exit status, then this function returns an
error message.  The error message string is the content of \fIstderr\fR from
the command.
.PP
The \f(CW$PATH\fR environment variable will contain at least \f(CW\*(C`/usr/bin\*(C'\fR and
\&\f(CW\*(C`/bin\*(C'\fR.  If you require a program from another location, you should provide
the full path in the first parameter.
.PP
Shared libraries and data files required by the program must be available on
filesystems which are mounted in the correct places.  It is the caller's
responsibility to ensure all filesystems that are needed are mounted at the
right locations.
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "command-lines"
.IX Subsection "command-lines"
.Vb 1
\& command\-lines \*(Aqarguments ...\*(Aq
.Ve
.PP
This is the same as \*(L"command\*(R", but splits the result into a list of lines.
.PP
Див. також \*(L"sh-lines\*(R"
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "compress-device-out"
.IX Subsection "compress-device-out"
.Vb 1
\& compress\-device\-out ctype device (zdevice|\-) [level:N]
.Ve
.PP
This command compresses \f(CW\*(C`device\*(C'\fR and writes it out to the local file
\&\f(CW\*(C`zdevice\*(C'\fR.
.PP
The \f(CW\*(C`ctype\*(C'\fR and optional \f(CW\*(C`level\*(C'\fR parameters have the same meaning as in
\&\*(L"compress-out\*(R".
.PP
Use \f(CW\*(C`\-\*(C'\fR instead of a filename to read/write from stdin/stdout.
.PP
This command has one or more optional arguments.  See \*(L"\s-1OPTIONAL\s0
\&\s-1ARGUMENTS\s0\*(R".
.SS "compress-out"
.IX Subsection "compress-out"
.Vb 1
\& compress\-out ctype file (zfile|\-) [level:N]
.Ve
.PP
This command compresses \f(CW\*(C`file\*(C'\fR and writes it out to the local file
\&\f(CW\*(C`zfile\*(C'\fR.
.PP
The compression program used is controlled by the \f(CW\*(C`ctype\*(C'\fR parameter.
Currently this includes: \f(CW\*(C`compress\*(C'\fR, \f(CW\*(C`gzip\*(C'\fR, \f(CW\*(C`bzip2\*(C'\fR, \f(CW\*(C`xz\*(C'\fR or \f(CW\*(C`lzop\*(C'\fR.
Some compression types may not be supported by particular builds of
libguestfs, in which case you will get an error containing the substring
\&\*(L"not supported\*(R".
.PP
The optional \f(CW\*(C`level\*(C'\fR parameter controls compression level.  The meaning and
default for this parameter depends on the compression program being used.
.PP
Use \f(CW\*(C`\-\*(C'\fR instead of a filename to read/write from stdin/stdout.
.PP
This command has one or more optional arguments.  See \*(L"\s-1OPTIONAL\s0
\&\s-1ARGUMENTS\s0\*(R".
.SS "config"
.IX Subsection "config"
.Vb 1
\& config qemuparam qemuvalue
.Ve
.PP
This can be used to add arbitrary qemu command line parameters of the form
\&\fI\-param value\fR.  Actually it's not quite arbitrary \- we prevent you from
setting some parameters which would interfere with parameters that we use.
.PP
The first character of \f(CW\*(C`param\*(C'\fR string must be a \f(CW\*(C`\-\*(C'\fR (dash).
.PP
\&\f(CW\*(C`value\*(C'\fR can be \s-1NULL\s0.
.SS "copy-device-to-device"
.IX Subsection "copy-device-to-device"
.Vb 1
\& copy\-device\-to\-device src dest [srcoffset:N] [destoffset:N] [size:N]
.Ve
.PP
The four calls \*(L"copy-device-to-device\*(R", \*(L"copy-device-to-file\*(R",
\&\*(L"copy-file-to-device\*(R", and \*(L"copy-file-to-file\*(R" let you copy from a
source (device|file) to a destination (device|file).
.PP
Partial copies can be made since you can specify optionally the source
offset, destination offset and size to copy.  These values are all specified
in bytes.  If not given, the offsets both default to zero, and the size
defaults to copying as much as possible until we hit the end of the source.
.PP
The source and destination may be the same object.  However overlapping
regions may not be copied correctly.
.PP
If the destination is a file, it is created if required.  If the destination
file is not large enough, it is extended.
.PP
This command has one or more optional arguments.  See \*(L"\s-1OPTIONAL\s0
\&\s-1ARGUMENTS\s0\*(R".
.SS "copy-device-to-file"
.IX Subsection "copy-device-to-file"
.Vb 1
\& copy\-device\-to\-file src dest [srcoffset:N] [destoffset:N] [size:N]
.Ve
.PP
See \*(L"copy-device-to-device\*(R" for a general overview of this call.
.PP
This command has one or more optional arguments.  See \*(L"\s-1OPTIONAL\s0
\&\s-1ARGUMENTS\s0\*(R".
.SS "copy-file-to-device"
.IX Subsection "copy-file-to-device"
.Vb 1
\& copy\-file\-to\-device src dest [srcoffset:N] [destoffset:N] [size:N]
.Ve
.PP
See \*(L"copy-device-to-device\*(R" for a general overview of this call.
.PP
This command has one or more optional arguments.  See \*(L"\s-1OPTIONAL\s0
\&\s-1ARGUMENTS\s0\*(R".
.SS "copy-file-to-file"
.IX Subsection "copy-file-to-file"
.Vb 1
\& copy\-file\-to\-file src dest [srcoffset:N] [destoffset:N] [size:N]
.Ve
.PP
See \*(L"copy-device-to-device\*(R" for a general overview of this call.
.PP
This is \fBnot\fR the function you want for copying files.  This is for copying
blocks within existing files.  See \*(L"cp\*(R", \*(L"cp-a\*(R" and \*(L"mv\*(R" for general
file copying and moving functions.
.PP
This command has one or more optional arguments.  See \*(L"\s-1OPTIONAL\s0
\&\s-1ARGUMENTS\s0\*(R".
.SS "copy-size"
.IX Subsection "copy-size"
.Vb 1
\& copy\-size src dest size
.Ve
.PP
This command copies exactly \f(CW\*(C`size\*(C'\fR bytes from one source device or file
\&\f(CW\*(C`src\*(C'\fR to another destination device or file \f(CW\*(C`dest\*(C'\fR.
.PP
Note this will fail if the source is too short or if the destination is not
large enough.
.PP
\&\fIThis function is deprecated.\fR In new code, use the
\&\*(L"copy_device_to_device\*(R" call instead.
.PP
Deprecated functions will not be removed from the \s-1API\s0, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.
.SS "cp"
.IX Subsection "cp"
.Vb 1
\& cp джерело призначення
.Ve
.PP
This copies a file from \f(CW\*(C`src\*(C'\fR to \f(CW\*(C`dest\*(C'\fR where \f(CW\*(C`dest\*(C'\fR is either a
destination filename or destination directory.
.SS "cp-a"
.IX Subsection "cp-a"
.Vb 1
\& cp\-a джерело призначення
.Ve
.PP
This copies a file or directory from \f(CW\*(C`src\*(C'\fR to \f(CW\*(C`dest\*(C'\fR recursively using the
\&\f(CW\*(C`cp \-a\*(C'\fR command.
.SS "dd"
.IX Subsection "dd"
.Vb 1
\& dd джерело призначення
.Ve
.PP
This command copies from one source device or file \f(CW\*(C`src\*(C'\fR to another
destination device or file \f(CW\*(C`dest\*(C'\fR.  Normally you would use this to copy to
or from a device or partition, for example to duplicate a filesystem.
.PP
If the destination is a device, it must be as large or larger than the
source file or device, otherwise the copy will fail.  This command cannot do
partial copies (see \*(L"copy-device-to-device\*(R").
.PP
\&\fIThis function is deprecated.\fR In new code, use the
\&\*(L"copy_device_to_device\*(R" call instead.
.PP
Deprecated functions will not be removed from the \s-1API\s0, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.
.SS "device-index"
.IX Subsection "device-index"
.Vb 1
\& device\-index device
.Ve
.PP
This function takes a device name (eg. \*(L"/dev/sdb\*(R") and returns the index of
the device in the list of devices.
.PP
Index numbers start from 0.  The named device must exist, for example as a
string returned from \*(L"list-devices\*(R".
.PP
See also \*(L"list-devices\*(R", \*(L"part-to-dev\*(R".
.SS "df"
.IX Subsection "df"
.Vb 1
\& df
.Ve
.PP
This command runs the \f(CW\*(C`df\*(C'\fR command to report disk space used.
.PP
This command is mostly useful for interactive sessions.  It is \fInot\fR
intended that you try to parse the output string.  Use \*(L"statvfs\*(R" from
programs.
.SS "df-h"
.IX Subsection "df-h"
.Vb 1
\& df\-h
.Ve
.PP
This command runs the \f(CW\*(C`df \-h\*(C'\fR command to report disk space used in
human-readable format.
.PP
This command is mostly useful for interactive sessions.  It is \fInot\fR
intended that you try to parse the output string.  Use \*(L"statvfs\*(R" from
programs.
.SS "dmesg"
.IX Subsection "dmesg"
.Vb 1
\& dmesg
.Ve
.PP
This returns the kernel messages (\f(CW\*(C`dmesg\*(C'\fR output) from the guest kernel.
This is sometimes useful for extended debugging of problems.
.PP
Another way to get the same information is to enable verbose messages with
\&\*(L"set-verbose\*(R" or by setting the environment variable \f(CW\*(C`LIBGUESTFS_DEBUG=1\*(C'\fR
before running the program.
.SS "download"
.IX Subsection "download"
.Vb 1
\& download remotefilename (filename|\-)
.Ve
.PP
Download file \f(CW\*(C`remotefilename\*(C'\fR and save it as \f(CW\*(C`filename\*(C'\fR on the local
machine.
.PP
\&\f(CW\*(C`filename\*(C'\fR can also be a named pipe.
.PP
See also \*(L"upload\*(R", \*(L"cat\*(R".
.PP
Use \f(CW\*(C`\-\*(C'\fR instead of a filename to read/write from stdin/stdout.
.SS "download-offset"
.IX Subsection "download-offset"
.Vb 1
\& download\-offset remotefilename (filename|\-) offset size
.Ve
.PP
Download file \f(CW\*(C`remotefilename\*(C'\fR and save it as \f(CW\*(C`filename\*(C'\fR on the local
machine.
.PP
\&\f(CW\*(C`remotefilename\*(C'\fR is read for \f(CW\*(C`size\*(C'\fR bytes starting at \f(CW\*(C`offset\*(C'\fR (this
region must be within the file or device).
.PP
Note that there is no limit on the amount of data that can be downloaded
with this call, unlike with \*(L"pread\*(R", and this call always reads the full
amount unless an error occurs.
.PP
See also \*(L"download\*(R", \*(L"pread\*(R".
.PP
Use \f(CW\*(C`\-\*(C'\fR instead of a filename to read/write from stdin/stdout.
.SS "drop-caches"
.IX Subsection "drop-caches"
.Vb 1
\& drop\-caches whattodrop
.Ve
.PP
This instructs the guest kernel to drop its page cache, and/or dentries and
inode caches.  The parameter \f(CW\*(C`whattodrop\*(C'\fR tells the kernel what precisely
to drop, see http://linux\-mm.org/Drop_Caches <http://linux-mm.org/Drop_Caches>
.PP
Setting \f(CW\*(C`whattodrop\*(C'\fR to 3 should drop everything.
.PP
This automatically calls \fIsync\fR\|(2) before the operation, so that the
maximum guest memory is freed.
.SS "du"
.IX Subsection "du"
.Vb 1
\& du шлях
.Ve
.PP
This command runs the \f(CW\*(C`du \-s\*(C'\fR command to estimate file space usage for
\&\f(CW\*(C`path\*(C'\fR.
.PP
\&\f(CW\*(C`path\*(C'\fR can be a file or a directory.  If \f(CW\*(C`path\*(C'\fR is a directory then the
estimate includes the contents of the directory and all subdirectories
(recursively).
.PP
The result is the estimated size in \fIkilobytes\fR (ie. units of 1024 bytes).
.SS "e2fsck"
.IX Subsection "e2fsck"
.Vb 1
\& e2fsck device [correct:true|false] [forceall:true|false]
.Ve
.PP
This runs the ext2/ext3 filesystem checker on \f(CW\*(C`device\*(C'\fR.  It can take the
following optional arguments:
.ie n .IP """correct""" 4
.el .IP "\f(CWcorrect\fR" 4
.IX Item "correct"
Automatically repair the file system. This option will cause e2fsck to
automatically fix any filesystem problems that can be safely fixed without
human intervention.
.Sp
This option may not be specified at the same time as the \f(CW\*(C`forceall\*(C'\fR option.
.ie n .IP """forceall""" 4
.el .IP "\f(CWforceall\fR" 4
.IX Item "forceall"
Assume an answer of 'yes' to all questions; allows e2fsck to be used
non-interactively.
.Sp
This option may not be specified at the same time as the \f(CW\*(C`correct\*(C'\fR option.
.PP
This command has one or more optional arguments.  See \*(L"\s-1OPTIONAL\s0
\&\s-1ARGUMENTS\s0\*(R".
.SS "e2fsck\-f"
.IX Subsection "e2fsck-f"
.Vb 1
\& e2fsck\-f device
.Ve
.PP
This runs \f(CW\*(C`e2fsck \-p \-f device\*(C'\fR, ie. runs the ext2/ext3 filesystem checker
on \f(CW\*(C`device\*(C'\fR, noninteractively (\fI\-p\fR), even if the filesystem appears to be
clean (\fI\-f\fR).
.PP
\&\fIThis function is deprecated.\fR In new code, use the \*(L"e2fsck\*(R" call
instead.
.PP
Deprecated functions will not be removed from the \s-1API\s0, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.
.SS "echo-daemon"
.IX Subsection "echo-daemon"
.Vb 1
\& echo\-daemon \*(Aqwords ...\*(Aq
.Ve
.PP
This command concatenates the list of \f(CW\*(C`words\*(C'\fR passed with single spaces
between them and returns the resulting string.
.PP
You can use this command to test the connection through to the daemon.
.PP
Див. також \*(L"ping-daemon\*(R".
.SS "egrep"
.IX Subsection "egrep"
.Vb 1
\& egrep regex path
.Ve
.PP
This calls the external \f(CW\*(C`egrep\*(C'\fR program and returns the matching lines.
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "egrepi"
.IX Subsection "egrepi"
.Vb 1
\& egrepi regex path
.Ve
.PP
This calls the external \f(CW\*(C`egrep \-i\*(C'\fR program and returns the matching lines.
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "equal"
.IX Subsection "equal"
.Vb 1
\& equal файл1 файл2
.Ve
.PP
This compares the two files \f(CW\*(C`file1\*(C'\fR and \f(CW\*(C`file2\*(C'\fR and returns true if their
content is exactly equal, or false otherwise.
.PP
The external \fIcmp\fR\|(1) program is used for the comparison.
.SS "exists"
.IX Subsection "exists"
.Vb 1
\& exists шлях
.Ve
.PP
This returns \f(CW\*(C`true\*(C'\fR if and only if there is a file, directory (or anything)
with the given \f(CW\*(C`path\*(C'\fR name.
.PP
Див. також \*(L"is-file\*(R", \*(L"is-dir\*(R", \*(L"stat\*(R".
.SS "fallocate"
.IX Subsection "fallocate"
.Vb 1
\& fallocate шлях довжина
.Ve
.PP
This command preallocates a file (containing zero bytes) named \f(CW\*(C`path\*(C'\fR of
size \f(CW\*(C`len\*(C'\fR bytes.  If the file exists already, it is overwritten.
.PP
Do not confuse this with the guestfish-specific \f(CW\*(C`alloc\*(C'\fR command which
allocates a file in the host and attaches it as a device.
.PP
\&\fIThis function is deprecated.\fR In new code, use the \*(L"fallocate64\*(R" call
instead.
.PP
Deprecated functions will not be removed from the \s-1API\s0, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.
.SS "fallocate64"
.IX Subsection "fallocate64"
.Vb 1
\& fallocate64 шлях довжина
.Ve
.PP
This command preallocates a file (containing zero bytes) named \f(CW\*(C`path\*(C'\fR of
size \f(CW\*(C`len\*(C'\fR bytes.  If the file exists already, it is overwritten.
.PP
Note that this call allocates disk blocks for the file.  To create a sparse
file use \*(L"truncate-size\*(R" instead.
.PP
The deprecated call \*(L"fallocate\*(R" does the same, but owing to an oversight
it only allowed 30 bit lengths to be specified, effectively limiting the
maximum size of files created through that call to 1GB.
.PP
Do not confuse this with the guestfish-specific \f(CW\*(C`alloc\*(C'\fR and \f(CW\*(C`sparse\*(C'\fR
commands which create a file in the host and attach it as a device.
.SS "fgrep"
.IX Subsection "fgrep"
.Vb 1
\& fgrep шаблон шлях
.Ve
.PP
This calls the external \f(CW\*(C`fgrep\*(C'\fR program and returns the matching lines.
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "fgrepi"
.IX Subsection "fgrepi"
.Vb 1
\& fgrepi шаблон шлях
.Ve
.PP
This calls the external \f(CW\*(C`fgrep \-i\*(C'\fR program and returns the matching lines.
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "file"
.IX Subsection "file"
.Vb 1
\& file шлях
.Ve
.PP
This call uses the standard \fIfile\fR\|(1) command to determine the type or
contents of the file.
.PP
This call will also transparently look inside various types of compressed
file.
.PP
The exact command which runs is \f(CW\*(C`file \-zb path\*(C'\fR.  Note in particular that
the filename is not prepended to the output (the \fI\-b\fR option).
.PP
The output depends on the output of the underlying \fIfile\fR\|(1) command and it
can change in future in ways beyond our control.  In other words, the output
is not guaranteed by the \s-1ABI\s0.
.PP
See also: \fIfile\fR\|(1), \*(L"vfs-type\*(R", \*(L"lstat\*(R", \*(L"is-file\*(R", \*(L"is-blockdev\*(R"
(etc), \*(L"is-zero\*(R".
.SS "file-architecture"
.IX Subsection "file-architecture"
.Vb 1
\& file\-architecture назва_файла
.Ve
.PP
This detects the architecture of the binary \f(CW\*(C`filename\*(C'\fR, and returns it if
known.
.PP
Currently defined architectures are:
.ie n .IP """i386""" 4
.el .IP "``i386''" 4
.IX Item "i386"
This string is returned for all 32 bit i386, i486, i586, i686 binaries
irrespective of the precise processor requirements of the binary.
.ie n .IP """x86_64""" 4
.el .IP "``x86_64''" 4
.IX Item "x86_64"
64 bit x86\-64.
.ie n .IP """sparc""" 4
.el .IP "``sparc''" 4
.IX Item "sparc"
32 bit \s-1SPARC\s0.
.ie n .IP """sparc64""" 4
.el .IP "``sparc64''" 4
.IX Item "sparc64"
64 bit \s-1SPARC\s0 V9 and above.
.ie n .IP """ia64""" 4
.el .IP "``ia64''" 4
.IX Item "ia64"
Intel Itanium.
.ie n .IP """ppc""" 4
.el .IP "``ppc''" 4
.IX Item "ppc"
32 bit Power \s-1PC\s0.
.ie n .IP """ppc64""" 4
.el .IP "``ppc64''" 4
.IX Item "ppc64"
64 bit Power \s-1PC\s0.
.PP
Libguestfs may return other architecture strings in future.
.PP
The function works on at least the following types of files:
.IP "\(bu" 4
many types of Un*x and Linux binary
.IP "\(bu" 4
many types of Un*x and Linux shared library
.IP "\(bu" 4
Windows Win32 and Win64 binaries
.IP "\(bu" 4
Windows Win32 and Win64 DLLs
.Sp
Win32 binaries and DLLs return \f(CW\*(C`i386\*(C'\fR.
.Sp
Win64 binaries and DLLs return \f(CW\*(C`x86_64\*(C'\fR.
.IP "\(bu" 4
Linux kernel modules
.IP "\(bu" 4
Linux new-style initrd images
.IP "\(bu" 4
some non\-x86 Linux vmlinuz kernels
.PP
What it can't do currently:
.IP "\(bu" 4
static libraries (libfoo.a)
.IP "\(bu" 4
Linux old-style initrd as compressed ext2 filesystem (\s-1RHEL\s0 3)
.IP "\(bu" 4
x86 Linux vmlinuz kernels
.Sp
x86 vmlinuz images (bzImage format) consist of a mix of 16\-, 32\- and
compressed code, and are horribly hard to unpack.  If you want to find the
architecture of a kernel, use the architecture of the associated initrd or
kernel module(s) instead.
.SS "filesize"
.IX Subsection "filesize"
.Vb 1
\& filesize файл
.Ve
.PP
This command returns the size of \f(CW\*(C`file\*(C'\fR in bytes.
.PP
To get other stats about a file, use \*(L"stat\*(R", \*(L"lstat\*(R", \*(L"is-dir\*(R",
\&\*(L"is-file\*(R" etc.  To get the size of block devices, use
\&\*(L"blockdev\-getsize64\*(R".
.SS "fill"
.IX Subsection "fill"
.Vb 1
\& fill c len path
.Ve
.PP
This command creates a new file called \f(CW\*(C`path\*(C'\fR.  The initial content of the
file is \f(CW\*(C`len\*(C'\fR octets of \f(CW\*(C`c\*(C'\fR, where \f(CW\*(C`c\*(C'\fR must be a number in the range
\&\f(CW\*(C`[0..255]\*(C'\fR.
.PP
To fill a file with zero bytes (sparsely), it is much more efficient to use
\&\*(L"truncate-size\*(R".  To create a file with a pattern of repeating bytes use
\&\*(L"fill-pattern\*(R".
.SS "fill-pattern"
.IX Subsection "fill-pattern"
.Vb 1
\& fill\-pattern pattern len path
.Ve
.PP
This function is like \*(L"fill\*(R" except that it creates a new file of length
\&\f(CW\*(C`len\*(C'\fR containing the repeating pattern of bytes in \f(CW\*(C`pattern\*(C'\fR.  The pattern
is truncated if necessary to ensure the length of the file is exactly \f(CW\*(C`len\*(C'\fR
bytes.
.SS "find"
.IX Subsection "find"
.Vb 1
\& find каталог
.Ve
.PP
This command lists out all files and directories, recursively, starting at
\&\f(CW\*(C`directory\*(C'\fR.  It is essentially equivalent to running the shell command
\&\f(CW\*(C`find directory \-print\*(C'\fR but some post-processing happens on the output,
described below.
.PP
This returns a list of strings \fIwithout any prefix\fR.  Thus if the directory
structure was:
.PP
.Vb 3
\& /tmp/a
\& /tmp/b
\& /tmp/c/d
.Ve
.PP
then the returned list from \*(L"find\*(R" \f(CW\*(C`/tmp\*(C'\fR would be 4 elements:
.PP
.Vb 4
\& a
\& b
\& c
\& c/d
.Ve
.PP
If \f(CW\*(C`directory\*(C'\fR is not a directory, then this command returns an error.
.PP
The returned list is sorted.
.PP
Див. також \*(L"find0\*(R".
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "find0"
.IX Subsection "find0"
.Vb 1
\& find0 каталог (файли|\-)
.Ve
.PP
This command lists out all files and directories, recursively, starting at
\&\f(CW\*(C`directory\*(C'\fR, placing the resulting list in the external file called
\&\f(CW\*(C`files\*(C'\fR.
.PP
This command works the same way as \*(L"find\*(R" with the following exceptions:
.IP "\(bu" 4
The resulting list is written to an external file.
.IP "\(bu" 4
Items (filenames) in the result are separated by \f(CW\*(C`\e0\*(C'\fR characters.  See
\&\fIfind\fR\|(1) option \fI\-print0\fR.
.IP "\(bu" 4
This command is not limited in the number of names that it can return.
.IP "\(bu" 4
The result list is not sorted.
.PP
Use \f(CW\*(C`\-\*(C'\fR instead of a filename to read/write from stdin/stdout.
.SS "findfs-label"
.IX Subsection "findfs-label"
.Vb 1
\& findfs\-label мітка
.Ve
.PP
This command searches the filesystems and returns the one which has the
given label.  An error is returned if no such filesystem can be found.
.PP
Для визначення мітки файлової системи скористайтеся \*(L"vfs-label\*(R".
.SS "findfs-uuid"
.IX Subsection "findfs-uuid"
.Vb 1
\& findfs\-uuid uuid
.Ve
.PP
This command searches the filesystems and returns the one which has the
given \s-1UUID\s0.  An error is returned if no such filesystem can be found.
.PP
Для визначення \s-1UUID\s0 файлової системи скористайтеся \*(L"vfs-uuid\*(R".
.SS "fsck"
.IX Subsection "fsck"
.Vb 1
\& fsck тип_файлової_системи пристрій
.Ve
.PP
This runs the filesystem checker (fsck) on \f(CW\*(C`device\*(C'\fR which should have
filesystem type \f(CW\*(C`fstype\*(C'\fR.
.PP
The returned integer is the status.  See \fIfsck\fR\|(8) for the list of status
codes from \f(CW\*(C`fsck\*(C'\fR.
.PP
Нотатки:
.IP "\(bu" 4
Multiple status codes can be summed together.
.IP "\(bu" 4
A non-zero return code can mean \*(L"success\*(R", for example if errors have been
corrected on the filesystem.
.IP "\(bu" 4
Checking or repairing \s-1NTFS\s0 volumes is not supported (by linux-ntfs).
.PP
This command is entirely equivalent to running \f(CW\*(C`fsck \-a \-t fstype device\*(C'\fR.
.SS "get-append"
.IX Subsection "get-append"
.Vb 1
\& get\-append
.Ve
.PP
Return the additional kernel options which are added to the guest kernel
command line.
.PP
If \f(CW\*(C`NULL\*(C'\fR then no options are added.
.SS "get-attach-method"
.IX Subsection "get-attach-method"
.Vb 1
\& get\-attach\-method
.Ve
.PP
Return the current attach method.  See \*(L"set-attach-method\*(R".
.SS "get-autosync"
.IX Subsection "get-autosync"
.Vb 1
\& get\-autosync
.Ve
.PP
Get the autosync flag.
.SS "get-direct"
.IX Subsection "get-direct"
.Vb 1
\& get\-direct
.Ve
.PP
Return the direct appliance mode flag.
.SS "get\-e2attrs"
.IX Subsection "get-e2attrs"
.Vb 1
\& get\-e2attrs file
.Ve
.PP
This returns the file attributes associated with \f(CW\*(C`file\*(C'\fR.
.PP
The attributes are a set of bits associated with each inode which affect the
behaviour of the file.  The attributes are returned as a string of letters
(described below).  The string may be empty, indicating that no file
attributes are set for this file.
.PP
These attributes are only present when the file is located on an ext2/3/4
filesystem.  Using this call on other filesystem types will result in an
error.
.PP
The characters (file attributes) in the returned string are currently:
.IP "'A'" 4
.IX Item "'A'"
When the file is accessed, its atime is not modified.
.IP "'a'" 4
.IX Item "'a'"
The file is append-only.
.IP "'c'" 4
.IX Item "'c'"
Файл стиснено на диску.
.IP "'D'" 4
.IX Item "'D'"
(Directories only.)  Changes to this directory are written synchronously to
disk.
.IP "'d'" 4
.IX Item "'d'"
The file is not a candidate for backup (see \fIdump\fR\|(8)).
.IP "'E'" 4
.IX Item "'E'"
The file has compression errors.
.IP "'e'" 4
.IX Item "'e'"
The file is using extents.
.IP "'h'" 4
.IX Item "'h'"
The file is storing its blocks in units of the filesystem blocksize instead
of sectors.
.IP "'I'" 4
.IX Item "'I'"
(Directories only.)  The directory is using hashed trees.
.IP "'i'" 4
.IX Item "'i'"
The file is immutable.  It cannot be modified, deleted or renamed.  No link
can be created to this file.
.IP "'j'" 4
.IX Item "'j'"
The file is data-journaled.
.IP "'s'" 4
.IX Item "'s'"
When the file is deleted, all its blocks will be zeroed.
.IP "'S'" 4
.IX Item "'S'"
Changes to this file are written synchronously to disk.
.IP "'T'" 4
.IX Item "'T'"
(Directories only.)  This is a hint to the block allocator that
subdirectories contained in this directory should be spread across blocks.
If not present, the block allocator will try to group subdirectories
together.
.IP "'t'" 4
.IX Item "'t'"
For a file, this disables tail-merging.  (Not used by upstream
implementations of ext2.)
.IP "'u'" 4
.IX Item "'u'"
When the file is deleted, its blocks will be saved, allowing the file to be
undeleted.
.IP "'X'" 4
.IX Item "'X'"
The raw contents of the compressed file may be accessed.
.IP "'Z'" 4
.IX Item "'Z'"
The compressed file is dirty.
.PP
More file attributes may be added to this list later.  Not all file
attributes may be set for all kinds of files.  For detailed information,
consult the \fIchattr\fR\|(1) man page.
.PP
Див. також \*(L"set\-e2attrs\*(R".
.PP
Don't confuse these attributes with extended attributes (see \*(L"getxattr\*(R").
.SS "get\-e2generation"
.IX Subsection "get-e2generation"
.Vb 1
\& get\-e2generation file
.Ve
.PP
This returns the ext2 file generation of a file.  The generation (which used
to be called the \*(L"version\*(R") is a number associated with an inode.  This is
most commonly used by \s-1NFS\s0 servers.
.PP
The generation is only present when the file is located on an ext2/3/4
filesystem.  Using this call on other filesystem types will result in an
error.
.PP
Див. \*(L"set\-e2generation\*(R".
.SS "get\-e2label"
.IX Subsection "get-e2label"
.Vb 1
\& get\-e2label пристрій
.Ve
.PP
This returns the ext2/3/4 filesystem label of the filesystem on \f(CW\*(C`device\*(C'\fR.
.PP
\&\fIThis function is deprecated.\fR In new code, use the \*(L"vfs_label\*(R" call
instead.
.PP
Deprecated functions will not be removed from the \s-1API\s0, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.
.SS "get\-e2uuid"
.IX Subsection "get-e2uuid"
.Vb 1
\& get\-e2uuid пристрій
.Ve
.PP
This returns the ext2/3/4 filesystem \s-1UUID\s0 of the filesystem on \f(CW\*(C`device\*(C'\fR.
.PP
\&\fIThis function is deprecated.\fR In new code, use the \*(L"vfs_uuid\*(R" call
instead.
.PP
Deprecated functions will not be removed from the \s-1API\s0, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.
.SS "get-memsize"
.IX Subsection "get-memsize"
.Vb 1
\& get\-memsize
.Ve
.PP
This gets the memory size in megabytes allocated to the qemu subprocess.
.PP
If \*(L"set-memsize\*(R" was not called on this handle, and if
\&\f(CW\*(C`LIBGUESTFS_MEMSIZE\*(C'\fR was not set, then this returns the compiled-in default
value for memsize.
.PP
For more information on the architecture of libguestfs, see \fIguestfs\fR\|(3).
.SS "get-network"
.IX Subsection "get-network"
.Vb 1
\& get\-network
.Ve
.PP
This returns the enable network flag.
.SS "get-path"
.IX Subsection "get-path"
.Vb 1
\& get\-path
.Ve
.PP
Return the current search path.
.PP
This is always non-NULL.  If it wasn't set already, then this will return
the default path.
.SS "get-pgroup"
.IX Subsection "get-pgroup"
.Vb 1
\& get\-pgroup
.Ve
.PP
This returns the process group flag.
.SS "get-pid"
.IX Subsection "get-pid"
.SS "\s-1PID\s0"
.IX Subsection "PID"
.Vb 1
\& get\-pid
.Ve
.PP
Return the process \s-1ID\s0 of the qemu subprocess.  If there is no qemu
subprocess, then this will return an error.
.PP
This is an internal call used for debugging and testing.
.SS "get-qemu"
.IX Subsection "get-qemu"
.Vb 1
\& get\-qemu
.Ve
.PP
Return the current qemu binary.
.PP
This is always non-NULL.  If it wasn't set already, then this will return
the default qemu binary name.
.SS "get-recovery-proc"
.IX Subsection "get-recovery-proc"
.Vb 1
\& get\-recovery\-proc
.Ve
.PP
Return the recovery process enabled flag.
.SS "get-selinux"
.IX Subsection "get-selinux"
.Vb 1
\& get\-selinux
.Ve
.PP
This returns the current setting of the selinux flag which is passed to the
appliance at boot time.  See \*(L"set-selinux\*(R".
.PP
For more information on the architecture of libguestfs, see \fIguestfs\fR\|(3).
.SS "get-smp"
.IX Subsection "get-smp"
.Vb 1
\& get\-smp
.Ve
.PP
This returns the number of virtual CPUs assigned to the appliance.
.SS "get-state"
.IX Subsection "get-state"
.Vb 1
\& get\-state
.Ve
.PP
This returns the current state as an opaque integer.  This is only useful
for printing debug and internal error messages.
.PP
For more information on states, see \fIguestfs\fR\|(3).
.SS "get-trace"
.IX Subsection "get-trace"
.Vb 1
\& get\-trace
.Ve
.PP
Return the command trace flag.
.SS "get-umask"
.IX Subsection "get-umask"
.Vb 1
\& get\-umask
.Ve
.PP
Return the current umask.  By default the umask is \f(CW022\fR unless it has been
set by calling \*(L"umask\*(R".
.SS "get-verbose"
.IX Subsection "get-verbose"
.Vb 1
\& get\-verbose
.Ve
.PP
This returns the verbose messages flag.
.SS "getcon"
.IX Subsection "getcon"
.Vb 1
\& getcon
.Ve
.PP
This gets the SELinux security context of the daemon.
.PP
See the documentation about \s-1SELINUX\s0 in \fIguestfs\fR\|(3), and \*(L"setcon\*(R"
.SS "getxattr"
.IX Subsection "getxattr"
.Vb 1
\& getxattr шлях назва
.Ve
.PP
Get a single extended attribute from file \f(CW\*(C`path\*(C'\fR named \f(CW\*(C`name\*(C'\fR.  This call
follows symlinks.  If you want to lookup an extended attribute for the
symlink itself, use \*(L"lgetxattr\*(R".
.PP
Normally it is better to get all extended attributes from a file in one go
by calling \*(L"getxattrs\*(R".  However some Linux filesystem implementations are
buggy and do not provide a way to list out attributes.  For these
filesystems (notably ntfs\-3g)  you have to know the names of the extended
attributes you want in advance and call this function.
.PP
Extended attribute values are blobs of binary data.  If there is no extended
attribute named \f(CW\*(C`name\*(C'\fR, this returns an error.
.PP
Див. також \*(L"getxattrs\*(R", \*(L"lgetxattr\*(R", \fIattr\fR\|(5).
.SS "getxattrs"
.IX Subsection "getxattrs"
.Vb 1
\& getxattrs шлях
.Ve
.PP
This call lists the extended attributes of the file or directory \f(CW\*(C`path\*(C'\fR.
.PP
At the system call level, this is a combination of the \fIlistxattr\fR\|(2) and
\&\fIgetxattr\fR\|(2) calls.
.PP
Див. також \*(L"lgetxattrs\*(R", \fIattr\fR\|(5).
.SS "glob-expand"
.IX Subsection "glob-expand"
.Vb 1
\& glob\-expand шаблон
.Ve
.PP
This command searches for all the pathnames matching \f(CW\*(C`pattern\*(C'\fR according to
the wildcard expansion rules used by the shell.
.PP
If no paths match, then this returns an empty list (note: not an error).
.PP
It is just a wrapper around the C \fIglob\fR\|(3) function with flags
\&\f(CW\*(C`GLOB_MARK|GLOB_BRACE\*(C'\fR.  See that manual page for more details.
.PP
Notice that there is no equivalent command for expanding a device name
(eg. \f(CW\*(C`/dev/sd*\*(C'\fR).  Use \*(L"list-devices\*(R", \*(L"list-partitions\*(R" etc functions
instead.
.SS "grep"
.IX Subsection "grep"
.Vb 1
\& grepi формальний_вираз шлях
.Ve
.PP
This calls the external \f(CW\*(C`grep\*(C'\fR program and returns the matching lines.
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "grepi"
.IX Subsection "grepi"
.Vb 1
\& grepi формальний_вираз шлях
.Ve
.PP
This calls the external \f(CW\*(C`grep \-i\*(C'\fR program and returns the matching lines.
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "grub-install"
.IX Subsection "grub-install"
.Vb 1
\& grub\-install кореневий пристрій
.Ve
.PP
This command installs \s-1GRUB\s0 1 (the Grand Unified Bootloader) on \f(CW\*(C`device\*(C'\fR,
with the root directory being \f(CW\*(C`root\*(C'\fR.
.PP
Нотатки:
.IP "\(bu" 4
There is currently no way in the \s-1API\s0 to install grub2, which is used by most
modern Linux guests.  It is possible to run the grub2 command from the
guest, although see the caveats in \*(L"\s-1RUNNING\s0 \s-1COMMANDS\s0\*(R" in \fIguestfs\fR\|(3).
.IP "\(bu" 4
This uses \f(CW\*(C`grub\-install\*(C'\fR from the host.  Unfortunately grub is not always
compatible with itself, so this only works in rather narrow circumstances.
Careful testing with each guest version is advisable.
.IP "\(bu" 4
If grub-install reports the error \*(L"No suitable drive was found in the
generated device map.\*(R" it may be that you need to create a
\&\f(CW\*(C`/boot/grub/device.map\*(C'\fR file first that contains the mapping between grub
device names and Linux device names.  It is usually sufficient to create a
file containing:
.Sp
.Vb 1
\& (hd0) /dev/vda
.Ve
.Sp
replacing \f(CW\*(C`/dev/vda\*(C'\fR with the name of the installation device.
.SS "head"
.IX Subsection "head"
.Vb 1
\& head шлях
.Ve
.PP
This command returns up to the first 10 lines of a file as a list of
strings.
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "head-n"
.IX Subsection "head-n"
.Vb 1
\& head\-n nrlines path
.Ve
.PP
If the parameter \f(CW\*(C`nrlines\*(C'\fR is a positive number, this returns the first
\&\f(CW\*(C`nrlines\*(C'\fR lines of the file \f(CW\*(C`path\*(C'\fR.
.PP
If the parameter \f(CW\*(C`nrlines\*(C'\fR is a negative number, this returns lines from
the file \f(CW\*(C`path\*(C'\fR, excluding the last \f(CW\*(C`nrlines\*(C'\fR lines.
.PP
If the parameter \f(CW\*(C`nrlines\*(C'\fR is zero, this returns an empty list.
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "hexdump"
.IX Subsection "hexdump"
.Vb 1
\& hexdump шлях
.Ve
.PP
This runs \f(CW\*(C`hexdump \-C\*(C'\fR on the given \f(CW\*(C`path\*(C'\fR.  The result is the
human-readable, canonical hex dump of the file.
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "initrd-cat"
.IX Subsection "initrd-cat"
.Vb 1
\& initrd\-cat шлях_initrd назва_файла
.Ve
.PP
This command unpacks the file \f(CW\*(C`filename\*(C'\fR from the initrd file called
\&\f(CW\*(C`initrdpath\*(C'\fR.  The filename must be given \fIwithout\fR the initial \f(CW\*(C`/\*(C'\fR
character.
.PP
For example, in guestfish you could use the following command to examine the
boot script (usually called \f(CW\*(C`/init\*(C'\fR)  contained in a Linux initrd or
initramfs image:
.PP
.Vb 1
\& initrd\-cat /boot/initrd\-<version>.img init
.Ve
.PP
Див. також \*(L"initrd-list\*(R".
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "initrd-list"
.IX Subsection "initrd-list"
.Vb 1
\& initrd\-list шлях
.Ve
.PP
This command lists out files contained in an initrd.
.PP
The files are listed without any initial \f(CW\*(C`/\*(C'\fR character.  The files are
listed in the order they appear (not necessarily alphabetical).  Directory
names are listed as separate items.
.PP
Old Linux kernels (2.4 and earlier) used a compressed ext2 filesystem as
initrd.  We \fIonly\fR support the newer initramfs format (compressed cpio
files).
.SS "inotify-add-watch"
.IX Subsection "inotify-add-watch"
.Vb 1
\& inotify\-add\-watch шлях маска
.Ve
.PP
Watch \f(CW\*(C`path\*(C'\fR for the events listed in \f(CW\*(C`mask\*(C'\fR.
.PP
Note that if \f(CW\*(C`path\*(C'\fR is a directory then events within that directory are
watched, but this does \fInot\fR happen recursively (in subdirectories).
.PP
Note for non-C or non-Linux callers: the inotify events are defined by the
Linux kernel \s-1ABI\s0 and are listed in \f(CW\*(C`/usr/include/sys/inotify.h\*(C'\fR.
.SS "inotify-close"
.IX Subsection "inotify-close"
.Vb 1
\& inotify\-close
.Ve
.PP
This closes the inotify handle which was previously opened by inotify_init.
It removes all watches, throws away any pending events, and deallocates all
resources.
.SS "inotify-files"
.IX Subsection "inotify-files"
.Vb 1
\& inotify\-files
.Ve
.PP
This function is a helpful wrapper around \*(L"inotify-read\*(R" which just
returns a list of pathnames of objects that were touched.  The returned
pathnames are sorted and deduplicated.
.SS "inotify-init"
.IX Subsection "inotify-init"
.Vb 1
\& inotify\-init maxevents
.Ve
.PP
This command creates a new inotify handle.  The inotify subsystem can be
used to notify events which happen to objects in the guest filesystem.
.PP
\&\f(CW\*(C`maxevents\*(C'\fR is the maximum number of events which will be queued up between
calls to \*(L"inotify-read\*(R" or \*(L"inotify-files\*(R".  If this is passed as \f(CW0\fR,
then the kernel (or previously set)  default is used.  For Linux 2.6.29 the
default was 16384 events.  Beyond this limit, the kernel throws away events,
but records the fact that it threw them away by setting a flag
\&\f(CW\*(C`IN_Q_OVERFLOW\*(C'\fR in the returned structure list (see \*(L"inotify-read\*(R").
.PP
Before any events are generated, you have to add some watches to the
internal watch list.  See: \*(L"inotify-add-watch\*(R" and \*(L"inotify-rm-watch\*(R".
.PP
Queued up events should be read periodically by calling \*(L"inotify-read\*(R" (or
\&\*(L"inotify-files\*(R" which is just a helpful wrapper around \*(L"inotify-read\*(R").
If you don't read the events out often enough then you risk the internal
queue overflowing.
.PP
The handle should be closed after use by calling \*(L"inotify-close\*(R".  This
also removes any watches automatically.
.PP
See also \fIinotify\fR\|(7) for an overview of the inotify interface as exposed
by the Linux kernel, which is roughly what we expose via libguestfs.  Note
that there is one global inotify handle per libguestfs instance.
.SS "inotify-read"
.IX Subsection "inotify-read"
.Vb 1
\& inotify\-read
.Ve
.PP
Return the complete queue of events that have happened since the previous
read call.
.PP
If no events have happened, this returns an empty list.
.PP
\&\fINote\fR: In order to make sure that all events have been read, you must call
this function repeatedly until it returns an empty list.  The reason is that
the call will read events up to the maximum appliance-to-host message size
and leave remaining events in the queue.
.SS "inotify-rm-watch"
.IX Subsection "inotify-rm-watch"
.Vb 1
\& inotify\-rm\-watch wd
.Ve
.PP
Remove a previously defined inotify watch.  See \*(L"inotify-add-watch\*(R".
.SS "inspect-get-arch"
.IX Subsection "inspect-get-arch"
.Vb 1
\& inspect\-get\-arch корінь
.Ve
.PP
This returns the architecture of the inspected operating system.  The
possible return values are listed under \*(L"file-architecture\*(R".
.PP
If the architecture could not be determined, then the string \f(CW\*(C`unknown\*(C'\fR is
returned.
.PP
Please read \*(L"\s-1INSPECTION\s0\*(R" in \fIguestfs\fR\|(3) for more details.
.SS "inspect-get-distro"
.IX Subsection "inspect-get-distro"
.Vb 1
\& inspect\-get\-distro корінь
.Ve
.PP
This returns the distro (distribution) of the inspected operating system.
.PP
У поточній версії визначено такі дистрибутиви:
.ie n .IP """archlinux""" 4
.el .IP "``archlinux''" 4
.IX Item "archlinux"
Arch Linux.
.ie n .IP """buildroot""" 4
.el .IP "``buildroot''" 4
.IX Item "buildroot"
Buildroot-derived distro, but not one we specifically recognize.
.ie n .IP """centos""" 4
.el .IP "``centos''" 4
.IX Item "centos"
CentOS.
.ie n .IP """cirros""" 4
.el .IP "``cirros''" 4
.IX Item "cirros"
Cirros.
.ie n .IP """debian""" 4
.el .IP "``debian''" 4
.IX Item "debian"
Debian.
.ie n .IP """fedora""" 4
.el .IP "``fedora''" 4
.IX Item "fedora"
Fedora.
.ie n .IP """freedos""" 4
.el .IP "``freedos''" 4
.IX Item "freedos"
FreeDOS.
.ie n .IP """gentoo""" 4
.el .IP "``gentoo''" 4
.IX Item "gentoo"
Gentoo.
.ie n .IP """linuxmint""" 4
.el .IP "``linuxmint''" 4
.IX Item "linuxmint"
Linux Mint.
.ie n .IP """mageia""" 4
.el .IP "``mageia''" 4
.IX Item "mageia"
Mageia.
.ie n .IP """mandriva""" 4
.el .IP "``mandriva''" 4
.IX Item "mandriva"
Mandriva.
.ie n .IP """meego""" 4
.el .IP "``meego''" 4
.IX Item "meego"
MeeGo.
.ie n .IP """opensuse""" 4
.el .IP "``opensuse''" 4
.IX Item "opensuse"
OpenSUSE.
.ie n .IP """pardus""" 4
.el .IP "``pardus''" 4
.IX Item "pardus"
Pardus.
.ie n .IP """redhat-based""" 4
.el .IP "``redhat-based''" 4
.IX Item "redhat-based"
Дистрибутив, що походить від Red Hat.
.ie n .IP """rhel""" 4
.el .IP "``rhel''" 4
.IX Item "rhel"
Red Hat Enterprise Linux.
.ie n .IP """scientificlinux""" 4
.el .IP "``scientificlinux''" 4
.IX Item "scientificlinux"
Scientific Linux.
.ie n .IP """slackware""" 4
.el .IP "``slackware''" 4
.IX Item "slackware"
Slackware.
.ie n .IP """ttylinux""" 4
.el .IP "``ttylinux''" 4
.IX Item "ttylinux"
ttylinux.
.ie n .IP """ubuntu""" 4
.el .IP "``ubuntu''" 4
.IX Item "ubuntu"
Ubuntu.
.ie n .IP """unknown""" 4
.el .IP "``unknown''" 4
.IX Item "unknown"
Дистрибутив, тип якого не вдалося визначити.
.ie n .IP """windows""" 4
.el .IP "``windows''" 4
.IX Item "windows"
Windows does not have distributions.  This string is returned if the \s-1OS\s0 type
is Windows.
.PP
Future versions of libguestfs may return other strings here.  The caller
should be prepared to handle any string.
.PP
Please read \*(L"\s-1INSPECTION\s0\*(R" in \fIguestfs\fR\|(3) for more details.
.SS "inspect-get-drive-mappings"
.IX Subsection "inspect-get-drive-mappings"
.Vb 1
\& inspect\-get\-drive\-mappings root
.Ve
.PP
This call is useful for Windows which uses a primitive system of assigning
drive letters (like \*(L"C:\*(R") to partitions.  This inspection \s-1API\s0 examines the
Windows Registry to find out how disks/partitions are mapped to drive
letters, and returns a hash table as in the example below:
.PP
.Vb 3
\& C      =>     /dev/vda2
\& E      =>     /dev/vdb1
\& F      =>     /dev/vdc1
.Ve
.PP
Note that keys are drive letters.  For Windows, the key is case insensitive
and just contains the drive letter, without the customary colon separator
character.
.PP
In future we may support other operating systems that also used drive
letters, but the keys for those might not be case insensitive and might be
longer than 1 character.  For example in \s-1OS\-9\s0, hard drives were named \f(CW\*(C`h0\*(C'\fR,
\&\f(CW\*(C`h1\*(C'\fR etc.
.PP
For Windows guests, currently only hard drive mappings are returned.
Removable disks (eg. DVD-ROMs) are ignored.
.PP
For guests that do not use drive mappings, or if the drive mappings could
not be determined, this returns an empty hash table.
.PP
Please read \*(L"\s-1INSPECTION\s0\*(R" in \fIguestfs\fR\|(3) for more details.  See also
\&\*(L"inspect-get-mountpoints\*(R", \*(L"inspect-get-filesystems\*(R".
.SS "inspect-get-filesystems"
.IX Subsection "inspect-get-filesystems"
.Vb 1
\& inspect\-get\-filesystems корінь
.Ve
.PP
This returns a list of all the filesystems that we think are associated with
this operating system.  This includes the root filesystem, other ordinary
filesystems, and non-mounted devices like swap partitions.
.PP
In the case of a multi-boot virtual machine, it is possible for a filesystem
to be shared between operating systems.
.PP
Please read \*(L"\s-1INSPECTION\s0\*(R" in \fIguestfs\fR\|(3) for more details.  See also
\&\*(L"inspect-get-mountpoints\*(R".
.SS "inspect-get-format"
.IX Subsection "inspect-get-format"
.Vb 1
\& inspect\-get\-format корінь
.Ve
.PP
This returns the format of the inspected operating system.  You can use it
to detect install images, live CDs and similar.
.PP
Currently defined formats are:
.ie n .IP """installed""" 4
.el .IP "``installed''" 4
.IX Item "installed"
Це встановлена операційна система.
.ie n .IP """installer""" 4
.el .IP "``installer''" 4
.IX Item "installer"
The disk image being inspected is not an installed operating system, but a
\&\fIbootable\fR install disk, live \s-1CD\s0, or similar.
.ie n .IP """unknown""" 4
.el .IP "``unknown''" 4
.IX Item "unknown"
The format of this disk image is not known.
.PP
Future versions of libguestfs may return other strings here.  The caller
should be prepared to handle any string.
.PP
Please read \*(L"\s-1INSPECTION\s0\*(R" in \fIguestfs\fR\|(3) for more details.
.SS "inspect-get-hostname"
.IX Subsection "inspect-get-hostname"
.Vb 1
\& inspect\-get\-hostname корінь
.Ve
.PP
This function returns the hostname of the operating system as found by
inspection of the guest's configuration files.
.PP
If the hostname could not be determined, then the string \f(CW\*(C`unknown\*(C'\fR is
returned.
.PP
Please read \*(L"\s-1INSPECTION\s0\*(R" in \fIguestfs\fR\|(3) for more details.
.SS "inspect-get-icon"
.IX Subsection "inspect-get-icon"
.Vb 1
\& inspect\-get\-icon root [favicon:true|false] [highquality:true|false]
.Ve
.PP
This function returns an icon corresponding to the inspected operating
system.  The icon is returned as a buffer containing a \s-1PNG\s0 image (re-encoded
to \s-1PNG\s0 if necessary).
.PP
If it was not possible to get an icon this function returns a zero-length
(non-NULL) buffer.  \fICallers must check for this case\fR.
.PP
Libguestfs will start by looking for a file called \f(CW\*(C`/etc/favicon.png\*(C'\fR or
\&\f(CW\*(C`C:\eetc\efavicon.png\*(C'\fR and if it has the correct format, the contents of this
file will be returned.  You can disable favicons by passing the optional
\&\f(CW\*(C`favicon\*(C'\fR boolean as false (default is true).
.PP
If finding the favicon fails, then we look in other places in the guest for
a suitable icon.
.PP
If the optional \f(CW\*(C`highquality\*(C'\fR boolean is true then only high quality icons
are returned, which means only icons of high resolution with an alpha
channel.  The default (false) is to return any icon we can, even if it is of
substandard quality.
.PP
Нотатки:
.IP "\(bu" 4
Unlike most other inspection \s-1API\s0 calls, the guest's disks must be mounted up
before you call this, since it needs to read information from the guest
filesystem during the call.
.IP "\(bu" 4
\&\fBSecurity:\fR The icon data comes from the untrusted guest, and should be
treated with caution.  \s-1PNG\s0 files have been known to contain exploits.
Ensure that libpng (or other relevant libraries) are fully up to date before
trying to process or display the icon.
.IP "\(bu" 4
The \s-1PNG\s0 image returned can be any size.  It might not be square.  Libguestfs
tries to return the largest, highest quality icon available.  The
application must scale the icon to the required size.
.IP "\(bu" 4
Extracting icons from Windows guests requires the external \f(CW\*(C`wrestool\*(C'\fR
program from the \f(CW\*(C`icoutils\*(C'\fR package, and several programs (\f(CW\*(C`bmptopnm\*(C'\fR,
\&\f(CW\*(C`pnmtopng\*(C'\fR, \f(CW\*(C`pamcut\*(C'\fR)  from the \f(CW\*(C`netpbm\*(C'\fR package.  These must be
installed separately.
.IP "\(bu" 4
Operating system icons are usually trademarks.  Seek legal advice before
using trademarks in applications.
.PP
This command has one or more optional arguments.  See \*(L"\s-1OPTIONAL\s0
\&\s-1ARGUMENTS\s0\*(R".
.SS "inspect-get-major-version"
.IX Subsection "inspect-get-major-version"
.Vb 1
\& inspect\-get\-major\-version корінь
.Ve
.PP
This returns the major version number of the inspected operating system.
.PP
Windows uses a consistent versioning scheme which is \fInot\fR reflected in the
popular public names used by the operating system.  Notably the operating
system known as \*(L"Windows 7\*(R" is really version 6.1 (ie. major = 6, minor =
1).  You can find out the real versions corresponding to releases of Windows
by consulting Wikipedia or \s-1MSDN\s0.
.PP
If the version could not be determined, then \f(CW0\fR is returned.
.PP
Please read \*(L"\s-1INSPECTION\s0\*(R" in \fIguestfs\fR\|(3) for more details.
.SS "inspect-get-minor-version"
.IX Subsection "inspect-get-minor-version"
.Vb 1
\& inspect\-get\-minor\-version корінь
.Ve
.PP
This returns the minor version number of the inspected operating system.
.PP
If the version could not be determined, then \f(CW0\fR is returned.
.PP
Please read \*(L"\s-1INSPECTION\s0\*(R" in \fIguestfs\fR\|(3) for more details.  See also
\&\*(L"inspect-get-major-version\*(R".
.SS "inspect-get-mountpoints"
.IX Subsection "inspect-get-mountpoints"
.Vb 1
\& inspect\-get\-mountpoints корінь
.Ve
.PP
This returns a hash of where we think the filesystems associated with this
operating system should be mounted.  Callers should note that this is at
best an educated guess made by reading configuration files such as
\&\f(CW\*(C`/etc/fstab\*(C'\fR.  \fIIn particular note\fR that this may return filesystems which
are non-existent or not mountable and callers should be prepared to handle
or ignore failures if they try to mount them.
.PP
Each element in the returned hashtable has a key which is the path of the
mountpoint (eg. \f(CW\*(C`/boot\*(C'\fR) and a value which is the filesystem that would be
mounted there (eg. \f(CW\*(C`/dev/sda1\*(C'\fR).
.PP
Non-mounted devices such as swap devices are \fInot\fR returned in this list.
.PP
For operating systems like Windows which still use drive letters, this call
will only return an entry for the first drive \*(L"mounted on\*(R" \f(CW\*(C`/\*(C'\fR.  For
information about the mapping of drive letters to partitions, see
\&\*(L"inspect-get-drive-mappings\*(R".
.PP
Please read \*(L"\s-1INSPECTION\s0\*(R" in \fIguestfs\fR\|(3) for more details.  See also
\&\*(L"inspect-get-filesystems\*(R".
.SS "inspect-get-package-format"
.IX Subsection "inspect-get-package-format"
.Vb 1
\& inspect\-get\-package\-format корінь
.Ve
.PP
This function and \*(L"inspect-get-package-management\*(R" return the package
format and package management tool used by the inspected operating system.
For example for Fedora these functions would return \f(CW\*(C`rpm\*(C'\fR (package format)
and \f(CW\*(C`yum\*(C'\fR (package management).
.PP
This returns the string \f(CW\*(C`unknown\*(C'\fR if we could not determine the package
format \fIor\fR if the operating system does not have a real packaging system
(eg. Windows).
.PP
Possible strings include: \f(CW\*(C`rpm\*(C'\fR, \f(CW\*(C`deb\*(C'\fR, \f(CW\*(C`ebuild\*(C'\fR, \f(CW\*(C`pisi\*(C'\fR, \f(CW\*(C`pacman\*(C'\fR,
\&\f(CW\*(C`pkgsrc\*(C'\fR.  Future versions of libguestfs may return other strings.
.PP
Please read \*(L"\s-1INSPECTION\s0\*(R" in \fIguestfs\fR\|(3) for more details.
.SS "inspect-get-package-management"
.IX Subsection "inspect-get-package-management"
.Vb 1
\& inspect\-get\-package\-management корінь
.Ve
.PP
\&\*(L"inspect-get-package-format\*(R" and this function return the package format
and package management tool used by the inspected operating system.  For
example for Fedora these functions would return \f(CW\*(C`rpm\*(C'\fR (package format) and
\&\f(CW\*(C`yum\*(C'\fR (package management).
.PP
This returns the string \f(CW\*(C`unknown\*(C'\fR if we could not determine the package
management tool \fIor\fR if the operating system does not have a real packaging
system (eg. Windows).
.PP
Possible strings include: \f(CW\*(C`yum\*(C'\fR, \f(CW\*(C`up2date\*(C'\fR, \f(CW\*(C`apt\*(C'\fR (for all Debian
derivatives), \f(CW\*(C`portage\*(C'\fR, \f(CW\*(C`pisi\*(C'\fR, \f(CW\*(C`pacman\*(C'\fR, \f(CW\*(C`urpmi\*(C'\fR, \f(CW\*(C`zypper\*(C'\fR.  Future
versions of libguestfs may return other strings.
.PP
Please read \*(L"\s-1INSPECTION\s0\*(R" in \fIguestfs\fR\|(3) for more details.
.SS "inspect-get-product-name"
.IX Subsection "inspect-get-product-name"
.Vb 1
\& inspect\-get\-product\-name корінь
.Ve
.PP
This returns the product name of the inspected operating system.  The
product name is generally some freeform string which can be displayed to the
user, but should not be parsed by programs.
.PP
If the product name could not be determined, then the string \f(CW\*(C`unknown\*(C'\fR is
returned.
.PP
Please read \*(L"\s-1INSPECTION\s0\*(R" in \fIguestfs\fR\|(3) for more details.
.SS "inspect-get-product-variant"
.IX Subsection "inspect-get-product-variant"
.Vb 1
\& inspect\-get\-product\-variant root
.Ve
.PP
This returns the product variant of the inspected operating system.
.PP
For Windows guests, this returns the contents of the Registry key
\&\f(CW\*(C`HKLM\eSoftware\eMicrosoft\eWindows NT\eCurrentVersion\*(C'\fR \f(CW\*(C`InstallationType\*(C'\fR
which is usually a string such as \f(CW\*(C`Client\*(C'\fR or \f(CW\*(C`Server\*(C'\fR (other values are
possible).  This can be used to distinguish consumer and enterprise versions
of Windows that have the same version number (for example, Windows 7 and
Windows 2008 Server are both version 6.1, but the former is \f(CW\*(C`Client\*(C'\fR and
the latter is \f(CW\*(C`Server\*(C'\fR).
.PP
For enterprise Linux guests, in future we intend this to return the product
variant such as \f(CW\*(C`Desktop\*(C'\fR, \f(CW\*(C`Server\*(C'\fR and so on.  But this is not
implemented at present.
.PP
If the product variant could not be determined, then the string \f(CW\*(C`unknown\*(C'\fR
is returned.
.PP
Please read \*(L"\s-1INSPECTION\s0\*(R" in \fIguestfs\fR\|(3) for more details.  See also
\&\*(L"inspect-get-product-name\*(R", \*(L"inspect-get-major-version\*(R".
.SS "inspect-get-roots"
.IX Subsection "inspect-get-roots"
.Vb 1
\& inspect\-get\-roots
.Ve
.PP
This function is a convenient way to get the list of root devices, as
returned from a previous call to \*(L"inspect-os\*(R", but without redoing the
whole inspection process.
.PP
This returns an empty list if either no root devices were found or the
caller has not called \*(L"inspect-os\*(R".
.PP
Please read \*(L"\s-1INSPECTION\s0\*(R" in \fIguestfs\fR\|(3) for more details.
.SS "inspect-get-type"
.IX Subsection "inspect-get-type"
.Vb 1
\& inspect\-get\-type корінь
.Ve
.PP
This returns the type of the inspected operating system.  Currently defined
types are:
.ie n .IP """linux""" 4
.el .IP "``linux''" 4
.IX Item "linux"
Будь\-яка заснована на Linux операційна система.
.ie n .IP """windows""" 4
.el .IP "``windows''" 4
.IX Item "windows"
Будь\-яка операційна система Microsoft Windows.
.ie n .IP """freebsd""" 4
.el .IP "``freebsd''" 4
.IX Item "freebsd"
FreeBSD.
.ie n .IP """netbsd""" 4
.el .IP "``netbsd''" 4
.IX Item "netbsd"
NetBSD.
.ie n .IP """hurd""" 4
.el .IP "``hurd''" 4
.IX Item "hurd"
GNU/Hurd.
.ie n .IP """dos""" 4
.el .IP "``dos''" 4
.IX Item "dos"
MS-DOS, FreeDOS та інші.
.ie n .IP """unknown""" 4
.el .IP "``unknown''" 4
.IX Item "unknown"
Не вдалося визначити тип операційної системи.
.PP
Future versions of libguestfs may return other strings here.  The caller
should be prepared to handle any string.
.PP
Please read \*(L"\s-1INSPECTION\s0\*(R" in \fIguestfs\fR\|(3) for more details.
.SS "inspect-get-windows-current-control-set"
.IX Subsection "inspect-get-windows-current-control-set"
.Vb 1
\& inspect\-get\-windows\-current\-control\-set root
.Ve
.PP
This returns the Windows CurrentControlSet of the inspected guest.  The
CurrentControlSet is a registry key name such as \f(CW\*(C`ControlSet001\*(C'\fR.
.PP
This call assumes that the guest is Windows and that the Registry could be
examined by inspection.  If this is not the case then an error is returned.
.PP
Please read \*(L"\s-1INSPECTION\s0\*(R" in \fIguestfs\fR\|(3) for more details.
.SS "inspect-get-windows-systemroot"
.IX Subsection "inspect-get-windows-systemroot"
.Vb 1
\& inspect\-get\-windows\-systemroot корінь
.Ve
.PP
This returns the Windows systemroot of the inspected guest.  The systemroot
is a directory path such as \f(CW\*(C`/WINDOWS\*(C'\fR.
.PP
This call assumes that the guest is Windows and that the systemroot could be
determined by inspection.  If this is not the case then an error is
returned.
.PP
Please read \*(L"\s-1INSPECTION\s0\*(R" in \fIguestfs\fR\|(3) for more details.
.SS "inspect-is-live"
.IX Subsection "inspect-is-live"
.Vb 1
\& inspect\-is\-live корінь
.Ve
.PP
If \*(L"inspect-get-format\*(R" returns \f(CW\*(C`installer\*(C'\fR (this is an install disk),
then this returns true if a live image was detected on the disk.
.PP
Please read \*(L"\s-1INSPECTION\s0\*(R" in \fIguestfs\fR\|(3) for more details.
.SS "inspect-is-multipart"
.IX Subsection "inspect-is-multipart"
.Vb 1
\& inspect\-is\-multipart корінь
.Ve
.PP
If \*(L"inspect-get-format\*(R" returns \f(CW\*(C`installer\*(C'\fR (this is an install disk),
then this returns true if the disk is part of a set.
.PP
Please read \*(L"\s-1INSPECTION\s0\*(R" in \fIguestfs\fR\|(3) for more details.
.SS "inspect-is-netinst"
.IX Subsection "inspect-is-netinst"
.Vb 1
\& inspect\-is\-netinst корінь
.Ve
.PP
If \*(L"inspect-get-format\*(R" returns \f(CW\*(C`installer\*(C'\fR (this is an install disk),
then this returns true if the disk is a network installer, ie. not a
self-contained install \s-1CD\s0 but one which is likely to require network access
to complete the install.
.PP
Please read \*(L"\s-1INSPECTION\s0\*(R" in \fIguestfs\fR\|(3) for more details.
.SS "inspect-list-applications"
.IX Subsection "inspect-list-applications"
.Vb 1
\& inspect\-list\-applications кореневий_каталог
.Ve
.PP
Return the list of applications installed in the operating system.
.PP
\&\fINote:\fR This call works differently from other parts of the inspection
\&\s-1API\s0.  You have to call \*(L"inspect-os\*(R", then \*(L"inspect-get-mountpoints\*(R",
then mount up the disks, before calling this.  Listing applications is a
significantly more difficult operation which requires access to the full
filesystem.  Also note that unlike the other \*(L"inspect\-get\-*\*(R" calls which
are just returning data cached in the libguestfs handle, this call actually
reads parts of the mounted filesystems during the call.
.PP
This returns an empty list if the inspection code was not able to determine
the list of applications.
.PP
The application structure contains the following fields:
.ie n .IP """app_name""" 4
.el .IP "\f(CWapp_name\fR" 4
.IX Item "app_name"
The name of the application.  For Red Hat-derived and Debian-derived Linux
guests, this is the package name.
.ie n .IP """app_display_name""" 4
.el .IP "\f(CWapp_display_name\fR" 4
.IX Item "app_display_name"
The display name of the application, sometimes localized to the install
language of the guest operating system.
.Sp
If unavailable this is returned as an empty string \f(CW""\fR.  Callers needing
to display something can use \f(CW\*(C`app_name\*(C'\fR instead.
.ie n .IP """app_epoch""" 4
.el .IP "\f(CWapp_epoch\fR" 4
.IX Item "app_epoch"
For package managers which use epochs, this contains the epoch of the
package (an integer).  If unavailable, this is returned as \f(CW0\fR.
.ie n .IP """app_version""" 4
.el .IP "\f(CWapp_version\fR" 4
.IX Item "app_version"
The version string of the application or package.  If unavailable this is
returned as an empty string \f(CW""\fR.
.ie n .IP """app_release""" 4
.el .IP "\f(CWapp_release\fR" 4
.IX Item "app_release"
The release string of the application or package, for package managers that
use this.  If unavailable this is returned as an empty string \f(CW""\fR.
.ie n .IP """app_install_path""" 4
.el .IP "\f(CWapp_install_path\fR" 4
.IX Item "app_install_path"
The installation path of the application (on operating systems such as
Windows which use installation paths).  This path is in the format used by
the guest operating system, it is not a libguestfs path.
.Sp
If unavailable this is returned as an empty string \f(CW""\fR.
.ie n .IP """app_trans_path""" 4
.el .IP "\f(CWapp_trans_path\fR" 4
.IX Item "app_trans_path"
The install path translated into a libguestfs path.  If unavailable this is
returned as an empty string \f(CW""\fR.
.ie n .IP """app_publisher""" 4
.el .IP "\f(CWapp_publisher\fR" 4
.IX Item "app_publisher"
The name of the publisher of the application, for package managers that use
this.  If unavailable this is returned as an empty string \f(CW""\fR.
.ie n .IP """app_url""" 4
.el .IP "\f(CWapp_url\fR" 4
.IX Item "app_url"
The \s-1URL\s0 (eg. upstream \s-1URL\s0) of the application.  If unavailable this is
returned as an empty string \f(CW""\fR.
.ie n .IP """app_source_package""" 4
.el .IP "\f(CWapp_source_package\fR" 4
.IX Item "app_source_package"
For packaging systems which support this, the name of the source package.
If unavailable this is returned as an empty string \f(CW""\fR.
.ie n .IP """app_summary""" 4
.el .IP "\f(CWapp_summary\fR" 4
.IX Item "app_summary"
A short (usually one line) description of the application or package.  If
unavailable this is returned as an empty string \f(CW""\fR.
.ie n .IP """app_description""" 4
.el .IP "\f(CWapp_description\fR" 4
.IX Item "app_description"
A longer description of the application or package.  If unavailable this is
returned as an empty string \f(CW""\fR.
.PP
Please read \*(L"\s-1INSPECTION\s0\*(R" in \fIguestfs\fR\|(3) for more details.
.SS "inspect-os"
.IX Subsection "inspect-os"
.Vb 1
\& inspect\-os
.Ve
.PP
This function uses other libguestfs functions and certain heuristics to
inspect the disk(s) (usually disks belonging to a virtual machine), looking
for operating systems.
.PP
The list returned is empty if no operating systems were found.
.PP
If one operating system was found, then this returns a list with a single
element, which is the name of the root filesystem of this operating system.
It is also possible for this function to return a list containing more than
one element, indicating a dual-boot or multi-boot virtual machine, with each
element being the root filesystem of one of the operating systems.
.PP
You can pass the root string(s) returned to other \*(L"inspect\-get\-*\*(R"
functions in order to query further information about each operating system,
such as the name and version.
.PP
This function uses other libguestfs features such as \*(L"mount-ro\*(R" and
\&\*(L"umount-all\*(R" in order to mount and unmount filesystems and look at the
contents.  This should be called with no disks currently mounted.  The
function may also use Augeas, so any existing Augeas handle will be closed.
.PP
This function cannot decrypt encrypted disks.  The caller must do that first
(supplying the necessary keys) if the disk is encrypted.
.PP
Please read \*(L"\s-1INSPECTION\s0\*(R" in \fIguestfs\fR\|(3) for more details.
.PP
Див. також \*(L"list-filesystems\*(R".
.SS "is-blockdev"
.IX Subsection "is-blockdev"
.Vb 1
\& is\-blockdev шлях
.Ve
.PP
This returns \f(CW\*(C`true\*(C'\fR if and only if there is a block device with the given
\&\f(CW\*(C`path\*(C'\fR name.
.PP
Див. також \*(L"stat\*(R".
.SS "is-chardev"
.IX Subsection "is-chardev"
.Vb 1
\& is\-chardev шлях
.Ve
.PP
This returns \f(CW\*(C`true\*(C'\fR if and only if there is a character device with the
given \f(CW\*(C`path\*(C'\fR name.
.PP
Див. також \*(L"stat\*(R".
.SS "is-config"
.IX Subsection "is-config"
.Vb 1
\& is\-config
.Ve
.PP
This returns true iff this handle is being configured (in the \f(CW\*(C`CONFIG\*(C'\fR
state).
.PP
For more information on states, see \fIguestfs\fR\|(3).
.SS "is-dir"
.IX Subsection "is-dir"
.Vb 1
\& is\-dir шлях
.Ve
.PP
This returns \f(CW\*(C`true\*(C'\fR if and only if there is a directory with the given
\&\f(CW\*(C`path\*(C'\fR name.  Note that it returns false for other objects like files.
.PP
Див. також \*(L"stat\*(R".
.SS "is-fifo"
.IX Subsection "is-fifo"
.Vb 1
\& is\-fifo шлях
.Ve
.PP
This returns \f(CW\*(C`true\*(C'\fR if and only if there is a \s-1FIFO\s0 (named pipe)  with the
given \f(CW\*(C`path\*(C'\fR name.
.PP
Див. також \*(L"stat\*(R".
.SS "is-file"
.IX Subsection "is-file"
.Vb 1
\& is\-file шлях
.Ve
.PP
This returns \f(CW\*(C`true\*(C'\fR if and only if there is a regular file with the given
\&\f(CW\*(C`path\*(C'\fR name.  Note that it returns false for other objects like
directories.
.PP
Див. також \*(L"stat\*(R".
.SS "is-launching"
.IX Subsection "is-launching"
.Vb 1
\& is\-launching
.Ve
.PP
This returns true iff this handle is launching the subprocess (in the
\&\f(CW\*(C`LAUNCHING\*(C'\fR state).
.PP
For more information on states, see \fIguestfs\fR\|(3).
.SS "is-lv"
.IX Subsection "is-lv"
.Vb 1
\& is\-lv пристрій
.Ve
.PP
This command tests whether \f(CW\*(C`device\*(C'\fR is a logical volume, and returns true
iff this is the case.
.SS "is-ready"
.IX Subsection "is-ready"
.Vb 1
\& is\-ready
.Ve
.PP
This returns true iff this handle is ready to accept commands (in the
\&\f(CW\*(C`READY\*(C'\fR state).
.PP
For more information on states, see \fIguestfs\fR\|(3).
.SS "is-socket"
.IX Subsection "is-socket"
.Vb 1
\& is\-socket шлях
.Ve
.PP
This returns \f(CW\*(C`true\*(C'\fR if and only if there is a Unix domain socket with the
given \f(CW\*(C`path\*(C'\fR name.
.PP
Див. також \*(L"stat\*(R".
.SS "is-symlink"
.IX Subsection "is-symlink"
.Vb 1
\& is\-symlink шлях
.Ve
.PP
This returns \f(CW\*(C`true\*(C'\fR if and only if there is a symbolic link with the given
\&\f(CW\*(C`path\*(C'\fR name.
.PP
Див. також \*(L"stat\*(R".
.SS "is-zero"
.IX Subsection "is-zero"
.Vb 1
\& is\-zero path
.Ve
.PP
This returns true iff the file exists and the file is empty or it contains
all zero bytes.
.SS "is-zero-device"
.IX Subsection "is-zero-device"
.Vb 1
\& is\-zero\-device device
.Ve
.PP
This returns true iff the device exists and contains all zero bytes.
.PP
Note that for large devices this can take a long time to run.
.SS "isoinfo"
.IX Subsection "isoinfo"
.Vb 1
\& isoinfo isofile
.Ve
.PP
This is the same as \*(L"isoinfo-device\*(R" except that it works for an \s-1ISO\s0 file
located inside some other mounted filesystem.  Note that in the common case
where you have added an \s-1ISO\s0 file as a libguestfs device, you would \fInot\fR
call this.  Instead you would call \*(L"isoinfo-device\*(R".
.SS "isoinfo-device"
.IX Subsection "isoinfo-device"
.Vb 1
\& isoinfo\-device device
.Ve
.PP
\&\f(CW\*(C`device\*(C'\fR is an \s-1ISO\s0 device.  This returns a struct of information read from
the primary volume descriptor (the \s-1ISO\s0 equivalent of the superblock) of the
device.
.PP
Usually it is more efficient to use the \fIisoinfo\fR\|(1) command with the \fI\-d\fR
option on the host to analyze \s-1ISO\s0 files, instead of going through
libguestfs.
.PP
For information on the primary volume descriptor fields, see
<http://wiki.osdev.org/ISO_9660#The_Primary_Volume_Descriptor>
.SS "kill-subprocess"
.IX Subsection "kill-subprocess"
.Vb 1
\& kill\-subprocess
.Ve
.PP
This kills the qemu subprocess.
.PP
Do not call this.  See: \*(L"shutdown\*(R" instead.
.PP
\&\fIThis function is deprecated.\fR In new code, use the \*(L"shutdown\*(R" call
instead.
.PP
Deprecated functions will not be removed from the \s-1API\s0, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.
.SS "launch"
.IX Subsection "launch"
.SS "run"
.IX Subsection "run"
.Vb 1
\& launch
.Ve
.PP
Internally libguestfs is implemented by running a virtual machine using
\&\fIqemu\fR\|(1).
.PP
You should call this after configuring the handle (eg. adding drives) but
before performing any actions.
.SS "lchown"
.IX Subsection "lchown"
.Vb 1
\& lchown власник група шлях
.Ve
.PP
Change the file owner to \f(CW\*(C`owner\*(C'\fR and group to \f(CW\*(C`group\*(C'\fR.  This is like
\&\*(L"chown\*(R" but if \f(CW\*(C`path\*(C'\fR is a symlink then the link itself is changed, not
the target.
.PP
Only numeric uid and gid are supported.  If you want to use names, you will
need to locate and parse the password file yourself (Augeas support makes
this relatively easy).
.SS "lgetxattr"
.IX Subsection "lgetxattr"
.Vb 1
\& lgetxattr шлях назва
.Ve
.PP
Get a single extended attribute from file \f(CW\*(C`path\*(C'\fR named \f(CW\*(C`name\*(C'\fR.  If \f(CW\*(C`path\*(C'\fR
is a symlink, then this call returns an extended attribute from the symlink.
.PP
Normally it is better to get all extended attributes from a file in one go
by calling \*(L"getxattrs\*(R".  However some Linux filesystem implementations are
buggy and do not provide a way to list out attributes.  For these
filesystems (notably ntfs\-3g)  you have to know the names of the extended
attributes you want in advance and call this function.
.PP
Extended attribute values are blobs of binary data.  If there is no extended
attribute named \f(CW\*(C`name\*(C'\fR, this returns an error.
.PP
Див. також \*(L"lgetxattrs\*(R", \*(L"getxattr\*(R", \fIattr\fR\|(5).
.SS "lgetxattrs"
.IX Subsection "lgetxattrs"
.Vb 1
\& lgetxattrs шлях
.Ve
.PP
This is the same as \*(L"getxattrs\*(R", but if \f(CW\*(C`path\*(C'\fR is a symbolic link, then
it returns the extended attributes of the link itself.
.SS "list\-9p"
.IX Subsection "list-9p"
.Vb 1
\& list\-9p
.Ve
.PP
List all 9p filesystems attached to the guest.  A list of mount tags is
returned.
.SS "list-devices"
.IX Subsection "list-devices"
.Vb 1
\& list\-devices
.Ve
.PP
List all the block devices.
.PP
The full block device names are returned, eg. \f(CW\*(C`/dev/sda\*(C'\fR.
.PP
Див. також \*(L"list-filesystems\*(R".
.SS "list-dm-devices"
.IX Subsection "list-dm-devices"
.Vb 1
\& list\-dm\-devices
.Ve
.PP
List all device mapper devices.
.PP
The returned list contains \f(CW\*(C`/dev/mapper/*\*(C'\fR devices, eg. ones created by a
previous call to \*(L"luks-open\*(R".
.PP
Device mapper devices which correspond to logical volumes are \fInot\fR
returned in this list.  Call \*(L"lvs\*(R" if you want to list logical volumes.
.SS "list-filesystems"
.IX Subsection "list-filesystems"
.Vb 1
\& list\-filesystems
.Ve
.PP
This inspection command looks for filesystems on partitions, block devices
and logical volumes, returning a list of devices containing filesystems and
their type.
.PP
The return value is a hash, where the keys are the devices containing
filesystems, and the values are the filesystem types.  For example:
.PP
.Vb 4
\& "/dev/sda1" => "ntfs"
\& "/dev/sda2" => "ext2"
\& "/dev/vg_guest/lv_root" => "ext4"
\& "/dev/vg_guest/lv_swap" => "swap"
.Ve
.PP
The value can have the special value \*(L"unknown\*(R", meaning the content of the
device is undetermined or empty.  \*(L"swap\*(R" means a Linux swap partition.
.PP
This command runs other libguestfs commands, which might include \*(L"mount\*(R"
and \*(L"umount\*(R", and therefore you should use this soon after launch and only
when nothing is mounted.
.PP
Not all of the filesystems returned will be mountable.  In particular, swap
partitions are returned in the list.  Also this command does not check that
each filesystem found is valid and mountable, and some filesystems might be
mountable but require special options.  Filesystems may not all belong to a
single logical operating system (use \*(L"inspect-os\*(R" to look for OSes).
.SS "list-md-devices"
.IX Subsection "list-md-devices"
.Vb 1
\& list\-md\-devices
.Ve
.PP
List all Linux md devices.
.SS "list-partitions"
.IX Subsection "list-partitions"
.Vb 1
\& list\-partitions
.Ve
.PP
List all the partitions detected on all block devices.
.PP
The full partition device names are returned, eg. \f(CW\*(C`/dev/sda1\*(C'\fR
.PP
This does not return logical volumes.  For that you will need to call
\&\*(L"lvs\*(R".
.PP
Див. також \*(L"list-filesystems\*(R".
.SS "ll"
.IX Subsection "ll"
.Vb 1
\& ll каталог
.Ve
.PP
List the files in \f(CW\*(C`directory\*(C'\fR (relative to the root directory, there is no
cwd) in the format of 'ls \-la'.
.PP
This command is mostly useful for interactive sessions.  It is \fInot\fR
intended that you try to parse the output string.
.SS "llz"
.IX Subsection "llz"
.Vb 1
\& llz directory
.Ve
.PP
List the files in \f(CW\*(C`directory\*(C'\fR in the format of 'ls \-laZ'.
.PP
This command is mostly useful for interactive sessions.  It is \fInot\fR
intended that you try to parse the output string.
.SS "ln"
.IX Subsection "ln"
.Vb 1
\& ln призначення назва_посилання
.Ve
.PP
This command creates a hard link using the \f(CW\*(C`ln\*(C'\fR command.
.SS "ln-f"
.IX Subsection "ln-f"
.Vb 1
\& ln\-f призначення назва_посилання
.Ve
.PP
This command creates a hard link using the \f(CW\*(C`ln \-f\*(C'\fR command.  The \fI\-f\fR
option removes the link (\f(CW\*(C`linkname\*(C'\fR) if it exists already.
.SS "ln-s"
.IX Subsection "ln-s"
.Vb 1
\& ln\-s призначення назва_посилання
.Ve
.PP
This command creates a symbolic link using the \f(CW\*(C`ln \-s\*(C'\fR command.
.SS "ln-sf"
.IX Subsection "ln-sf"
.Vb 1
\& ln\-sf призначення назва_посилання
.Ve
.PP
This command creates a symbolic link using the \f(CW\*(C`ln \-sf\*(C'\fR command, The \fI\-f\fR
option removes the link (\f(CW\*(C`linkname\*(C'\fR) if it exists already.
.SS "lremovexattr"
.IX Subsection "lremovexattr"
.Vb 1
\& lremovexattr xattr path
.Ve
.PP
This is the same as \*(L"removexattr\*(R", but if \f(CW\*(C`path\*(C'\fR is a symbolic link, then
it removes an extended attribute of the link itself.
.SS "ls"
.IX Subsection "ls"
.Vb 1
\& ls каталог
.Ve
.PP
List the files in \f(CW\*(C`directory\*(C'\fR (relative to the root directory, there is no
cwd).  The '.' and '..' entries are not returned, but hidden files are
shown.
.PP
This command is mostly useful for interactive sessions.  Programs should
probably use \*(L"readdir\*(R" instead.
.SS "lsetxattr"
.IX Subsection "lsetxattr"
.Vb 1
\& lsetxattr xattr val vallen path
.Ve
.PP
This is the same as \*(L"setxattr\*(R", but if \f(CW\*(C`path\*(C'\fR is a symbolic link, then it
sets an extended attribute of the link itself.
.SS "lstat"
.IX Subsection "lstat"
.Vb 1
\& lstat шлях
.Ve
.PP
Returns file information for the given \f(CW\*(C`path\*(C'\fR.
.PP
This is the same as \*(L"stat\*(R" except that if \f(CW\*(C`path\*(C'\fR is a symbolic link, then
the link is stat-ed, not the file it refers to.
.PP
This is the same as the \f(CWlstat(2)\fR system call.
.SS "lstatlist"
.IX Subsection "lstatlist"
.Vb 1
\& lstatlist path \*(Aqnames ...\*(Aq
.Ve
.PP
This call allows you to perform the \*(L"lstat\*(R" operation on multiple files,
where all files are in the directory \f(CW\*(C`path\*(C'\fR.  \f(CW\*(C`names\*(C'\fR is the list of files
from this directory.
.PP
On return you get a list of stat structs, with a one-to-one correspondence
to the \f(CW\*(C`names\*(C'\fR list.  If any name did not exist or could not be lstat'd,
then the \f(CW\*(C`ino\*(C'\fR field of that structure is set to \f(CW\*(C`\-1\*(C'\fR.
.PP
This call is intended for programs that want to efficiently list a directory
contents without making many round-trips.  See also \*(L"lxattrlist\*(R" for a
similarly efficient call for getting extended attributes.  Very long
directory listings might cause the protocol message size to be exceeded,
causing this call to fail.  The caller must split up such requests into
smaller groups of names.
.SS "luks-add-key"
.IX Subsection "luks-add-key"
.Vb 1
\& luks\-add\-key device keyslot
.Ve
.PP
This command adds a new key on \s-1LUKS\s0 device \f(CW\*(C`device\*(C'\fR.  \f(CW\*(C`key\*(C'\fR is any
existing key, and is used to access the device.  \f(CW\*(C`newkey\*(C'\fR is the new key to
add.  \f(CW\*(C`keyslot\*(C'\fR is the key slot that will be replaced.
.PP
Note that if \f(CW\*(C`keyslot\*(C'\fR already contains a key, then this command will
fail.  You have to use \*(L"luks-kill-slot\*(R" first to remove that key.
.PP
This command has one or more key or passphrase parameters.  Guestfish will
prompt for these separately.
.SS "luks-close"
.IX Subsection "luks-close"
.Vb 1
\& luks\-close пристрій
.Ve
.PP
This closes a \s-1LUKS\s0 device that was created earlier by \*(L"luks-open\*(R" or
\&\*(L"luks-open-ro\*(R".  The \f(CW\*(C`device\*(C'\fR parameter must be the name of the \s-1LUKS\s0
mapping device (ie. \f(CW\*(C`/dev/mapper/mapname\*(C'\fR) and \fInot\fR the name of the
underlying block device.
.SS "luks-format"
.IX Subsection "luks-format"
.Vb 1
\& luks\-format device keyslot
.Ve
.PP
This command erases existing data on \f(CW\*(C`device\*(C'\fR and formats the device as a
\&\s-1LUKS\s0 encrypted device.  \f(CW\*(C`key\*(C'\fR is the initial key, which is added to key
slot \f(CW\*(C`slot\*(C'\fR.  (\s-1LUKS\s0 supports 8 key slots, numbered 0\-7).
.PP
This command has one or more key or passphrase parameters.  Guestfish will
prompt for these separately.
.SS "luks-format-cipher"
.IX Subsection "luks-format-cipher"
.Vb 1
\& luks\-format\-cipher device keyslot cipher
.Ve
.PP
This command is the same as \*(L"luks-format\*(R" but it also allows you to set
the \f(CW\*(C`cipher\*(C'\fR used.
.PP
This command has one or more key or passphrase parameters.  Guestfish will
prompt for these separately.
.SS "luks-kill-slot"
.IX Subsection "luks-kill-slot"
.Vb 1
\& luks\-kill\-slot device keyslot
.Ve
.PP
This command deletes the key in key slot \f(CW\*(C`keyslot\*(C'\fR from the encrypted \s-1LUKS\s0
device \f(CW\*(C`device\*(C'\fR.  \f(CW\*(C`key\*(C'\fR must be one of the \fIother\fR keys.
.PP
This command has one or more key or passphrase parameters.  Guestfish will
prompt for these separately.
.SS "luks-open"
.IX Subsection "luks-open"
.Vb 1
\& luks\-open device mapname
.Ve
.PP
This command opens a block device which has been encrypted according to the
Linux Unified Key Setup (\s-1LUKS\s0) standard.
.PP
\&\f(CW\*(C`device\*(C'\fR is the encrypted block device or partition.
.PP
The caller must supply one of the keys associated with the \s-1LUKS\s0 block
device, in the \f(CW\*(C`key\*(C'\fR parameter.
.PP
This creates a new block device called \f(CW\*(C`/dev/mapper/mapname\*(C'\fR.  Reads and
writes to this block device are decrypted from and encrypted to the
underlying \f(CW\*(C`device\*(C'\fR respectively.
.PP
If this block device contains \s-1LVM\s0 volume groups, then calling \*(L"vgscan\*(R"
followed by \*(L"vg-activate-all\*(R" will make them visible.
.PP
Use \*(L"list-dm-devices\*(R" to list all device mapper devices.
.PP
This command has one or more key or passphrase parameters.  Guestfish will
prompt for these separately.
.SS "luks-open-ro"
.IX Subsection "luks-open-ro"
.Vb 1
\& luks\-open\-ro device mapname
.Ve
.PP
This is the same as \*(L"luks-open\*(R" except that a read-only mapping is
created.
.PP
This command has one or more key or passphrase parameters.  Guestfish will
prompt for these separately.
.SS "lvcreate"
.IX Subsection "lvcreate"
.Vb 1
\& lvcreate logvol volgroup mbytes
.Ve
.PP
This creates an \s-1LVM\s0 logical volume called \f(CW\*(C`logvol\*(C'\fR on the volume group
\&\f(CW\*(C`volgroup\*(C'\fR, with \f(CW\*(C`size\*(C'\fR megabytes.
.SS "lvcreate-free"
.IX Subsection "lvcreate-free"
.Vb 1
\& lvcreate\-free logvol volgroup percent
.Ve
.PP
Create an \s-1LVM\s0 logical volume called \f(CW\*(C`/dev/volgroup/logvol\*(C'\fR, using
approximately \f(CW\*(C`percent\*(C'\fR % of the free space remaining in the volume group.
Most usefully, when \f(CW\*(C`percent\*(C'\fR is \f(CW100\fR this will create the largest
possible \s-1LV\s0.
.SS "lvm-canonical-lv-name"
.IX Subsection "lvm-canonical-lv-name"
.Vb 1
\& lvm\-canonical\-lv\-name lvname
.Ve
.PP
This converts alternative naming schemes for LVs that you might find to the
canonical name.  For example, \f(CW\*(C`/dev/mapper/VG\-LV\*(C'\fR is converted to
\&\f(CW\*(C`/dev/VG/LV\*(C'\fR.
.PP
This command returns an error if the \f(CW\*(C`lvname\*(C'\fR parameter does not refer to a
logical volume.
.PP
Див. також \*(L"is-lv\*(R".
.SS "lvm-clear-filter"
.IX Subsection "lvm-clear-filter"
.Vb 1
\& lvm\-clear\-filter
.Ve
.PP
This undoes the effect of \*(L"lvm-set-filter\*(R".  \s-1LVM\s0 will be able to see every
block device.
.PP
This command also clears the \s-1LVM\s0 cache and performs a volume group scan.
.SS "lvm-remove-all"
.IX Subsection "lvm-remove-all"
.Vb 1
\& lvm\-remove\-all
.Ve
.PP
This command removes all \s-1LVM\s0 logical volumes, volume groups and physical
volumes.
.SS "lvm-set-filter"
.IX Subsection "lvm-set-filter"
.Vb 1
\& lvm\-set\-filter \*(Aqпристрої...\*(Aq
.Ve
.PP
This sets the \s-1LVM\s0 device filter so that \s-1LVM\s0 will only be able to \*(L"see\*(R" the
block devices in the list \f(CW\*(C`devices\*(C'\fR, and will ignore all other attached
block devices.
.PP
Where disk image(s) contain duplicate PVs or VGs, this command is useful to
get \s-1LVM\s0 to ignore the duplicates, otherwise \s-1LVM\s0 can get confused.  Note also
there are two types of duplication possible: either cloned PVs/VGs which
have identical UUIDs; or VGs that are not cloned but just happen to have the
same name.  In normal operation you cannot create this situation, but you
can do it outside \s-1LVM\s0, eg.  by cloning disk images or by bit twiddling
inside the \s-1LVM\s0 metadata.
.PP
This command also clears the \s-1LVM\s0 cache and performs a volume group scan.
.PP
You can filter whole block devices or individual partitions.
.PP
You cannot use this if any \s-1VG\s0 is currently in use (eg.  contains a mounted
filesystem), even if you are not filtering out that \s-1VG\s0.
.SS "lvremove"
.IX Subsection "lvremove"
.Vb 1
\& lvremove пристрій
.Ve
.PP
Remove an \s-1LVM\s0 logical volume \f(CW\*(C`device\*(C'\fR, where \f(CW\*(C`device\*(C'\fR is the path to the
\&\s-1LV\s0, such as \f(CW\*(C`/dev/VG/LV\*(C'\fR.
.PP
You can also remove all LVs in a volume group by specifying the \s-1VG\s0 name,
\&\f(CW\*(C`/dev/VG\*(C'\fR.
.SS "lvrename"
.IX Subsection "lvrename"
.Vb 1
\& lvrename logvol newlogvol
.Ve
.PP
Rename a logical volume \f(CW\*(C`logvol\*(C'\fR with the new name \f(CW\*(C`newlogvol\*(C'\fR.
.SS "lvresize"
.IX Subsection "lvresize"
.Vb 1
\& lvresize device mbytes
.Ve
.PP
This resizes (expands or shrinks) an existing \s-1LVM\s0 logical volume to
\&\f(CW\*(C`mbytes\*(C'\fR.  When reducing, data in the reduced part is lost.
.SS "lvresize-free"
.IX Subsection "lvresize-free"
.Vb 1
\& lvresize\-free lv percent
.Ve
.PP
This expands an existing logical volume \f(CW\*(C`lv\*(C'\fR so that it fills \f(CW\*(C`pc\*(C'\fR% of the
remaining free space in the volume group.  Commonly you would call this with
pc = 100 which expands the logical volume as much as possible, using all
remaining free space in the volume group.
.SS "lvs"
.IX Subsection "lvs"
.Vb 1
\& lvs
.Ve
.PP
List all the logical volumes detected.  This is the equivalent of the
\&\fIlvs\fR\|(8) command.
.PP
This returns a list of the logical volume device names
(eg. \f(CW\*(C`/dev/VolGroup00/LogVol00\*(C'\fR).
.PP
Див. також \*(L"lvs-full\*(R", \*(L"list-filesystems\*(R".
.SS "lvs-full"
.IX Subsection "lvs-full"
.Vb 1
\& lvs\-full
.Ve
.PP
List all the logical volumes detected.  This is the equivalent of the
\&\fIlvs\fR\|(8) command.  The \*(L"full\*(R" version includes all fields.
.SS "lvuuid"
.IX Subsection "lvuuid"
.Vb 1
\& lvuuid пристрій
.Ve
.PP
This command returns the \s-1UUID\s0 of the \s-1LVM\s0 \s-1LV\s0 \f(CW\*(C`device\*(C'\fR.
.SS "lxattrlist"
.IX Subsection "lxattrlist"
.Vb 1
\& lxattrlist path \*(Aqnames ...\*(Aq
.Ve
.PP
This call allows you to get the extended attributes of multiple files, where
all files are in the directory \f(CW\*(C`path\*(C'\fR.  \f(CW\*(C`names\*(C'\fR is the list of files from
this directory.
.PP
On return you get a flat list of xattr structs which must be interpreted
sequentially.  The first xattr struct always has a zero-length \f(CW\*(C`attrname\*(C'\fR.
\&\f(CW\*(C`attrval\*(C'\fR in this struct is zero-length to indicate there was an error
doing \f(CW\*(C`lgetxattr\*(C'\fR for this file, \fIor\fR is a C string which is a decimal
number (the number of following attributes for this file, which could be
\&\f(CW"0"\fR).  Then after the first xattr struct are the zero or more attributes
for the first named file.  This repeats for the second and subsequent files.
.PP
This call is intended for programs that want to efficiently list a directory
contents without making many round-trips.  See also \*(L"lstatlist\*(R" for a
similarly efficient call for getting standard stats.  Very long directory
listings might cause the protocol message size to be exceeded, causing this
call to fail.  The caller must split up such requests into smaller groups of
names.
.SS "md-create"
.IX Subsection "md-create"
.Vb 1
\& md\-create name \*(Aqdevices ...\*(Aq [missingbitmap:N] [nrdevices:N] [spare:N] [chunk:N] [level:..]
.Ve
.PP
Create a Linux md (\s-1RAID\s0) device named \f(CW\*(C`name\*(C'\fR on the devices in the list
\&\f(CW\*(C`devices\*(C'\fR.
.PP
Додатковими параметрами є:
.ie n .IP """missingbitmap""" 4
.el .IP "\f(CWmissingbitmap\fR" 4
.IX Item "missingbitmap"
A bitmap of missing devices.  If a bit is set it means that a missing device
is added to the array.  The least significant bit corresponds to the first
device in the array.
.Sp
As examples:
.Sp
If \f(CW\*(C`devices = ["/dev/sda"]\*(C'\fR and \f(CW\*(C`missingbitmap = 0x1\*(C'\fR then the resulting
array would be \f(CW\*(C`[<missing>, "/dev/sda"]\*(C'\fR.
.Sp
If \f(CW\*(C`devices = ["/dev/sda"]\*(C'\fR and \f(CW\*(C`missingbitmap = 0x2\*(C'\fR then the resulting
array would be \f(CW\*(C`["/dev/sda", <missing>]\*(C'\fR.
.Sp
This defaults to \f(CW0\fR (no missing devices).
.Sp
The length of \f(CW\*(C`devices\*(C'\fR + the number of bits set in \f(CW\*(C`missingbitmap\*(C'\fR must
equal \f(CW\*(C`nrdevices\*(C'\fR + \f(CW\*(C`spare\*(C'\fR.
.ie n .IP """nrdevices""" 4
.el .IP "\f(CWnrdevices\fR" 4
.IX Item "nrdevices"
The number of active \s-1RAID\s0 devices.
.Sp
If not set, this defaults to the length of \f(CW\*(C`devices\*(C'\fR plus the number of
bits set in \f(CW\*(C`missingbitmap\*(C'\fR.
.ie n .IP """spare""" 4
.el .IP "\f(CWspare\fR" 4
.IX Item "spare"
The number of spare devices.
.Sp
If not set, this defaults to \f(CW0\fR.
.ie n .IP """chunk""" 4
.el .IP "\f(CWchunk\fR" 4
.IX Item "chunk"
The chunk size in bytes.
.ie n .IP """level""" 4
.el .IP "\f(CWlevel\fR" 4
.IX Item "level"
The \s-1RAID\s0 level, which can be one of: \fIlinear\fR, \fIraid0\fR, \fI0\fR, \fIstripe\fR,
\&\fIraid1\fR, \fI1\fR, \fImirror\fR, \fIraid4\fR, \fI4\fR, \fIraid5\fR, \fI5\fR, \fIraid6\fR, \fI6\fR,
\&\fIraid10\fR, \fI10\fR.  Some of these are synonymous, and more levels may be
added in future.
.Sp
If not set, this defaults to \f(CW\*(C`raid1\*(C'\fR.
.PP
This command has one or more optional arguments.  See \*(L"\s-1OPTIONAL\s0
\&\s-1ARGUMENTS\s0\*(R".
.SS "md-detail"
.IX Subsection "md-detail"
.Vb 1
\& md\-detail md
.Ve
.PP
This command exposes the output of 'mdadm \-DY <md>'.  The following
fields are usually present in the returned hash.  Other fields may also be
present.
.ie n .IP """level""" 4
.el .IP "\f(CWlevel\fR" 4
.IX Item "level"
The raid level of the \s-1MD\s0 device.
.ie n .IP """devices""" 4
.el .IP "\f(CWdevices\fR" 4
.IX Item "devices"
The number of underlying devices in the \s-1MD\s0 device.
.ie n .IP """metadata""" 4
.el .IP "\f(CWmetadata\fR" 4
.IX Item "metadata"
The metadata version used.
.ie n .IP """uuid""" 4
.el .IP "\f(CWuuid\fR" 4
.IX Item "uuid"
The \s-1UUID\s0 of the \s-1MD\s0 device.
.ie n .IP """назва""" 4
.el .IP "\f(CWназва\fR" 4
.IX Item "назва"
The name of the \s-1MD\s0 device.
.SS "md-stat"
.IX Subsection "md-stat"
.Vb 1
\& md\-stat md
.Ve
.PP
This call returns a list of the underlying devices which make up the single
software \s-1RAID\s0 array device \f(CW\*(C`md\*(C'\fR.
.PP
To get a list of software \s-1RAID\s0 devices, call \*(L"list-md-devices\*(R".
.PP
Each structure returned corresponds to one device along with additional
status information:
.ie n .IP """mdstat_device""" 4
.el .IP "\f(CWmdstat_device\fR" 4
.IX Item "mdstat_device"
The name of the underlying device.
.ie n .IP """mdstat_index""" 4
.el .IP "\f(CWmdstat_index\fR" 4
.IX Item "mdstat_index"
The index of this device within the array.
.ie n .IP """mdstat_flags""" 4
.el .IP "\f(CWmdstat_flags\fR" 4
.IX Item "mdstat_flags"
Flags associated with this device.  This is a string containing (in no
specific order) zero or more of the following flags:
.RS 4
.ie n .IP """W""" 4
.el .IP "\f(CWW\fR" 4
.IX Item "W"
write-mostly
.ie n .IP """F""" 4
.el .IP "\f(CWF\fR" 4
.IX Item "F"
пристрій працює з помилками
.ie n .IP """S""" 4
.el .IP "\f(CWS\fR" 4
.IX Item "S"
пристрій є запасною частиною \s-1RAID\s0
.ie n .IP """R""" 4
.el .IP "\f(CWR\fR" 4
.IX Item "R"
заміна
.RE
.RS 4
.RE
.SS "md-stop"
.IX Subsection "md-stop"
.Vb 1
\& md\-stop md
.Ve
.PP
This command deactivates the \s-1MD\s0 array named \f(CW\*(C`md\*(C'\fR.  The device is stopped,
but it is not destroyed or zeroed.
.SS "mkdir"
.IX Subsection "mkdir"
.Vb 1
\& mkdir шлях
.Ve
.PP
Create a directory named \f(CW\*(C`path\*(C'\fR.
.SS "mkdir-mode"
.IX Subsection "mkdir-mode"
.Vb 1
\& mkdir\-mode шлях режим
.Ve
.PP
This command creates a directory, setting the initial permissions of the
directory to \f(CW\*(C`mode\*(C'\fR.
.PP
For common Linux filesystems, the actual mode which is set will be \f(CW\*(C`mode &
~umask & 01777\*(C'\fR.  Non-native-Linux filesystems may interpret the mode in
other ways.
.PP
Див. також \*(L"mkdir\*(R", \*(L"umask\*(R"
.SS "mkdir-p"
.IX Subsection "mkdir-p"
.Vb 1
\& mkdir\-p шлях
.Ve
.PP
Create a directory named \f(CW\*(C`path\*(C'\fR, creating any parent directories as
necessary.  This is like the \f(CW\*(C`mkdir \-p\*(C'\fR shell command.
.SS "mkdtemp"
.IX Subsection "mkdtemp"
.Vb 1
\& mkdtemp tmpl
.Ve
.PP
This command creates a temporary directory.  The \f(CW\*(C`tmpl\*(C'\fR parameter should be
a full pathname for the temporary directory name with the final six
characters being \*(L"\s-1XXXXXX\s0\*(R".
.PP
For example: \*(L"/tmp/myprogXXXXXX\*(R" or \*(L"/Temp/myprogXXXXXX\*(R", the second one
being suitable for Windows filesystems.
.PP
The name of the temporary directory that was created is returned.
.PP
The temporary directory is created with mode 0700 and is owned by root.
.PP
The caller is responsible for deleting the temporary directory and its
contents after use.
.PP
Див. також \fImkdtemp\fR\|(3)
.SS "mke2fs\-J"
.IX Subsection "mke2fs-J"
.Vb 1
\& mke2fs\-J fstype blocksize device journal
.Ve
.PP
This creates an ext2/3/4 filesystem on \f(CW\*(C`device\*(C'\fR with an external journal on
\&\f(CW\*(C`journal\*(C'\fR.  It is equivalent to the command:
.PP
.Vb 1
\& mke2fs \-t fstype \-b blocksize \-J device=<журнал> <пристрій>
.Ve
.PP
Див. також \*(L"mke2journal\*(R".
.SS "mke2fs\-JL"
.IX Subsection "mke2fs-JL"
.Vb 1
\& mke2fs\-JL fstype blocksize device label
.Ve
.PP
This creates an ext2/3/4 filesystem on \f(CW\*(C`device\*(C'\fR with an external journal on
the journal labeled \f(CW\*(C`label\*(C'\fR.
.PP
Див. також \*(L"mke2journal\-L\*(R".
.SS "mke2fs\-JU"
.IX Subsection "mke2fs-JU"
.Vb 1
\& mke2fs\-JU fstype blocksize device uuid
.Ve
.PP
This creates an ext2/3/4 filesystem on \f(CW\*(C`device\*(C'\fR with an external journal on
the journal with \s-1UUID\s0 \f(CW\*(C`uuid\*(C'\fR.
.PP
Див. також \*(L"mke2journal\-U\*(R".
.SS "mke2journal"
.IX Subsection "mke2journal"
.Vb 1
\& mke2journal blocksize device
.Ve
.PP
This creates an ext2 external journal on \f(CW\*(C`device\*(C'\fR.  It is equivalent to the
command:
.PP
.Vb 1
\& mke2fs \-O journal_dev \-b blocksize device
.Ve
.SS "mke2journal\-L"
.IX Subsection "mke2journal-L"
.Vb 1
\& mke2journal\-L blocksize label device
.Ve
.PP
This creates an ext2 external journal on \f(CW\*(C`device\*(C'\fR with label \f(CW\*(C`label\*(C'\fR.
.SS "mke2journal\-U"
.IX Subsection "mke2journal-U"
.Vb 1
\& mke2journal\-U blocksize uuid device
.Ve
.PP
This creates an ext2 external journal on \f(CW\*(C`device\*(C'\fR with \s-1UUID\s0 \f(CW\*(C`uuid\*(C'\fR.
.SS "mkfifo"
.IX Subsection "mkfifo"
.Vb 1
\& mkfifo режим шлях
.Ve
.PP
This call creates a \s-1FIFO\s0 (named pipe) called \f(CW\*(C`path\*(C'\fR with mode \f(CW\*(C`mode\*(C'\fR.  It
is just a convenient wrapper around \*(L"mknod\*(R".
.PP
The mode actually set is affected by the umask.
.SS "mkfs"
.IX Subsection "mkfs"
.Vb 1
\& mkfs тип_файлової_системи пристрій
.Ve
.PP
This creates a filesystem on \f(CW\*(C`device\*(C'\fR (usually a partition or \s-1LVM\s0 logical
volume).  The filesystem type is \f(CW\*(C`fstype\*(C'\fR, for example \f(CW\*(C`ext3\*(C'\fR.
.SS "mkfs-b"
.IX Subsection "mkfs-b"
.Vb 1
\& mkfs\-b fstype blocksize device
.Ve
.PP
This call is similar to \*(L"mkfs\*(R", but it allows you to control the block
size of the resulting filesystem.  Supported block sizes depend on the
filesystem type, but typically they are \f(CW1024\fR, \f(CW2048\fR or \f(CW4096\fR only.
.PP
For \s-1VFAT\s0 and \s-1NTFS\s0 the \f(CW\*(C`blocksize\*(C'\fR parameter is treated as the requested
cluster size.
.PP
\&\fIThis function is deprecated.\fR In new code, use the \*(L"mkfs_opts\*(R" call
instead.
.PP
Deprecated functions will not be removed from the \s-1API\s0, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.
.SS "mkfs-btrfs"
.IX Subsection "mkfs-btrfs"
.Vb 1
\& mkfs\-btrfs \*(Aqdevices ...\*(Aq [allocstart:N] [bytecount:N] [datatype:..] [leafsize:N] [label:..] [metadata:..] [nodesize:N] [sectorsize:N]
.Ve
.PP
Create a btrfs filesystem, allowing all configurables to be set.  For more
information on the optional arguments, see \fImkfs.btrfs\fR\|(8).
.PP
Since btrfs filesystems can span multiple devices, this takes a non-empty
list of devices.
.PP
To create general filesystems, use \*(L"mkfs-opts\*(R".
.PP
This command has one or more optional arguments.  See \*(L"\s-1OPTIONAL\s0
\&\s-1ARGUMENTS\s0\*(R".
.SS "mkfs-opts"
.IX Subsection "mkfs-opts"
.Vb 1
\& mkfs\-opts fstype device [blocksize:N] [features:..] [inode:N] [sectorsize:N]
.Ve
.PP
This function creates a filesystem on \f(CW\*(C`device\*(C'\fR.  The filesystem type is
\&\f(CW\*(C`fstype\*(C'\fR, for example \f(CW\*(C`ext3\*(C'\fR.
.PP
The optional arguments are:
.ie n .IP """blocksize""" 4
.el .IP "\f(CWblocksize\fR" 4
.IX Item "blocksize"
The filesystem block size.  Supported block sizes depend on the filesystem
type, but typically they are \f(CW1024\fR, \f(CW2048\fR or \f(CW4096\fR for Linux ext2/3
filesystems.
.Sp
For \s-1VFAT\s0 and \s-1NTFS\s0 the \f(CW\*(C`blocksize\*(C'\fR parameter is treated as the requested
cluster size.
.Sp
For \s-1UFS\s0 block sizes, please see \fImkfs.ufs\fR\|(8).
.ie n .IP """features""" 4
.el .IP "\f(CWfeatures\fR" 4
.IX Item "features"
This passes the \fI\-O\fR parameter to the external mkfs program.
.Sp
For certain filesystem types, this allows extra filesystem features to be
selected.  See \fImke2fs\fR\|(8) and \fImkfs.ufs\fR\|(8) for more details.
.Sp
You cannot use this optional parameter with the \f(CW\*(C`gfs\*(C'\fR or \f(CW\*(C`gfs2\*(C'\fR filesystem
type.
.ie n .IP """inode""" 4
.el .IP "\f(CWinode\fR" 4
.IX Item "inode"
This passes the \fI\-I\fR parameter to the external \fImke2fs\fR\|(8) program which
sets the inode size (only for ext2/3/4 filesystems at present).
.ie n .IP """sectorsize""" 4
.el .IP "\f(CWsectorsize\fR" 4
.IX Item "sectorsize"
This passes the \fI\-S\fR parameter to external \fImkfs.ufs\fR\|(8) program, which
sets sector size for ufs filesystem.
.PP
This command has one or more optional arguments.  See \*(L"\s-1OPTIONAL\s0
\&\s-1ARGUMENTS\s0\*(R".
.SS "mkmountpoint"
.IX Subsection "mkmountpoint"
.Vb 1
\& mkmountpoint exemptpath
.Ve
.PP
\&\*(L"mkmountpoint\*(R" and \*(L"rmmountpoint\*(R" are specialized calls that can be used
to create extra mountpoints before mounting the first filesystem.
.PP
These calls are \fIonly\fR necessary in some very limited circumstances, mainly
the case where you want to mount a mix of unrelated and/or read-only
filesystems together.
.PP
For example, live CDs often contain a \*(L"Russian doll\*(R" nest of filesystems, an
\&\s-1ISO\s0 outer layer, with a squashfs image inside, with an ext2/3 image inside
that.  You can unpack this as follows in guestfish:
.PP
.Vb 8
\& add\-ro Fedora\-11\-i686\-Live.iso
\& run
\& mkmountpoint /cd
\& mkmountpoint /sqsh
\& mkmountpoint /ext3fs
\& mount /dev/sda /cd
\& mount\-loop /cd/LiveOS/squashfs.img /sqsh
\& mount\-loop /sqsh/LiveOS/ext3fs.img /ext3fs
.Ve
.PP
The inner filesystem is now unpacked under the /ext3fs mountpoint.
.PP
\&\*(L"mkmountpoint\*(R" is not compatible with \*(L"umount-all\*(R".  You may get
unexpected errors if you try to mix these calls.  It is safest to manually
unmount filesystems and remove mountpoints after use.
.PP
\&\*(L"umount-all\*(R" unmounts filesystems by sorting the paths longest first, so
for this to work for manual mountpoints, you must ensure that the innermost
mountpoints have the longest pathnames, as in the example code above.
.PP
For more details see <https://bugzilla.redhat.com/show_bug.cgi?id=599503>
.PP
Autosync [see \*(L"set-autosync\*(R", this is set by default on handles] can cause
\&\*(L"umount-all\*(R" to be called when the handle is closed which can also trigger
these issues.
.SS "mknod"
.IX Subsection "mknod"
.Vb 1
\& mknod mode devmajor devminor path
.Ve
.PP
This call creates block or character special devices, or named pipes
(FIFOs).
.PP
The \f(CW\*(C`mode\*(C'\fR parameter should be the mode, using the standard constants.
\&\f(CW\*(C`devmajor\*(C'\fR and \f(CW\*(C`devminor\*(C'\fR are the device major and minor numbers, only
used when creating block and character special devices.
.PP
Note that, just like \fImknod\fR\|(2), the mode must be bitwise \s-1OR\s0'd with
S_IFBLK, S_IFCHR, S_IFIFO or S_IFSOCK (otherwise this call just creates a
regular file).  These constants are available in the standard Linux header
files, or you can use \*(L"mknod-b\*(R", \*(L"mknod-c\*(R" or \*(L"mkfifo\*(R" which are
wrappers around this command which bitwise \s-1OR\s0 in the appropriate constant
for you.
.PP
The mode actually set is affected by the umask.
.SS "mknod-b"
.IX Subsection "mknod-b"
.Vb 1
\& mknod\-b mode devmajor devminor path
.Ve
.PP
This call creates a block device node called \f(CW\*(C`path\*(C'\fR with mode \f(CW\*(C`mode\*(C'\fR and
device major/minor \f(CW\*(C`devmajor\*(C'\fR and \f(CW\*(C`devminor\*(C'\fR.  It is just a convenient
wrapper around \*(L"mknod\*(R".
.PP
The mode actually set is affected by the umask.
.SS "mknod-c"
.IX Subsection "mknod-c"
.Vb 1
\& mknod\-c mode devmajor devminor path
.Ve
.PP
This call creates a char device node called \f(CW\*(C`path\*(C'\fR with mode \f(CW\*(C`mode\*(C'\fR and
device major/minor \f(CW\*(C`devmajor\*(C'\fR and \f(CW\*(C`devminor\*(C'\fR.  It is just a convenient
wrapper around \*(L"mknod\*(R".
.PP
The mode actually set is affected by the umask.
.SS "mkswap"
.IX Subsection "mkswap"
.Vb 1
\& mkswap пристрій
.Ve
.PP
Create a swap partition on \f(CW\*(C`device\*(C'\fR.
.SS "mkswap-L"
.IX Subsection "mkswap-L"
.Vb 1
\& mkswap\-L мітка пристрій
.Ve
.PP
Create a swap partition on \f(CW\*(C`device\*(C'\fR with label \f(CW\*(C`label\*(C'\fR.
.PP
Note that you cannot attach a swap label to a block device
(eg. \f(CW\*(C`/dev/sda\*(C'\fR), just to a partition.  This appears to be a limitation of
the kernel or swap tools.
.SS "mkswap-U"
.IX Subsection "mkswap-U"
.Vb 1
\& mkswap\-U uuid пристрій
.Ve
.PP
Create a swap partition on \f(CW\*(C`device\*(C'\fR with \s-1UUID\s0 \f(CW\*(C`uuid\*(C'\fR.
.SS "mkswap-file"
.IX Subsection "mkswap-file"
.Vb 1
\& mkswap\-file шлях
.Ve
.PP
Створити файл резервної пам’яті.
.PP
This command just writes a swap file signature to an existing file.  To
create the file itself, use something like \*(L"fallocate\*(R".
.SS "modprobe"
.IX Subsection "modprobe"
.Vb 1
\& modprobe назва_модуля
.Ve
.PP
This loads a kernel module in the appliance.
.PP
The kernel module must have been whitelisted when libguestfs was built (see
\&\f(CW\*(C`appliance/kmod.whitelist.in\*(C'\fR in the source).
.SS "mount"
.IX Subsection "mount"
.Vb 1
\& mount пристрій точка_монтування
.Ve
.PP
Mount a guest disk at a position in the filesystem.  Block devices are named
\&\f(CW\*(C`/dev/sda\*(C'\fR, \f(CW\*(C`/dev/sdb\*(C'\fR and so on, as they were added to the guest.  If
those block devices contain partitions, they will have the usual names
(eg. \f(CW\*(C`/dev/sda1\*(C'\fR).  Also \s-1LVM\s0 \f(CW\*(C`/dev/VG/LV\*(C'\fR\-style names can be used.
.PP
The rules are the same as for \fImount\fR\|(2): A filesystem must first be
mounted on \f(CW\*(C`/\*(C'\fR before others can be mounted.  Other filesystems can only be
mounted on directories which already exist.
.PP
The mounted filesystem is writable, if we have sufficient permissions on the
underlying device.
.PP
Before libguestfs 1.13.16, this call implicitly added the options \f(CW\*(C`sync\*(C'\fR
and \f(CW\*(C`noatime\*(C'\fR.  The \f(CW\*(C`sync\*(C'\fR option greatly slowed writes and caused many
problems for users.  If your program might need to work with older versions
of libguestfs, use \*(L"mount-options\*(R" instead (using an empty string for the
first parameter if you don't want any options).
.SS "mount\-9p"
.IX Subsection "mount-9p"
.Vb 1
\& mount\-9p mounttag mountpoint [options:..]
.Ve
.PP
Mount the virtio\-9p filesystem with the tag \f(CW\*(C`mounttag\*(C'\fR on the directory
\&\f(CW\*(C`mountpoint\*(C'\fR.
.PP
If required, \f(CW\*(C`trans=virtio\*(C'\fR will be automatically added to the options.
Any other options required can be passed in the optional \f(CW\*(C`options\*(C'\fR
parameter.
.PP
This command has one or more optional arguments.  See \*(L"\s-1OPTIONAL\s0
\&\s-1ARGUMENTS\s0\*(R".
.SS "mount-local"
.IX Subsection "mount-local"
.Vb 1
\& mount\-local localmountpoint [readonly:true|false] [options:..] [cachetimeout:N] [debugcalls:true|false]
.Ve
.PP
This call exports the libguestfs-accessible filesystem to a local mountpoint
(directory) called \f(CW\*(C`localmountpoint\*(C'\fR.  Ordinary reads and writes to files
and directories under \f(CW\*(C`localmountpoint\*(C'\fR are redirected through libguestfs.
.PP
If the optional \f(CW\*(C`readonly\*(C'\fR flag is set to true, then writes to the
filesystem return error \f(CW\*(C`EROFS\*(C'\fR.
.PP
\&\f(CW\*(C`options\*(C'\fR is a comma-separated list of mount options.  See \fIguestmount\fR\|(1)
for some useful options.
.PP
\&\f(CW\*(C`cachetimeout\*(C'\fR sets the timeout (in seconds) for cached directory entries.
The default is 60 seconds.  See \fIguestmount\fR\|(1) for further information.
.PP
If \f(CW\*(C`debugcalls\*(C'\fR is set to true, then additional debugging information is
generated for every \s-1FUSE\s0 call.
.PP
When \*(L"mount-local\*(R" returns, the filesystem is ready, but is not processing
requests (access to it will block).  You have to call \*(L"mount-local-run\*(R" to
run the main loop.
.PP
See \*(L"\s-1MOUNT\s0 \s-1LOCAL\s0\*(R" in \fIguestfs\fR\|(3) for full documentation.
.PP
This command has one or more optional arguments.  See \*(L"\s-1OPTIONAL\s0
\&\s-1ARGUMENTS\s0\*(R".
.SS "mount-local-run"
.IX Subsection "mount-local-run"
.Vb 1
\& mount\-local\-run
.Ve
.PP
Run the main loop which translates kernel calls to libguestfs calls.
.PP
This should only be called after \*(L"mount-local\*(R" returns successfully.  The
call will not return until the filesystem is unmounted.
.PP
\&\fBNote\fR you must \fInot\fR make concurrent libguestfs calls on the same handle
from another thread, with the exception of \*(L"umount-local\*(R".
.PP
You may call this from a different thread than the one which called
\&\*(L"mount-local\*(R", subject to the usual rules for threads and libguestfs (see
\&\*(L"\s-1MULTIPLE\s0 \s-1HANDLES\s0 \s-1AND\s0 \s-1MULTIPLE\s0 \s-1THREADS\s0\*(R" in \fIguestfs\fR\|(3)).
.PP
See \*(L"\s-1MOUNT\s0 \s-1LOCAL\s0\*(R" in \fIguestfs\fR\|(3) for full documentation.
.SS "mount-loop"
.IX Subsection "mount-loop"
.Vb 1
\& mount\-loop file mountpoint
.Ve
.PP
This command lets you mount \f(CW\*(C`file\*(C'\fR (a filesystem image in a file) on a
mount point.  It is entirely equivalent to the command \f(CW\*(C`mount \-o loop file
mountpoint\*(C'\fR.
.SS "mount-options"
.IX Subsection "mount-options"
.Vb 1
\& mount\-options options device mountpoint
.Ve
.PP
This is the same as the \*(L"mount\*(R" command, but it allows you to set the
mount options as for the \fImount\fR\|(8) \fI\-o\fR flag.
.PP
If the \f(CW\*(C`options\*(C'\fR parameter is an empty string, then no options are passed
(all options default to whatever the filesystem uses).
.SS "mount-ro"
.IX Subsection "mount-ro"
.Vb 1
\& mount\-ro пристрій точка_монтування
.Ve
.PP
This is the same as the \*(L"mount\*(R" command, but it mounts the filesystem with
the read-only (\fI\-o ro\fR) flag.
.SS "mount-vfs"
.IX Subsection "mount-vfs"
.Vb 1
\& mount\-vfs options vfstype device mountpoint
.Ve
.PP
This is the same as the \*(L"mount\*(R" command, but it allows you to set both the
mount options and the vfstype as for the \fImount\fR\|(8) \fI\-o\fR and \fI\-t\fR flags.
.SS "mountpoints"
.IX Subsection "mountpoints"
.Vb 1
\& mountpoints
.Ve
.PP
This call is similar to \*(L"mounts\*(R".  That call returns a list of devices.
This one returns a hash table (map) of device name to directory where the
device is mounted.
.SS "mounts"
.IX Subsection "mounts"
.Vb 1
\& mounts
.Ve
.PP
This returns the list of currently mounted filesystems.  It returns the list
of devices (eg. \f(CW\*(C`/dev/sda1\*(C'\fR, \f(CW\*(C`/dev/VG/LV\*(C'\fR).
.PP
Some internal mounts are not shown.
.PP
Див. також \*(L"mountpoints\*(R"
.SS "mv"
.IX Subsection "mv"
.Vb 1
\& mv джерело призначення
.Ve
.PP
This moves a file from \f(CW\*(C`src\*(C'\fR to \f(CW\*(C`dest\*(C'\fR where \f(CW\*(C`dest\*(C'\fR is either a
destination filename or destination directory.
.SS "nr-devices"
.IX Subsection "nr-devices"
.Vb 1
\& nr\-devices
.Ve
.PP
This returns the number of whole block devices that were added.  This is the
same as the number of devices that would be returned if you called
\&\*(L"list-devices\*(R".
.PP
To find out the maximum number of devices that could be added, call
\&\*(L"max-disks\*(R".
.SS "ntfs\-3g\-probe"
.IX Subsection "ntfs-3g-probe"
.Vb 1
\& ntfs\-3g\-probe true|false device
.Ve
.PP
This command runs the \fIntfs\-3g.probe\fR\|(8) command which probes an \s-1NTFS\s0
\&\f(CW\*(C`device\*(C'\fR for mountability.  (Not all \s-1NTFS\s0 volumes can be mounted
read-write, and some cannot be mounted at all).
.PP
\&\f(CW\*(C`rw\*(C'\fR is a boolean flag.  Set it to true if you want to test if the volume
can be mounted read-write.  Set it to false if you want to test if the
volume can be mounted read-only.
.PP
The return value is an integer which \f(CW0\fR if the operation would succeed, or
some non-zero value documented in the \fIntfs\-3g.probe\fR\|(8) manual page.
.SS "ntfsclone-in"
.IX Subsection "ntfsclone-in"
.Vb 1
\& ntfsclone\-in (backupfile|\-) device
.Ve
.PP
Restore the \f(CW\*(C`backupfile\*(C'\fR (from a previous call to \*(L"ntfsclone-out\*(R") to
\&\f(CW\*(C`device\*(C'\fR, overwriting any existing contents of this device.
.PP
Use \f(CW\*(C`\-\*(C'\fR instead of a filename to read/write from stdin/stdout.
.SS "ntfsclone-out"
.IX Subsection "ntfsclone-out"
.Vb 1
\& ntfsclone\-out device (backupfile|\-) [metadataonly:true|false] [rescue:true|false] [ignorefscheck:true|false] [preservetimestamps:true|false] [force:true|false]
.Ve
.PP
Stream the \s-1NTFS\s0 filesystem \f(CW\*(C`device\*(C'\fR to the local file \f(CW\*(C`backupfile\*(C'\fR.  The
format used for the backup file is a special format used by the
\&\fIntfsclone\fR\|(8) tool.
.PP
If the optional \f(CW\*(C`metadataonly\*(C'\fR flag is true, then \fIonly\fR the metadata is
saved, losing all the user data (this is useful for diagnosing some
filesystem problems).
.PP
The optional \f(CW\*(C`rescue\*(C'\fR, \f(CW\*(C`ignorefscheck\*(C'\fR, \f(CW\*(C`preservetimestamps\*(C'\fR and \f(CW\*(C`force\*(C'\fR
flags have precise meanings detailed in the \fIntfsclone\fR\|(8) man page.
.PP
Use \*(L"ntfsclone-in\*(R" to restore the file back to a libguestfs device.
.PP
Use \f(CW\*(C`\-\*(C'\fR instead of a filename to read/write from stdin/stdout.
.PP
This command has one or more optional arguments.  See \*(L"\s-1OPTIONAL\s0
\&\s-1ARGUMENTS\s0\*(R".
.SS "ntfsfix"
.IX Subsection "ntfsfix"
.Vb 1
\& ntfsfix device [clearbadsectors:true|false]
.Ve
.PP
This command repairs some fundamental \s-1NTFS\s0 inconsistencies, resets the \s-1NTFS\s0
journal file, and schedules an \s-1NTFS\s0 consistency check for the first boot
into Windows.
.PP
This is \fInot\fR an equivalent of Windows \f(CW\*(C`chkdsk\*(C'\fR.  It does \fInot\fR scan the
filesystem for inconsistencies.
.PP
The optional \f(CW\*(C`clearbadsectors\*(C'\fR flag clears the list of bad sectors.  This
is useful after cloning a disk with bad sectors to a new disk.
.PP
This command has one or more optional arguments.  See \*(L"\s-1OPTIONAL\s0
\&\s-1ARGUMENTS\s0\*(R".
.SS "ntfsresize"
.IX Subsection "ntfsresize"
.Vb 1
\& ntfsresize пристрій
.Ve
.PP
This command resizes an \s-1NTFS\s0 filesystem, expanding or shrinking it to the
size of the underlying device.
.PP
\&\fINote:\fR After the resize operation, the filesystem is marked as requiring a
consistency check (for safety).  You have to boot into Windows to perform
this check and clear this condition.  Furthermore, ntfsresize refuses to
resize filesystems which have been marked in this way.  So in effect it is
not possible to call ntfsresize multiple times on a single filesystem
without booting into Windows between each resize.
.PP
Див. також \fIntfsresize\fR\|(8).
.PP
\&\fIThis function is deprecated.\fR In new code, use the \*(L"ntfsresize_opts\*(R"
call instead.
.PP
Deprecated functions will not be removed from the \s-1API\s0, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.
.SS "ntfsresize-opts"
.IX Subsection "ntfsresize-opts"
.Vb 1
\& ntfsresize\-opts device [size:N] [force:true|false]
.Ve
.PP
This command resizes an \s-1NTFS\s0 filesystem, expanding or shrinking it to the
size of the underlying device.
.PP
Додатковими параметрами є:
.ie n .IP """розмір""" 4
.el .IP "\f(CWрозмір\fR" 4
.IX Item "розмір"
The new size (in bytes) of the filesystem.  If omitted, the filesystem is
resized to fit the container (eg. partition).
.ie n .IP """force""" 4
.el .IP "\f(CWforce\fR" 4
.IX Item "force"
If this option is true, then force the resize of the filesystem even if the
filesystem is marked as requiring a consistency check.
.Sp
After the resize operation, the filesystem is always marked as requiring a
consistency check (for safety).  You have to boot into Windows to perform
this check and clear this condition.  If you \fIdon't\fR set the \f(CW\*(C`force\*(C'\fR
option then it is not possible to call \*(L"ntfsresize-opts\*(R" multiple times on
a single filesystem without booting into Windows between each resize.
.PP
Див. також \fIntfsresize\fR\|(8).
.PP
This command has one or more optional arguments.  See \*(L"\s-1OPTIONAL\s0
\&\s-1ARGUMENTS\s0\*(R".
.SS "ntfsresize-size"
.IX Subsection "ntfsresize-size"
.Vb 1
\& ntfsresize\-size device size
.Ve
.PP
This command is the same as \*(L"ntfsresize\*(R" except that it allows you to
specify the new size (in bytes) explicitly.
.PP
\&\fIThis function is deprecated.\fR In new code, use the \*(L"ntfsresize_opts\*(R"
call instead.
.PP
Deprecated functions will not be removed from the \s-1API\s0, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.
.SS "part-add"
.IX Subsection "part-add"
.Vb 1
\& part\-add device prlogex startsect endsect
.Ve
.PP
This command adds a partition to \f(CW\*(C`device\*(C'\fR.  If there is no partition table
on the device, call \*(L"part-init\*(R" first.
.PP
The \f(CW\*(C`prlogex\*(C'\fR parameter is the type of partition.  Normally you should pass
\&\f(CW\*(C`p\*(C'\fR or \f(CW\*(C`primary\*(C'\fR here, but \s-1MBR\s0 partition tables also support \f(CW\*(C`l\*(C'\fR (or
\&\f(CW\*(C`logical\*(C'\fR) and \f(CW\*(C`e\*(C'\fR (or \f(CW\*(C`extended\*(C'\fR) partition types.
.PP
\&\f(CW\*(C`startsect\*(C'\fR and \f(CW\*(C`endsect\*(C'\fR are the start and end of the partition in
\&\fIsectors\fR.  \f(CW\*(C`endsect\*(C'\fR may be negative, which means it counts backwards
from the end of the disk (\f(CW\*(C`\-1\*(C'\fR is the last sector).
.PP
Creating a partition which covers the whole disk is not so easy.  Use
\&\*(L"part-disk\*(R" to do that.
.SS "part-del"
.IX Subsection "part-del"
.Vb 1
\& part\-del device partnum
.Ve
.PP
This command deletes the partition numbered \f(CW\*(C`partnum\*(C'\fR on \f(CW\*(C`device\*(C'\fR.
.PP
Note that in the case of \s-1MBR\s0 partitioning, deleting an extended partition
also deletes any logical partitions it contains.
.SS "part-disk"
.IX Subsection "part-disk"
.Vb 1
\& part\-disk пристрій тип_розділу
.Ve
.PP
This command is simply a combination of \*(L"part-init\*(R" followed by
\&\*(L"part-add\*(R" to create a single primary partition covering the whole disk.
.PP
\&\f(CW\*(C`parttype\*(C'\fR is the partition table type, usually \f(CW\*(C`mbr\*(C'\fR or \f(CW\*(C`gpt\*(C'\fR, but other
possible values are described in \*(L"part-init\*(R".
.SS "part-get-bootable"
.IX Subsection "part-get-bootable"
.Vb 1
\& part\-get\-bootable device partnum
.Ve
.PP
This command returns true if the partition \f(CW\*(C`partnum\*(C'\fR on \f(CW\*(C`device\*(C'\fR has the
bootable flag set.
.PP
Див. також \*(L"part-set-bootable\*(R".
.SS "part-get-mbr-id"
.IX Subsection "part-get-mbr-id"
.Vb 1
\& part\-get\-mbr\-id device partnum
.Ve
.PP
Returns the \s-1MBR\s0 type byte (also known as the \s-1ID\s0 byte) from the numbered
partition \f(CW\*(C`partnum\*(C'\fR.
.PP
Note that only \s-1MBR\s0 (old DOS-style) partitions have type bytes.  You will get
undefined results for other partition table types (see
\&\*(L"part-get-parttype\*(R").
.SS "part-get-parttype"
.IX Subsection "part-get-parttype"
.Vb 1
\& part\-get\-parttype пристрій
.Ve
.PP
This command examines the partition table on \f(CW\*(C`device\*(C'\fR and returns the
partition table type (format) being used.
.PP
Common return values include: \f(CW\*(C`msdos\*(C'\fR (a DOS/Windows style \s-1MBR\s0 partition
table), \f(CW\*(C`gpt\*(C'\fR (a GPT/EFI\-style partition table).  Other values are
possible, although unusual.  See \*(L"part-init\*(R" for a full list.
.SS "part-init"
.IX Subsection "part-init"
.Vb 1
\& part\-init device parttype
.Ve
.PP
This creates an empty partition table on \f(CW\*(C`device\*(C'\fR of one of the partition
types listed below.  Usually \f(CW\*(C`parttype\*(C'\fR should be either \f(CW\*(C`msdos\*(C'\fR or \f(CW\*(C`gpt\*(C'\fR
(for large disks).
.PP
Initially there are no partitions.  Following this, you should call
\&\*(L"part-add\*(R" for each partition required.
.PP
Possible values for \f(CW\*(C`parttype\*(C'\fR are:
.IP "\fBefi\fR" 4
.IX Item "efi"
.PD 0
.IP "\fBgpt\fR" 4
.IX Item "gpt"
.PD
Intel \s-1EFI\s0 / \s-1GPT\s0 partition table.
.Sp
This is recommended for >= 2 \s-1TB\s0 partitions that will be accessed from Linux
and Intel-based Mac \s-1OS\s0 X.  It also has limited backwards compatibility with
the \f(CW\*(C`mbr\*(C'\fR format.
.IP "\fBmbr\fR" 4
.IX Item "mbr"
.PD 0
.IP "\fBmsdos\fR" 4
.IX Item "msdos"
.PD
The standard \s-1PC\s0 \*(L"Master Boot Record\*(R" (\s-1MBR\s0) format used by MS-DOS and
Windows.  This partition type will \fBonly\fR work for device sizes up to 2
\&\s-1TB\s0.  For large disks we recommend using \f(CW\*(C`gpt\*(C'\fR.
.PP
Other partition table types that may work but are not supported include:
.IP "\fBaix\fR" 4
.IX Item "aix"
Мітки дисків \s-1AIX\s0.
.IP "\fBamiga\fR" 4
.IX Item "amiga"
.PD 0
.IP "\fBrdb\fR" 4
.IX Item "rdb"
.PD
Формат \*(L"Rigid Disk Block\*(R" Amiga.
.IP "\fBbsd\fR" 4
.IX Item "bsd"
Мітки дисків \s-1BSD\s0.
.IP "\fBdasd\fR" 4
.IX Item "dasd"
\&\s-1DASD\s0, використовувалися у мейнфреймах \s-1IBM\s0.
.IP "\fBdvh\fR" 4
.IX Item "dvh"
Томи \s-1MIPS/SGI\s0.
.IP "\fBmac\fR" 4
.IX Item "mac"
Старий формат розділів Mac. Сучасні системи Mac використовують \f(CW\*(C`gpt\*(C'\fR.
.IP "\fBpc98\fR" 4
.IX Item "pc98"
Формат \s-1NEC\s0 \s-1PC\-98\s0, поширений у Японії.
.IP "\fBsun\fR" 4
.IX Item "sun"
Мітки дисків Sun.
.SS "part-list"
.IX Subsection "part-list"
.Vb 1
\& part\-list device
.Ve
.PP
This command parses the partition table on \f(CW\*(C`device\*(C'\fR and returns the list of
partitions found.
.PP
The fields in the returned structure are:
.IP "\fBpart_num\fR" 4
.IX Item "part_num"
Partition number, counting from 1.
.IP "\fBpart_start\fR" 4
.IX Item "part_start"
Start of the partition \fIin bytes\fR.  To get sectors you have to divide by
the device's sector size, see \*(L"blockdev-getss\*(R".
.IP "\fBpart_end\fR" 4
.IX Item "part_end"
End of the partition in bytes.
.IP "\fBpart_size\fR" 4
.IX Item "part_size"
Size of the partition in bytes.
.SS "part-set-bootable"
.IX Subsection "part-set-bootable"
.Vb 1
\& part\-set\-bootable device partnum true|false
.Ve
.PP
This sets the bootable flag on partition numbered \f(CW\*(C`partnum\*(C'\fR on device
\&\f(CW\*(C`device\*(C'\fR.  Note that partitions are numbered from 1.
.PP
The bootable flag is used by some operating systems (notably Windows) to
determine which partition to boot from.  It is by no means universally
recognized.
.SS "part-set-mbr-id"
.IX Subsection "part-set-mbr-id"
.Vb 1
\& part\-set\-mbr\-id device partnum idbyte
.Ve
.PP
Sets the \s-1MBR\s0 type byte (also known as the \s-1ID\s0 byte) of the numbered partition
\&\f(CW\*(C`partnum\*(C'\fR to \f(CW\*(C`idbyte\*(C'\fR.  Note that the type bytes quoted in most
documentation are in fact hexadecimal numbers, but usually documented
without any leading \*(L"0x\*(R" which might be confusing.
.PP
Note that only \s-1MBR\s0 (old DOS-style) partitions have type bytes.  You will get
undefined results for other partition table types (see
\&\*(L"part-get-parttype\*(R").
.SS "part-set-name"
.IX Subsection "part-set-name"
.Vb 1
\& part\-set\-name device partnum name
.Ve
.PP
This sets the partition name on partition numbered \f(CW\*(C`partnum\*(C'\fR on device
\&\f(CW\*(C`device\*(C'\fR.  Note that partitions are numbered from 1.
.PP
The partition name can only be set on certain types of partition table.
This works on \f(CW\*(C`gpt\*(C'\fR but not on \f(CW\*(C`mbr\*(C'\fR partitions.
.SS "part-to-dev"
.IX Subsection "part-to-dev"
.Vb 1
\& part\-to\-dev розділ
.Ve
.PP
This function takes a partition name (eg. \*(L"/dev/sdb1\*(R") and removes the
partition number, returning the device name (eg. \*(L"/dev/sdb\*(R").
.PP
The named partition must exist, for example as a string returned from
\&\*(L"list-partitions\*(R".
.PP
See also \*(L"part-to-partnum\*(R", \*(L"device-index\*(R".
.SS "part-to-partnum"
.IX Subsection "part-to-partnum"
.Vb 1
\& part\-to\-partnum partition
.Ve
.PP
This function takes a partition name (eg. \*(L"/dev/sdb1\*(R") and returns the
partition number (eg. \f(CW1\fR).
.PP
The named partition must exist, for example as a string returned from
\&\*(L"list-partitions\*(R".
.PP
Див. також \*(L"part-to-dev\*(R".
.SS "ping-daemon"
.IX Subsection "ping-daemon"
.Vb 1
\& ping\-daemon
.Ve
.PP
This is a test probe into the guestfs daemon running inside the qemu
subprocess.  Calling this function checks that the daemon responds to the
ping message, without affecting the daemon or attached block device(s) in
any other way.
.SS "pread"
.IX Subsection "pread"
.Vb 1
\& pread path count offset
.Ve
.PP
This command lets you read part of a file.  It reads \f(CW\*(C`count\*(C'\fR bytes of the
file, starting at \f(CW\*(C`offset\*(C'\fR, from file \f(CW\*(C`path\*(C'\fR.
.PP
This may read fewer bytes than requested.  For further details see the
\&\fIpread\fR\|(2) system call.
.PP
Див. також \*(L"pwrite\*(R", \*(L"pread-device\*(R".
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "pread-device"
.IX Subsection "pread-device"
.Vb 1
\& pread\-device device count offset
.Ve
.PP
This command lets you read part of a file.  It reads \f(CW\*(C`count\*(C'\fR bytes of
\&\f(CW\*(C`device\*(C'\fR, starting at \f(CW\*(C`offset\*(C'\fR.
.PP
This may read fewer bytes than requested.  For further details see the
\&\fIpread\fR\|(2) system call.
.PP
Див. також \*(L"pread\*(R".
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "pvcreate"
.IX Subsection "pvcreate"
.Vb 1
\& pvcreate пристрій
.Ve
.PP
This creates an \s-1LVM\s0 physical volume on the named \f(CW\*(C`device\*(C'\fR, where \f(CW\*(C`device\*(C'\fR
should usually be a partition name such as \f(CW\*(C`/dev/sda1\*(C'\fR.
.SS "pvremove"
.IX Subsection "pvremove"
.Vb 1
\& pvremove пристрій
.Ve
.PP
This wipes a physical volume \f(CW\*(C`device\*(C'\fR so that \s-1LVM\s0 will no longer recognise
it.
.PP
The implementation uses the \f(CW\*(C`pvremove\*(C'\fR command which refuses to wipe
physical volumes that contain any volume groups, so you have to remove those
first.
.SS "pvresize"
.IX Subsection "pvresize"
.Vb 1
\& pvresize пристрій
.Ve
.PP
This resizes (expands or shrinks) an existing \s-1LVM\s0 physical volume to match
the new size of the underlying device.
.SS "pvresize-size"
.IX Subsection "pvresize-size"
.Vb 1
\& pvresize\-size device size
.Ve
.PP
This command is the same as \*(L"pvresize\*(R" except that it allows you to
specify the new size (in bytes) explicitly.
.SS "pvs"
.IX Subsection "pvs"
.Vb 1
\& pvs
.Ve
.PP
List all the physical volumes detected.  This is the equivalent of the
\&\fIpvs\fR\|(8) command.
.PP
This returns a list of just the device names that contain PVs
(eg. \f(CW\*(C`/dev/sda2\*(C'\fR).
.PP
Див. також \*(L"pvs-full\*(R".
.SS "pvs-full"
.IX Subsection "pvs-full"
.Vb 1
\& pvs\-full
.Ve
.PP
List all the physical volumes detected.  This is the equivalent of the
\&\fIpvs\fR\|(8) command.  The \*(L"full\*(R" version includes all fields.
.SS "pvuuid"
.IX Subsection "pvuuid"
.Vb 1
\& pvuuid пристрій
.Ve
.PP
This command returns the \s-1UUID\s0 of the \s-1LVM\s0 \s-1PV\s0 \f(CW\*(C`device\*(C'\fR.
.SS "pwrite"
.IX Subsection "pwrite"
.Vb 1
\& pwrite path content offset
.Ve
.PP
This command writes to part of a file.  It writes the data buffer \f(CW\*(C`content\*(C'\fR
to the file \f(CW\*(C`path\*(C'\fR starting at offset \f(CW\*(C`offset\*(C'\fR.
.PP
This command implements the \fIpwrite\fR\|(2) system call, and like that system
call it may not write the full data requested.  The return value is the
number of bytes that were actually written to the file.  This could even be
0, although short writes are unlikely for regular files in ordinary
circumstances.
.PP
Див. також \*(L"pread\*(R", \*(L"pwrite-device\*(R".
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "pwrite-device"
.IX Subsection "pwrite-device"
.Vb 1
\& pwrite\-device device content offset
.Ve
.PP
This command writes to part of a device.  It writes the data buffer
\&\f(CW\*(C`content\*(C'\fR to \f(CW\*(C`device\*(C'\fR starting at offset \f(CW\*(C`offset\*(C'\fR.
.PP
This command implements the \fIpwrite\fR\|(2) system call, and like that system
call it may not write the full data requested (although short writes to disk
devices and partitions are probably impossible with standard Linux kernels).
.PP
Див. також \*(L"pwrite\*(R".
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "read-file"
.IX Subsection "read-file"
.Vb 1
\& read\-file шлях
.Ve
.PP
This calls returns the contents of the file \f(CW\*(C`path\*(C'\fR as a buffer.
.PP
Unlike \*(L"cat\*(R", this function can correctly handle files that contain
embedded \s-1ASCII\s0 \s-1NUL\s0 characters.  However unlike \*(L"download\*(R", this function
is limited in the total size of file that can be handled.
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "read-lines"
.IX Subsection "read-lines"
.Vb 1
\& read\-lines шлях
.Ve
.PP
Return the contents of the file named \f(CW\*(C`path\*(C'\fR.
.PP
The file contents are returned as a list of lines.  Trailing \f(CW\*(C`LF\*(C'\fR and
\&\f(CW\*(C`CRLF\*(C'\fR character sequences are \fInot\fR returned.
.PP
Note that this function cannot correctly handle binary files (specifically,
files containing \f(CW\*(C`\e0\*(C'\fR character which is treated as end of line).  For
those you need to use the \*(L"read-file\*(R" function which has a more complex
interface.
.SS "readdir"
.IX Subsection "readdir"
.Vb 1
\& readdir каталог
.Ve
.PP
This returns the list of directory entries in directory \f(CW\*(C`dir\*(C'\fR.
.PP
All entries in the directory are returned, including \f(CW\*(C`.\*(C'\fR and \f(CW\*(C`..\*(C'\fR.  The
entries are \fInot\fR sorted, but returned in the same order as the underlying
filesystem.
.PP
Also this call returns basic file type information about each file.  The
\&\f(CW\*(C`ftyp\*(C'\fR field will contain one of the following characters:
.IP "'b'" 4
.IX Item "'b'"
Блоковий особливий
.IP "'c'" 4
.IX Item "'c'"
Символьний особливий
.IP "'d'" 4
.IX Item "'d'"
Каталог
.IP "'f'" 4
.IX Item "'f'"
\&\s-1FIFO\s0 (іменований канал)
.IP "'l'" 4
.IX Item "'l'"
Символічне посилання
.IP "'r'" 4
.IX Item "'r'"
Звичайний файл
.IP "'s'" 4
.IX Item "'s'"
Сокет
.IP "'u'" 4
.IX Item "'u'"
Невідомий тип файла
.IP "'?'" 4
The \fIreaddir\fR\|(3) call returned a \f(CW\*(C`d_type\*(C'\fR field with an unexpected value
.PP
This function is primarily intended for use by programs.  To get a simple
list of names, use \*(L"ls\*(R".  To get a printable directory for human
consumption, use \*(L"ll\*(R".
.SS "readlink"
.IX Subsection "readlink"
.Vb 1
\& readlink шлях
.Ve
.PP
This command reads the target of a symbolic link.
.SS "readlinklist"
.IX Subsection "readlinklist"
.Vb 1
\& readlinklist path \*(Aqnames ...\*(Aq
.Ve
.PP
This call allows you to do a \f(CW\*(C`readlink\*(C'\fR operation on multiple files, where
all files are in the directory \f(CW\*(C`path\*(C'\fR.  \f(CW\*(C`names\*(C'\fR is the list of files from
this directory.
.PP
On return you get a list of strings, with a one-to-one correspondence to the
\&\f(CW\*(C`names\*(C'\fR list.  Each string is the value of the symbolic link.
.PP
If the \f(CWreadlink(2)\fR operation fails on any name, then the corresponding
result string is the empty string \f(CW""\fR.  However the whole operation is
completed even if there were \f(CWreadlink(2)\fR errors, and so you can call this
function with names where you don't know if they are symbolic links already
(albeit slightly less efficient).
.PP
This call is intended for programs that want to efficiently list a directory
contents without making many round-trips.  Very long directory listings
might cause the protocol message size to be exceeded, causing this call to
fail.  The caller must split up such requests into smaller groups of names.
.SS "realpath"
.IX Subsection "realpath"
.Vb 1
\& realpath шлях
.Ve
.PP
Return the canonicalized absolute pathname of \f(CW\*(C`path\*(C'\fR.  The returned path
has no \f(CW\*(C`.\*(C'\fR, \f(CW\*(C`..\*(C'\fR or symbolic link path elements.
.SS "removexattr"
.IX Subsection "removexattr"
.Vb 1
\& removexattr xattr path
.Ve
.PP
This call removes the extended attribute named \f(CW\*(C`xattr\*(C'\fR of the file \f(CW\*(C`path\*(C'\fR.
.PP
Див. також \*(L"lremovexattr\*(R", \fIattr\fR\|(5).
.SS "resize2fs"
.IX Subsection "resize2fs"
.Vb 1
\& resize2fs пристрій
.Ve
.PP
This resizes an ext2, ext3 or ext4 filesystem to match the size of the
underlying device.
.PP
Див. також \*(L"\s-1RESIZE2FS\s0 \s-1ERRORS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "resize2fs\-M"
.IX Subsection "resize2fs-M"
.Vb 1
\& resize2fs\-M пристрій
.Ve
.PP
This command is the same as \*(L"resize2fs\*(R", but the filesystem is resized to
its minimum size.  This works like the \fI\-M\fR option to the \f(CW\*(C`resize2fs\*(C'\fR
command.
.PP
To get the resulting size of the filesystem you should call \*(L"tune2fs\-l\*(R"
and read the \f(CW\*(C`Block size\*(C'\fR and \f(CW\*(C`Block count\*(C'\fR values.  These two numbers,
multiplied together, give the resulting size of the minimal filesystem in
bytes.
.PP
Див. також \*(L"\s-1RESIZE2FS\s0 \s-1ERRORS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "resize2fs\-size"
.IX Subsection "resize2fs-size"
.Vb 1
\& resize2fs\-size device size
.Ve
.PP
This command is the same as \*(L"resize2fs\*(R" except that it allows you to
specify the new size (in bytes) explicitly.
.PP
Див. також \*(L"\s-1RESIZE2FS\s0 \s-1ERRORS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "rm"
.IX Subsection "rm"
.Vb 1
\& rm шлях
.Ve
.PP
Remove the single file \f(CW\*(C`path\*(C'\fR.
.SS "rm-rf"
.IX Subsection "rm-rf"
.Vb 1
\& rm\-rf шлях
.Ve
.PP
Remove the file or directory \f(CW\*(C`path\*(C'\fR, recursively removing the contents if
its a directory.  This is like the \f(CW\*(C`rm \-rf\*(C'\fR shell command.
.SS "rmdir"
.IX Subsection "rmdir"
.Vb 1
\& rmdir шлях
.Ve
.PP
Remove the single directory \f(CW\*(C`path\*(C'\fR.
.SS "rmmountpoint"
.IX Subsection "rmmountpoint"
.Vb 1
\& rmmountpoint exemptpath
.Ve
.PP
This calls removes a mountpoint that was previously created with
\&\*(L"mkmountpoint\*(R".  See \*(L"mkmountpoint\*(R" for full details.
.SS "scrub-device"
.IX Subsection "scrub-device"
.Vb 1
\& scrub\-device пристрій
.Ve
.PP
This command writes patterns over \f(CW\*(C`device\*(C'\fR to make data retrieval more
difficult.
.PP
It is an interface to the \fIscrub\fR\|(1) program.  See that manual page for
more details.
.SS "scrub-file"
.IX Subsection "scrub-file"
.Vb 1
\& scrub\-file файл
.Ve
.PP
This command writes patterns over a file to make data retrieval more
difficult.
.PP
The file is \fIremoved\fR after scrubbing.
.PP
It is an interface to the \fIscrub\fR\|(1) program.  See that manual page for
more details.
.SS "scrub-freespace"
.IX Subsection "scrub-freespace"
.Vb 1
\& scrub\-freespace каталог
.Ve
.PP
This command creates the directory \f(CW\*(C`dir\*(C'\fR and then fills it with files until
the filesystem is full, and scrubs the files as for \*(L"scrub-file\*(R", and
deletes them.  The intention is to scrub any free space on the partition
containing \f(CW\*(C`dir\*(C'\fR.
.PP
It is an interface to the \fIscrub\fR\|(1) program.  See that manual page for
more details.
.SS "set-append"
.IX Subsection "set-append"
.SS "append"
.IX Subsection "append"
.Vb 1
\& set\-append append
.Ve
.PP
This function is used to add additional options to the guest kernel command
line.
.PP
The default is \f(CW\*(C`NULL\*(C'\fR unless overridden by setting \f(CW\*(C`LIBGUESTFS_APPEND\*(C'\fR
environment variable.
.PP
Setting \f(CW\*(C`append\*(C'\fR to \f(CW\*(C`NULL\*(C'\fR means \fIno\fR additional options are passed
(libguestfs always adds a few of its own).
.SS "set-attach-method"
.IX Subsection "set-attach-method"
.SS "attach-method"
.IX Subsection "attach-method"
.Vb 1
\& set\-attach\-method attachmethod
.Ve
.PP
Set the method that libguestfs uses to connect to the back end guestfsd
daemon.  Possible methods are:
.ie n .IP """appliance""" 4
.el .IP "\f(CWappliance\fR" 4
.IX Item "appliance"
Launch an appliance and connect to it.  This is the ordinary method and the
default.
.ie n .IP """unix:\f(CIшлях\f(CW""" 4
.el .IP "\f(CWunix:\f(CIшлях\f(CW\fR" 4
.IX Item "unix:шлях"
Встановити з’єднання з сокетом домену Unix \fIшлях\fR.
.Sp
This method lets you connect to an existing daemon or (using virtio-serial)
to a live guest.  For more information, see \*(L"\s-1ATTACHING\s0 \s-1TO\s0
\&\s-1RUNNING\s0 \s-1DAEMONS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "set-autosync"
.IX Subsection "set-autosync"
.SS "autosync"
.IX Subsection "autosync"
.Vb 1
\& set\-autosync true|false
.Ve
.PP
If \f(CW\*(C`autosync\*(C'\fR is true, this enables autosync.  Libguestfs will make a best
effort attempt to make filesystems consistent and synchronized when the
handle is closed (also if the program exits without closing handles).
.PP
This is enabled by default (since libguestfs 1.5.24, previously it was
disabled by default).
.SS "set-direct"
.IX Subsection "set-direct"
.SS "direct"
.IX Subsection "direct"
.Vb 1
\& set\-direct true|false
.Ve
.PP
If the direct appliance mode flag is enabled, then stdin and stdout are
passed directly through to the appliance once it is launched.
.PP
One consequence of this is that log messages aren't caught by the library
and handled by \*(L"set-log-message-callback\*(R", but go straight to stdout.
.PP
You probably don't want to use this unless you know what you are doing.
.PP
The default is disabled.
.SS "set\-e2attrs"
.IX Subsection "set-e2attrs"
.Vb 1
\& set\-e2attrs file attrs [clear:true|false]
.Ve
.PP
This sets or clears the file attributes \f(CW\*(C`attrs\*(C'\fR associated with the inode
\&\f(CW\*(C`file\*(C'\fR.
.PP
\&\f(CW\*(C`attrs\*(C'\fR is a string of characters representing file attributes.  See
\&\*(L"get\-e2attrs\*(R" for a list of possible attributes.  Not all attributes can
be changed.
.PP
If optional boolean \f(CW\*(C`clear\*(C'\fR is not present or false, then the \f(CW\*(C`attrs\*(C'\fR
listed are set in the inode.
.PP
If \f(CW\*(C`clear\*(C'\fR is true, then the \f(CW\*(C`attrs\*(C'\fR listed are cleared in the inode.
.PP
In both cases, other attributes not present in the \f(CW\*(C`attrs\*(C'\fR string are left
unchanged.
.PP
These attributes are only present when the file is located on an ext2/3/4
filesystem.  Using this call on other filesystem types will result in an
error.
.PP
This command has one or more optional arguments.  See \*(L"\s-1OPTIONAL\s0
\&\s-1ARGUMENTS\s0\*(R".
.SS "set\-e2generation"
.IX Subsection "set-e2generation"
.Vb 1
\& set\-e2generation file generation
.Ve
.PP
This sets the ext2 file generation of a file.
.PP
Див. \*(L"get\-e2generation\*(R".
.SS "set\-e2label"
.IX Subsection "set-e2label"
.Vb 1
\& set\-e2label device label
.Ve
.PP
This sets the ext2/3/4 filesystem label of the filesystem on \f(CW\*(C`device\*(C'\fR to
\&\f(CW\*(C`label\*(C'\fR.  Filesystem labels are limited to 16 characters.
.PP
You can use either \*(L"tune2fs\-l\*(R" or \*(L"get\-e2label\*(R" to return the existing
label on a filesystem.
.PP
\&\fIThis function is deprecated.\fR In new code, use the \*(L"set_label\*(R" call
instead.
.PP
Deprecated functions will not be removed from the \s-1API\s0, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.
.SS "set\-e2uuid"
.IX Subsection "set-e2uuid"
.Vb 1
\& set\-e2uuid device uuid
.Ve
.PP
This sets the ext2/3/4 filesystem \s-1UUID\s0 of the filesystem on \f(CW\*(C`device\*(C'\fR to
\&\f(CW\*(C`uuid\*(C'\fR.  The format of the \s-1UUID\s0 and alternatives such as \f(CW\*(C`clear\*(C'\fR,
\&\f(CW\*(C`random\*(C'\fR and \f(CW\*(C`time\*(C'\fR are described in the \fItune2fs\fR\|(8) manpage.
.PP
You can use either \*(L"tune2fs\-l\*(R" or \*(L"get\-e2uuid\*(R" to return the existing
\&\s-1UUID\s0 of a filesystem.
.SS "set-label"
.IX Subsection "set-label"
.Vb 1
\& set\-label device label
.Ve
.PP
Set the filesystem label on \f(CW\*(C`device\*(C'\fR to \f(CW\*(C`label\*(C'\fR.
.PP
Only some filesystem types support labels, and libguestfs supports setting
labels on only a subset of these.
.PP
On ext2/3/4 filesystems, labels are limited to 16 bytes.
.PP
On \s-1NTFS\s0 filesystems, labels are limited to 128 unicode characters.
.PP
To read the label on a filesystem, call \*(L"vfs-label\*(R".
.SS "set-memsize"
.IX Subsection "set-memsize"
.SS "memsize"
.IX Subsection "memsize"
.Vb 1
\& set\-memsize memsize
.Ve
.PP
This sets the memory size in megabytes allocated to the qemu subprocess.
This only has any effect if called before \*(L"launch\*(R".
.PP
You can also change this by setting the environment variable
\&\f(CW\*(C`LIBGUESTFS_MEMSIZE\*(C'\fR before the handle is created.
.PP
For more information on the architecture of libguestfs, see \fIguestfs\fR\|(3).
.SS "set-network"
.IX Subsection "set-network"
.SS "network"
.IX Subsection "network"
.Vb 1
\& set\-network true|false
.Ve
.PP
If \f(CW\*(C`network\*(C'\fR is true, then the network is enabled in the libguestfs
appliance.  The default is false.
.PP
This affects whether commands are able to access the network (see
\&\*(L"\s-1RUNNING\s0 \s-1COMMANDS\s0\*(R" in \fIguestfs\fR\|(3)).
.PP
You must call this before calling \*(L"launch\*(R", otherwise it has no effect.
.SS "set-path"
.IX Subsection "set-path"
.SS "шлях"
.IX Subsection "шлях"
.Vb 1
\& set\-path searchpath
.Ve
.PP
Set the path that libguestfs searches for kernel and initrd.img.
.PP
The default is \f(CW\*(C`$libdir/guestfs\*(C'\fR unless overridden by setting
\&\f(CW\*(C`LIBGUESTFS_PATH\*(C'\fR environment variable.
.PP
Setting \f(CW\*(C`path\*(C'\fR to \f(CW\*(C`NULL\*(C'\fR restores the default path.
.SS "set-pgroup"
.IX Subsection "set-pgroup"
.SS "pgroup"
.IX Subsection "pgroup"
.Vb 1
\& set\-pgroup true|false
.Ve
.PP
If \f(CW\*(C`pgroup\*(C'\fR is true, child processes are placed into their own process
group.
.PP
The practical upshot of this is that signals like \f(CW\*(C`SIGINT\*(C'\fR (from users
pressing \f(CW\*(C`^C\*(C'\fR) won't be received by the child process.
.PP
The default for this flag is false, because usually you want \f(CW\*(C`^C\*(C'\fR to kill
the subprocess.  Guestfish sets this flag to true when used interactively,
so that \f(CW\*(C`^C\*(C'\fR can cancel long-running commands gracefully (see
\&\*(L"user-cancel\*(R").
.SS "set-qemu"
.IX Subsection "set-qemu"
.SS "qemu"
.IX Subsection "qemu"
.Vb 1
\& set\-qemu qemu
.Ve
.PP
Set the qemu binary that we will use.
.PP
The default is chosen when the library was compiled by the configure script.
.PP
You can also override this by setting the \f(CW\*(C`LIBGUESTFS_QEMU\*(C'\fR environment
variable.
.PP
Setting \f(CW\*(C`qemu\*(C'\fR to \f(CW\*(C`NULL\*(C'\fR restores the default qemu binary.
.PP
Note that you should call this function as early as possible after creating
the handle.  This is because some pre-launch operations depend on testing
qemu features (by running \f(CW\*(C`qemu \-help\*(C'\fR).  If the qemu binary changes, we
don't retest features, and so you might see inconsistent results.  Using the
environment variable \f(CW\*(C`LIBGUESTFS_QEMU\*(C'\fR is safest of all since that picks
the qemu binary at the same time as the handle is created.
.SS "set-recovery-proc"
.IX Subsection "set-recovery-proc"
.SS "recovery-proc"
.IX Subsection "recovery-proc"
.Vb 1
\& set\-recovery\-proc true|false
.Ve
.PP
If this is called with the parameter \f(CW\*(C`false\*(C'\fR then \*(L"launch\*(R" does not
create a recovery process.  The purpose of the recovery process is to stop
runaway qemu processes in the case where the main program aborts abruptly.
.PP
This only has any effect if called before \*(L"launch\*(R", and the default is
true.
.PP
About the only time when you would want to disable this is if the main
process will fork itself into the background (\*(L"daemonize\*(R" itself).  In this
case the recovery process thinks that the main program has disappeared and
so kills qemu, which is not very helpful.
.SS "set-selinux"
.IX Subsection "set-selinux"
.SS "selinux"
.IX Subsection "selinux"
.Vb 1
\& set\-selinux true|false
.Ve
.PP
This sets the selinux flag that is passed to the appliance at boot time.
The default is \f(CW\*(C`selinux=0\*(C'\fR (disabled).
.PP
Note that if SELinux is enabled, it is always in Permissive mode
(\f(CW\*(C`enforcing=0\*(C'\fR).
.PP
For more information on the architecture of libguestfs, see \fIguestfs\fR\|(3).
.SS "set-smp"
.IX Subsection "set-smp"
.SS "smp"
.IX Subsection "smp"
.Vb 1
\& set\-smp smp
.Ve
.PP
Change the number of virtual CPUs assigned to the appliance.  The default is
\&\f(CW1\fR.  Increasing this may improve performance, though often it has no
effect.
.PP
This function must be called before \*(L"launch\*(R".
.SS "set-trace"
.IX Subsection "set-trace"
.SS "trace"
.IX Subsection "trace"
.Vb 1
\& set\-trace true|false
.Ve
.PP
If the command trace flag is set to 1, then libguestfs calls, parameters and
return values are traced.
.PP
If you want to trace C \s-1API\s0 calls into libguestfs (and other libraries) then
possibly a better way is to use the external \fIltrace\fR\|(1) command.
.PP
Command traces are disabled unless the environment variable
\&\f(CW\*(C`LIBGUESTFS_TRACE\*(C'\fR is defined and set to \f(CW1\fR.
.PP
Trace messages are normally sent to \f(CW\*(C`stderr\*(C'\fR, unless you register a
callback to send them somewhere else (see \*(L"set-event-callback\*(R").
.SS "set-verbose"
.IX Subsection "set-verbose"
.SS "verbose"
.IX Subsection "verbose"
.Vb 1
\& set\-verbose true|false
.Ve
.PP
If \f(CW\*(C`verbose\*(C'\fR is true, this turns on verbose messages.
.PP
Verbose messages are disabled unless the environment variable
\&\f(CW\*(C`LIBGUESTFS_DEBUG\*(C'\fR is defined and set to \f(CW1\fR.
.PP
Verbose messages are normally sent to \f(CW\*(C`stderr\*(C'\fR, unless you register a
callback to send them somewhere else (see \*(L"set-event-callback\*(R").
.SS "setcon"
.IX Subsection "setcon"
.Vb 1
\& setcon контекст
.Ve
.PP
This sets the SELinux security context of the daemon to the string
\&\f(CW\*(C`context\*(C'\fR.
.PP
See the documentation about \s-1SELINUX\s0 in \fIguestfs\fR\|(3).
.SS "setxattr"
.IX Subsection "setxattr"
.Vb 1
\& setxattr xattr val vallen path
.Ve
.PP
This call sets the extended attribute named \f(CW\*(C`xattr\*(C'\fR of the file \f(CW\*(C`path\*(C'\fR to
the value \f(CW\*(C`val\*(C'\fR (of length \f(CW\*(C`vallen\*(C'\fR).  The value is arbitrary 8 bit data.
.PP
Див. також \*(L"lsetxattr\*(R", \fIattr\fR\|(5).
.SS "sfdisk"
.IX Subsection "sfdisk"
.Vb 1
\& sfdisk device cyls heads sectors \*(Aqlines ...\*(Aq
.Ve
.PP
This is a direct interface to the \fIsfdisk\fR\|(8) program for creating
partitions on block devices.
.PP
\&\f(CW\*(C`device\*(C'\fR should be a block device, for example \f(CW\*(C`/dev/sda\*(C'\fR.
.PP
\&\f(CW\*(C`cyls\*(C'\fR, \f(CW\*(C`heads\*(C'\fR and \f(CW\*(C`sectors\*(C'\fR are the number of cylinders, heads and
sectors on the device, which are passed directly to sfdisk as the \fI\-C\fR,
\&\fI\-H\fR and \fI\-S\fR parameters.  If you pass \f(CW0\fR for any of these, then the
corresponding parameter is omitted.  Usually for 'large' disks, you can just
pass \f(CW0\fR for these, but for small (floppy-sized) disks, sfdisk (or rather,
the kernel) cannot work out the right geometry and you will need to tell it.
.PP
\&\f(CW\*(C`lines\*(C'\fR is a list of lines that we feed to \f(CW\*(C`sfdisk\*(C'\fR.  For more information
refer to the \fIsfdisk\fR\|(8) manpage.
.PP
To create a single partition occupying the whole disk, you would pass
\&\f(CW\*(C`lines\*(C'\fR as a single element list, when the single element being the string
\&\f(CW\*(C`,\*(C'\fR (comma).
.PP
Див. також \*(L"sfdisk-l\*(R", \*(L"sfdisk-N\*(R", \*(L"part-init\*(R"
.PP
\&\fIThis function is deprecated.\fR In new code, use the \*(L"part_add\*(R" call
instead.
.PP
Deprecated functions will not be removed from the \s-1API\s0, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.
.SS "sfdiskM"
.IX Subsection "sfdiskM"
.Vb 1
\& sfdiskM device \*(Aqlines ...\*(Aq
.Ve
.PP
This is a simplified interface to the \*(L"sfdisk\*(R" command, where partition
sizes are specified in megabytes only (rounded to the nearest cylinder) and
you don't need to specify the cyls, heads and sectors parameters which were
rarely if ever used anyway.
.PP
Див також \*(L"sfdisk\*(R", сторінку довідки (man) \fIsfdisk\fR\|(8) та \*(L"part-disk\*(R"
.PP
\&\fIThis function is deprecated.\fR In new code, use the \*(L"part_add\*(R" call
instead.
.PP
Deprecated functions will not be removed from the \s-1API\s0, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.
.SS "sfdisk-N"
.IX Subsection "sfdisk-N"
.Vb 1
\& sfdisk\-N device partnum cyls heads sectors line
.Ve
.PP
This runs \fIsfdisk\fR\|(8) option to modify just the single partition \f(CW\*(C`n\*(C'\fR
(note: \f(CW\*(C`n\*(C'\fR counts from 1).
.PP
For other parameters, see \*(L"sfdisk\*(R".  You should usually pass \f(CW0\fR for the
cyls/heads/sectors parameters.
.PP
Див. також \*(L"part-add\*(R"
.PP
\&\fIThis function is deprecated.\fR In new code, use the \*(L"part_add\*(R" call
instead.
.PP
Deprecated functions will not be removed from the \s-1API\s0, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.
.SS "sfdisk-disk-geometry"
.IX Subsection "sfdisk-disk-geometry"
.Vb 1
\& sfdisk\-disk\-geometry пристрій
.Ve
.PP
This displays the disk geometry of \f(CW\*(C`device\*(C'\fR read from the partition table.
Especially in the case where the underlying block device has been resized,
this can be different from the kernel's idea of the geometry (see
\&\*(L"sfdisk-kernel-geometry\*(R").
.PP
The result is in human-readable format, and not designed to be parsed.
.SS "sfdisk-kernel-geometry"
.IX Subsection "sfdisk-kernel-geometry"
.Vb 1
\& sfdisk\-kernel\-geometry пристрій
.Ve
.PP
This displays the kernel's idea of the geometry of \f(CW\*(C`device\*(C'\fR.
.PP
The result is in human-readable format, and not designed to be parsed.
.SS "sfdisk-l"
.IX Subsection "sfdisk-l"
.Vb 1
\& sfdisk\-l пристрій
.Ve
.PP
This displays the partition table on \f(CW\*(C`device\*(C'\fR, in the human-readable output
of the \fIsfdisk\fR\|(8) command.  It is not intended to be parsed.
.PP
Див. також \*(L"part-list\*(R"
.PP
\&\fIThis function is deprecated.\fR In new code, use the \*(L"part_list\*(R" call
instead.
.PP
Deprecated functions will not be removed from the \s-1API\s0, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.
.SS "sh"
.IX Subsection "sh"
.Vb 1
\& sh команда
.Ve
.PP
This call runs a command from the guest filesystem via the guest's
\&\f(CW\*(C`/bin/sh\*(C'\fR.
.PP
This is like \*(L"command\*(R", but passes the command to:
.PP
.Vb 1
\& /bin/sh \-c "command"
.Ve
.PP
Depending on the guest's shell, this usually results in wildcards being
expanded, shell expressions being interpolated and so on.
.PP
All the provisos about \*(L"command\*(R" apply to this call.
.SS "sh-lines"
.IX Subsection "sh-lines"
.Vb 1
\& sh\-lines команда
.Ve
.PP
This is the same as \*(L"sh\*(R", but splits the result into a list of lines.
.PP
Див. також \*(L"command-lines\*(R"
.SS "shutdown"
.IX Subsection "shutdown"
.Vb 1
\& shutdown
.Ve
.PP
This is the opposite of \*(L"launch\*(R".  It performs an orderly shutdown of the
backend process(es).  If the autosync flag is set (which is the default)
then the disk image is synchronized.
.PP
If the subprocess exits with an error then this function will return an
error, which should \fInot\fR be ignored (it may indicate that the disk image
could not be written out properly).
.PP
It is safe to call this multiple times.  Extra calls are ignored.
.PP
This call does \fInot\fR close or free up the handle.  You still need to call
\&\*(L"close\*(R" afterwards.
.PP
\&\*(L"close\*(R" will call this if you don't do it explicitly, but note that any
errors are ignored in that case.
.SS "sleep"
.IX Subsection "sleep"
.Vb 1
\& sleep час_у_секундах
.Ve
.PP
Sleep for \f(CW\*(C`secs\*(C'\fR seconds.
.SS "stat"
.IX Subsection "stat"
.Vb 1
\& stat шлях
.Ve
.PP
Returns file information for the given \f(CW\*(C`path\*(C'\fR.
.PP
This is the same as the \f(CWstat(2)\fR system call.
.SS "statvfs"
.IX Subsection "statvfs"
.Vb 1
\& statvfs шлях
.Ve
.PP
Returns file system statistics for any mounted file system.  \f(CW\*(C`path\*(C'\fR should
be a file or directory in the mounted file system (typically it is the mount
point itself, but it doesn't need to be).
.PP
This is the same as the \f(CWstatvfs(2)\fR system call.
.SS "strings"
.IX Subsection "strings"
.Vb 1
\& strings шлях
.Ve
.PP
This runs the \fIstrings\fR\|(1) command on a file and returns the list of
printable strings found.
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "strings-e"
.IX Subsection "strings-e"
.Vb 1
\& strings\-e кодування шлях
.Ve
.PP
This is like the \*(L"strings\*(R" command, but allows you to specify the encoding
of strings that are looked for in the source file \f(CW\*(C`path\*(C'\fR.
.PP
Можливими кодуваннями є:
.IP "s" 4
.IX Item "s"
Single 7\-bit\-byte characters like \s-1ASCII\s0 and the ASCII-compatible parts of
\&\s-1ISO\-8859\-X\s0 (this is what \*(L"strings\*(R" uses).
.IP "S" 4
.IX Item "S"
Окремі 8\-бітові\-байтові символи.
.IP "b" 4
.IX Item "b"
16\-bit big endian strings such as those encoded in \s-1UTF\-16BE\s0 or \s-1UCS\-2BE\s0.
.IP "l (lower case letter L)" 4
.IX Item "l (lower case letter L)"
16\-bit little endian such as \s-1UTF\-16LE\s0 and \s-1UCS\-2LE\s0.  This is useful for
examining binaries in Windows guests.
.IP "B" 4
.IX Item "B"
32\-bit big endian such as \s-1UCS\-4BE\s0.
.IP "L" 4
.IX Item "L"
32\-bit little endian such as \s-1UCS\-4LE\s0.
.PP
The returned strings are transcoded to \s-1UTF\-8\s0.
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "swapoff-device"
.IX Subsection "swapoff-device"
.Vb 1
\& swapoff\-device пристрій
.Ve
.PP
This command disables the libguestfs appliance swap device or partition
named \f(CW\*(C`device\*(C'\fR.  See \*(L"swapon-device\*(R".
.SS "swapoff-file"
.IX Subsection "swapoff-file"
.Vb 1
\& swapoff\-file файл
.Ve
.PP
This command disables the libguestfs appliance swap on file.
.SS "swapoff-label"
.IX Subsection "swapoff-label"
.Vb 1
\& swapoff\-label мітка
.Ve
.PP
This command disables the libguestfs appliance swap on labeled swap
partition.
.SS "swapoff-uuid"
.IX Subsection "swapoff-uuid"
.Vb 1
\& swapoff\-uuid uuid
.Ve
.PP
This command disables the libguestfs appliance swap partition with the given
\&\s-1UUID\s0.
.SS "swapon-device"
.IX Subsection "swapon-device"
.Vb 1
\& swapon\-device пристрій
.Ve
.PP
This command enables the libguestfs appliance to use the swap device or
partition named \f(CW\*(C`device\*(C'\fR.  The increased memory is made available for all
commands, for example those run using \*(L"command\*(R" or \*(L"sh\*(R".
.PP
Note that you should not swap to existing guest swap partitions unless you
know what you are doing.  They may contain hibernation information, or other
information that the guest doesn't want you to trash.  You also risk leaking
information about the host to the guest this way.  Instead, attach a new
host device to the guest and swap on that.
.SS "swapon-file"
.IX Subsection "swapon-file"
.Vb 1
\& swapon\-file файл
.Ve
.PP
This command enables swap to a file.  See \*(L"swapon-device\*(R" for other notes.
.SS "swapon-label"
.IX Subsection "swapon-label"
.Vb 1
\& swapon\-label мітка
.Ve
.PP
This command enables swap to a labeled swap partition.  See
\&\*(L"swapon-device\*(R" for other notes.
.SS "swapon-uuid"
.IX Subsection "swapon-uuid"
.Vb 1
\& swapon\-uuid uuid
.Ve
.PP
This command enables swap to a swap partition with the given \s-1UUID\s0.  See
\&\*(L"swapon-device\*(R" for other notes.
.SS "sync"
.IX Subsection "sync"
.Vb 1
\& sync
.Ve
.PP
This syncs the disk, so that any writes are flushed through to the
underlying disk image.
.PP
You should always call this if you have modified a disk image, before
closing the handle.
.SS "tail"
.IX Subsection "tail"
.Vb 1
\& tail шлях
.Ve
.PP
This command returns up to the last 10 lines of a file as a list of strings.
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "tail-n"
.IX Subsection "tail-n"
.Vb 1
\& tail\-n nrlines path
.Ve
.PP
If the parameter \f(CW\*(C`nrlines\*(C'\fR is a positive number, this returns the last
\&\f(CW\*(C`nrlines\*(C'\fR lines of the file \f(CW\*(C`path\*(C'\fR.
.PP
If the parameter \f(CW\*(C`nrlines\*(C'\fR is a negative number, this returns lines from
the file \f(CW\*(C`path\*(C'\fR, starting with the \f(CW\*(C`\-nrlines\*(C'\fRth line.
.PP
If the parameter \f(CW\*(C`nrlines\*(C'\fR is zero, this returns an empty list.
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "tar-in"
.IX Subsection "tar-in"
.Vb 1
\& tar\-in (файл_tar|\-) каталог
.Ve
.PP
This command uploads and unpacks local file \f(CW\*(C`tarfile\*(C'\fR (an \fIuncompressed\fR
tar file) into \f(CW\*(C`directory\*(C'\fR.
.PP
To upload a compressed tarball, use \*(L"tgz-in\*(R" or \*(L"txz-in\*(R".
.PP
Use \f(CW\*(C`\-\*(C'\fR instead of a filename to read/write from stdin/stdout.
.SS "tar-out"
.IX Subsection "tar-out"
.Vb 1
\& tar\-out каталог (файл tar|\-)
.Ve
.PP
This command packs the contents of \f(CW\*(C`directory\*(C'\fR and downloads it to local
file \f(CW\*(C`tarfile\*(C'\fR.
.PP
To download a compressed tarball, use \*(L"tgz-out\*(R" or \*(L"txz-out\*(R".
.PP
Use \f(CW\*(C`\-\*(C'\fR instead of a filename to read/write from stdin/stdout.
.SS "tgz-in"
.IX Subsection "tgz-in"
.Vb 1
\& tgz\-in (архів tar|\-) каталог
.Ve
.PP
This command uploads and unpacks local file \f(CW\*(C`tarball\*(C'\fR (a \fIgzip compressed\fR
tar file) into \f(CW\*(C`directory\*(C'\fR.
.PP
To upload an uncompressed tarball, use \*(L"tar-in\*(R".
.PP
Use \f(CW\*(C`\-\*(C'\fR instead of a filename to read/write from stdin/stdout.
.SS "tgz-out"
.IX Subsection "tgz-out"
.Vb 1
\& tgz\-out каталог (архів tar|\-)
.Ve
.PP
This command packs the contents of \f(CW\*(C`directory\*(C'\fR and downloads it to local
file \f(CW\*(C`tarball\*(C'\fR.
.PP
To download an uncompressed tarball, use \*(L"tar-out\*(R".
.PP
Use \f(CW\*(C`\-\*(C'\fR instead of a filename to read/write from stdin/stdout.
.SS "touch"
.IX Subsection "touch"
.Vb 1
\& touch шлях
.Ve
.PP
Touch acts like the \fItouch\fR\|(1) command.  It can be used to update the
timestamps on a file, or, if the file does not exist, to create a new
zero-length file.
.PP
This command only works on regular files, and will fail on other file types
such as directories, symbolic links, block special etc.
.SS "truncate"
.IX Subsection "truncate"
.Vb 1
\& truncate шлях
.Ve
.PP
This command truncates \f(CW\*(C`path\*(C'\fR to a zero-length file.  The file must exist
already.
.SS "truncate-size"
.IX Subsection "truncate-size"
.Vb 1
\& truncate\-size шлях розмір
.Ve
.PP
This command truncates \f(CW\*(C`path\*(C'\fR to size \f(CW\*(C`size\*(C'\fR bytes.  The file must exist
already.
.PP
If the current file size is less than \f(CW\*(C`size\*(C'\fR then the file is extended to
the required size with zero bytes.  This creates a sparse file (ie. disk
blocks are not allocated for the file until you write to it).  To create a
non-sparse file of zeroes, use \*(L"fallocate64\*(R" instead.
.SS "tune2fs"
.IX Subsection "tune2fs"
.Vb 1
\& tune2fs device [force:true|false] [maxmountcount:N] [mountcount:N] [errorbehavior:..] [group:N] [intervalbetweenchecks:N] [reservedblockspercentage:N] [lastmounteddirectory:..] [reservedblockscount:N] [user:N]
.Ve
.PP
This call allows you to adjust various filesystem parameters of an
ext2/ext3/ext4 filesystem called \f(CW\*(C`device\*(C'\fR.
.PP
Додатковими параметрами є:
.ie n .IP """force""" 4
.el .IP "\f(CWforce\fR" 4
.IX Item "force"
Force tune2fs to complete the operation even in the face of errors.  This is
the same as the tune2fs \f(CW\*(C`\-f\*(C'\fR option.
.ie n .IP """maxmountcount""" 4
.el .IP "\f(CWmaxmountcount\fR" 4
.IX Item "maxmountcount"
Set the number of mounts after which the filesystem is checked by
\&\fIe2fsck\fR\|(8).  If this is \f(CW0\fR then the number of mounts is disregarded.
This is the same as the tune2fs \f(CW\*(C`\-c\*(C'\fR option.
.ie n .IP """mountcount""" 4
.el .IP "\f(CWmountcount\fR" 4
.IX Item "mountcount"
Set the number of times the filesystem has been mounted.  This is the same
as the tune2fs \f(CW\*(C`\-C\*(C'\fR option.
.ie n .IP """errorbehavior""" 4
.el .IP "\f(CWerrorbehavior\fR" 4
.IX Item "errorbehavior"
Change the behavior of the kernel code when errors are detected.  Possible
values currently are: \f(CW\*(C`continue\*(C'\fR, \f(CW\*(C`remount\-ro\*(C'\fR, \f(CW\*(C`panic\*(C'\fR.  In practice
these options don't really make any difference, particularly for write
errors.
.Sp
This is the same as the tune2fs \f(CW\*(C`\-e\*(C'\fR option.
.ie n .IP """group""" 4
.el .IP "\f(CWgroup\fR" 4
.IX Item "group"
Set the group which can use reserved filesystem blocks.  This is the same as
the tune2fs \f(CW\*(C`\-g\*(C'\fR option except that it can only be specified as a number.
.ie n .IP """intervalbetweenchecks""" 4
.el .IP "\f(CWintervalbetweenchecks\fR" 4
.IX Item "intervalbetweenchecks"
Adjust the maximal time between two filesystem checks (in seconds).  If the
option is passed as \f(CW0\fR then time-dependent checking is disabled.
.Sp
This is the same as the tune2fs \f(CW\*(C`\-i\*(C'\fR option.
.ie n .IP """reservedblockspercentage""" 4
.el .IP "\f(CWreservedblockspercentage\fR" 4
.IX Item "reservedblockspercentage"
Set the percentage of the filesystem which may only be allocated by
privileged processes.  This is the same as the tune2fs \f(CW\*(C`\-m\*(C'\fR option.
.ie n .IP """lastmounteddirectory""" 4
.el .IP "\f(CWlastmounteddirectory\fR" 4
.IX Item "lastmounteddirectory"
Set the last mounted directory.  This is the same as the tune2fs \f(CW\*(C`\-M\*(C'\fR
option.
.ie n .IP """reservedblockscount"" Set the number of reserved filesystem blocks.  This is the same as the tune2fs ""\-r"" option." 4
.el .IP "\f(CWreservedblockscount\fR Set the number of reserved filesystem blocks.  This is the same as the tune2fs \f(CW\-r\fR option." 4
.IX Item "reservedblockscount Set the number of reserved filesystem blocks.  This is the same as the tune2fs -r option."
.PD 0
.ie n .IP """user""" 4
.el .IP "\f(CWuser\fR" 4
.IX Item "user"
.PD
Set the user who can use the reserved filesystem blocks.  This is the same
as the tune2fs \f(CW\*(C`\-u\*(C'\fR option except that it can only be specified as a
number.
.PP
To get the current values of filesystem parameters, see \*(L"tune2fs\-l\*(R".  For
precise details of how tune2fs works, see the \fItune2fs\fR\|(8) man page.
.PP
This command has one or more optional arguments.  See \*(L"\s-1OPTIONAL\s0
\&\s-1ARGUMENTS\s0\*(R".
.SS "tune2fs\-l"
.IX Subsection "tune2fs-l"
.Vb 1
\& tune2fs\-l пристрій
.Ve
.PP
This returns the contents of the ext2, ext3 or ext4 filesystem superblock on
\&\f(CW\*(C`device\*(C'\fR.
.PP
It is the same as running \f(CW\*(C`tune2fs \-l device\*(C'\fR.  See \fItune2fs\fR\|(8) manpage
for more details.  The list of fields returned isn't clearly defined, and
depends on both the version of \f(CW\*(C`tune2fs\*(C'\fR that libguestfs was built against,
and the filesystem itself.
.SS "txz-in"
.IX Subsection "txz-in"
.Vb 1
\& txz\-in (архів tar|\-) каталог
.Ve
.PP
This command uploads and unpacks local file \f(CW\*(C`tarball\*(C'\fR (an \fIxz compressed\fR
tar file) into \f(CW\*(C`directory\*(C'\fR.
.PP
Use \f(CW\*(C`\-\*(C'\fR instead of a filename to read/write from stdin/stdout.
.SS "txz-out"
.IX Subsection "txz-out"
.Vb 1
\& txz\-out каталог (архів tar|\-)
.Ve
.PP
This command packs the contents of \f(CW\*(C`directory\*(C'\fR and downloads it to local
file \f(CW\*(C`tarball\*(C'\fR (as an xz compressed tar archive).
.PP
Use \f(CW\*(C`\-\*(C'\fR instead of a filename to read/write from stdin/stdout.
.SS "umask"
.IX Subsection "umask"
.Vb 1
\& umask маска
.Ve
.PP
This function sets the mask used for creating new files and device nodes to
\&\f(CW\*(C`mask & 0777\*(C'\fR.
.PP
Typical umask values would be \f(CW022\fR which creates new files with
permissions like \*(L"\-rw\-r\*(--r\-\-\*(R" or \*(L"\-rwxr\-xr\-x\*(R", and \f(CW002\fR which creates new
files with permissions like \*(L"\-rw\-rw\-r\-\-\*(R" or \*(L"\-rwxrwxr\-x\*(R".
.PP
The default umask is \f(CW022\fR.  This is important because it means that
directories and device nodes will be created with \f(CW0644\fR or \f(CW0755\fR mode
even if you specify \f(CW0777\fR.
.PP
Див. також \*(L"get-umask\*(R", \fIumask\fR\|(2), \*(L"mknod\*(R", \*(L"mkdir\*(R".
.PP
This call returns the previous umask.
.SS "umount"
.IX Subsection "umount"
.SS "unmount"
.IX Subsection "unmount"
.Vb 1
\& umount шлях_або_пристрій
.Ve
.PP
This unmounts the given filesystem.  The filesystem may be specified either
by its mountpoint (path) or the device which contains the filesystem.
.SS "umount-all"
.IX Subsection "umount-all"
.SS "unmount-all"
.IX Subsection "unmount-all"
.Vb 1
\& umount\-all
.Ve
.PP
This unmounts all mounted filesystems.
.PP
Some internal mounts are not unmounted by this call.
.SS "umount-local"
.IX Subsection "umount-local"
.Vb 1
\& umount\-local [retry:true|false]
.Ve
.PP
If libguestfs is exporting the filesystem on a local mountpoint, then this
unmounts it.
.PP
See \*(L"\s-1MOUNT\s0 \s-1LOCAL\s0\*(R" in \fIguestfs\fR\|(3) for full documentation.
.PP
This command has one or more optional arguments.  See \*(L"\s-1OPTIONAL\s0
\&\s-1ARGUMENTS\s0\*(R".
.SS "upload"
.IX Subsection "upload"
.Vb 1
\& upload (назва_файла|\-) назва_віддаленого_файла
.Ve
.PP
Upload local file \f(CW\*(C`filename\*(C'\fR to \f(CW\*(C`remotefilename\*(C'\fR on the filesystem.
.PP
\&\f(CW\*(C`filename\*(C'\fR can also be a named pipe.
.PP
Див. також \*(L"download\*(R".
.PP
Use \f(CW\*(C`\-\*(C'\fR instead of a filename to read/write from stdin/stdout.
.SS "upload-offset"
.IX Subsection "upload-offset"
.Vb 1
\& upload\-offset (назва_файла|\-) назва_віддаленого_файла відступ
.Ve
.PP
Upload local file \f(CW\*(C`filename\*(C'\fR to \f(CW\*(C`remotefilename\*(C'\fR on the filesystem.
.PP
\&\f(CW\*(C`remotefilename\*(C'\fR is overwritten starting at the byte \f(CW\*(C`offset\*(C'\fR specified.
The intention is to overwrite parts of existing files or devices, although
if a non-existant file is specified then it is created with a \*(L"hole\*(R" before
\&\f(CW\*(C`offset\*(C'\fR.  The size of the data written is implicit in the size of the
source \f(CW\*(C`filename\*(C'\fR.
.PP
Note that there is no limit on the amount of data that can be uploaded with
this call, unlike with \*(L"pwrite\*(R", and this call always writes the full
amount unless an error occurs.
.PP
Див. також \*(L"upload\*(R", \*(L"pwrite\*(R".
.PP
Use \f(CW\*(C`\-\*(C'\fR instead of a filename to read/write from stdin/stdout.
.SS "utimens"
.IX Subsection "utimens"
.Vb 1
\& utimens path atsecs atnsecs mtsecs mtnsecs
.Ve
.PP
This command sets the timestamps of a file with nanosecond precision.
.PP
\&\f(CW\*(C`atsecs, atnsecs\*(C'\fR are the last access time (atime) in secs and nanoseconds
from the epoch.
.PP
\&\f(CW\*(C`mtsecs, mtnsecs\*(C'\fR are the last modification time (mtime) in secs and
nanoseconds from the epoch.
.PP
If the \f(CW*nsecs\fR field contains the special value \f(CW\*(C`\-1\*(C'\fR then the
corresponding timestamp is set to the current time.  (The \f(CW*secs\fR field is
ignored in this case).
.PP
If the \f(CW*nsecs\fR field contains the special value \f(CW\*(C`\-2\*(C'\fR then the
corresponding timestamp is left unchanged.  (The \f(CW*secs\fR field is ignored
in this case).
.SS "version"
.IX Subsection "version"
.Vb 1
\& version
.Ve
.PP
Return the libguestfs version number that the program is linked against.
.PP
Note that because of dynamic linking this is not necessarily the version of
libguestfs that you compiled against.  You can compile the program, and then
at runtime dynamically link against a completely different \f(CW\*(C`libguestfs.so\*(C'\fR
library.
.PP
This call was added in version \f(CW1.0.58\fR.  In previous versions of
libguestfs there was no way to get the version number.  From C code you can
use dynamic linker functions to find out if this symbol exists (if it
doesn't, then it's an earlier version).
.PP
The call returns a structure with four elements.  The first three (\f(CW\*(C`major\*(C'\fR,
\&\f(CW\*(C`minor\*(C'\fR and \f(CW\*(C`release\*(C'\fR) are numbers and correspond to the usual version
triplet.  The fourth element (\f(CW\*(C`extra\*(C'\fR) is a string and is normally empty,
but may be used for distro-specific information.
.PP
To construct the original version string: \f(CW\*(C`$major.$minor.$release$extra\*(C'\fR
.PP
Див також: \*(L"\s-1LIBGUESTFS\s0 \s-1VERSION\s0 \s-1NUMBERS\s0\*(R" in \fIguestfs\fR\|(3).
.PP
\&\fINote:\fR Don't use this call to test for availability of features.  In
enterprise distributions we backport features from later versions into
earlier versions, making this an unreliable way to test for features.  Use
\&\*(L"available\*(R" instead.
.SS "vfs-label"
.IX Subsection "vfs-label"
.Vb 1
\& vfs\-label пристрій
.Ve
.PP
This returns the filesystem label of the filesystem on \f(CW\*(C`device\*(C'\fR.
.PP
If the filesystem is unlabeled, this returns the empty string.
.PP
To find a filesystem from the label, use \*(L"findfs-label\*(R".
.SS "vfs-type"
.IX Subsection "vfs-type"
.Vb 1
\& vfs\-type пристрій
.Ve
.PP
This command gets the filesystem type corresponding to the filesystem on
\&\f(CW\*(C`device\*(C'\fR.
.PP
For most filesystems, the result is the name of the Linux \s-1VFS\s0 module which
would be used to mount this filesystem if you mounted it without specifying
the filesystem type.  For example a string such as \f(CW\*(C`ext3\*(C'\fR or \f(CW\*(C`ntfs\*(C'\fR.
.SS "vfs-uuid"
.IX Subsection "vfs-uuid"
.Vb 1
\& vfs\-uuid пристрій
.Ve
.PP
This returns the filesystem \s-1UUID\s0 of the filesystem on \f(CW\*(C`device\*(C'\fR.
.PP
If the filesystem does not have a \s-1UUID\s0, this returns the empty string.
.PP
To find a filesystem from the \s-1UUID\s0, use \*(L"findfs-uuid\*(R".
.SS "vg-activate"
.IX Subsection "vg-activate"
.Vb 1
\& vg\-activate true|false \*(Aqvolgroups ...\*(Aq
.Ve
.PP
This command activates or (if \f(CW\*(C`activate\*(C'\fR is false) deactivates all logical
volumes in the listed volume groups \f(CW\*(C`volgroups\*(C'\fR.
.PP
This command is the same as running \f(CW\*(C`vgchange \-a y|n volgroups...\*(C'\fR
.PP
Note that if \f(CW\*(C`volgroups\*(C'\fR is an empty list then \fBall\fR volume groups are
activated or deactivated.
.SS "vg-activate-all"
.IX Subsection "vg-activate-all"
.Vb 1
\& vg\-activate\-all true|false
.Ve
.PP
This command activates or (if \f(CW\*(C`activate\*(C'\fR is false) deactivates all logical
volumes in all volume groups.
.PP
This command is the same as running \f(CW\*(C`vgchange \-a y|n\*(C'\fR
.SS "vgcreate"
.IX Subsection "vgcreate"
.Vb 1
\& vgcreate volgroup \*(Aqphysvols ...\*(Aq
.Ve
.PP
This creates an \s-1LVM\s0 volume group called \f(CW\*(C`volgroup\*(C'\fR from the non-empty list
of physical volumes \f(CW\*(C`physvols\*(C'\fR.
.SS "vglvuuids"
.IX Subsection "vglvuuids"
.Vb 1
\& vglvuuids vgname
.Ve
.PP
Given a \s-1VG\s0 called \f(CW\*(C`vgname\*(C'\fR, this returns the UUIDs of all the logical
volumes created in this volume group.
.PP
You can use this along with \*(L"lvs\*(R" and \*(L"lvuuid\*(R" calls to associate
logical volumes and volume groups.
.PP
Див. також \*(L"vgpvuuids\*(R".
.SS "vgmeta"
.IX Subsection "vgmeta"
.Vb 1
\& vgmeta vgname
.Ve
.PP
\&\f(CW\*(C`vgname\*(C'\fR is an \s-1LVM\s0 volume group.  This command examines the volume group
and returns its metadata.
.PP
Note that the metadata is an internal structure used by \s-1LVM\s0, subject to
change at any time, and is provided for information only.
.SS "vgpvuuids"
.IX Subsection "vgpvuuids"
.Vb 1
\& vgpvuuids vgname
.Ve
.PP
Given a \s-1VG\s0 called \f(CW\*(C`vgname\*(C'\fR, this returns the UUIDs of all the physical
volumes that this volume group resides on.
.PP
You can use this along with \*(L"pvs\*(R" and \*(L"pvuuid\*(R" calls to associate
physical volumes and volume groups.
.PP
Див. також \*(L"vglvuuids\*(R".
.SS "vgremove"
.IX Subsection "vgremove"
.Vb 1
\& vgremove vgname
.Ve
.PP
Remove an \s-1LVM\s0 volume group \f(CW\*(C`vgname\*(C'\fR, (for example \f(CW\*(C`VG\*(C'\fR).
.PP
This also forcibly removes all logical volumes in the volume group (if any).
.SS "vgrename"
.IX Subsection "vgrename"
.Vb 1
\& vgrename volgroup newvolgroup
.Ve
.PP
Rename a volume group \f(CW\*(C`volgroup\*(C'\fR with the new name \f(CW\*(C`newvolgroup\*(C'\fR.
.SS "vgs"
.IX Subsection "vgs"
.Vb 1
\& vgs
.Ve
.PP
List all the volumes groups detected.  This is the equivalent of the
\&\fIvgs\fR\|(8) command.
.PP
This returns a list of just the volume group names that were detected
(eg. \f(CW\*(C`VolGroup00\*(C'\fR).
.PP
Див. також \*(L"vgs-full\*(R".
.SS "vgs-full"
.IX Subsection "vgs-full"
.Vb 1
\& vgs\-full
.Ve
.PP
List all the volumes groups detected.  This is the equivalent of the
\&\fIvgs\fR\|(8) command.  The \*(L"full\*(R" version includes all fields.
.SS "vgscan"
.IX Subsection "vgscan"
.Vb 1
\& vgscan
.Ve
.PP
This rescans all block devices and rebuilds the list of \s-1LVM\s0 physical
volumes, volume groups and logical volumes.
.SS "vguuid"
.IX Subsection "vguuid"
.Vb 1
\& vguuid vgname
.Ve
.PP
This command returns the \s-1UUID\s0 of the \s-1LVM\s0 \s-1VG\s0 named \f(CW\*(C`vgname\*(C'\fR.
.SS "wc-c"
.IX Subsection "wc-c"
.Vb 1
\& wc\-c шлях
.Ve
.PP
This command counts the characters in a file, using the \f(CW\*(C`wc \-c\*(C'\fR external
command.
.SS "wc-l"
.IX Subsection "wc-l"
.Vb 1
\& wc\-l шлях
.Ve
.PP
This command counts the lines in a file, using the \f(CW\*(C`wc \-l\*(C'\fR external
command.
.SS "wc-w"
.IX Subsection "wc-w"
.Vb 1
\& wc\-w шлях
.Ve
.PP
This command counts the words in a file, using the \f(CW\*(C`wc \-w\*(C'\fR external
command.
.SS "wipefs"
.IX Subsection "wipefs"
.Vb 1
\& wipefs device
.Ve
.PP
This command erases filesystem or \s-1RAID\s0 signatures from the specified
\&\f(CW\*(C`device\*(C'\fR to make the filesystem invisible to libblkid.
.PP
This does not erase the filesystem itself nor any other data from the
\&\f(CW\*(C`device\*(C'\fR.
.PP
Compare with \*(L"zero\*(R" which zeroes the first few blocks of a device.
.SS "write"
.IX Subsection "write"
.Vb 1
\& write шлях дані
.Ve
.PP
This call creates a file called \f(CW\*(C`path\*(C'\fR.  The content of the file is the
string \f(CW\*(C`content\*(C'\fR (which can contain any 8 bit data).
.PP
Див. також \*(L"write-append\*(R".
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "write-append"
.IX Subsection "write-append"
.Vb 1
\& write\-append path content
.Ve
.PP
This call appends \f(CW\*(C`content\*(C'\fR to the end of file \f(CW\*(C`path\*(C'\fR.  If \f(CW\*(C`path\*(C'\fR does
not exist, then a new file is created.
.PP
Див. також \*(L"write\*(R".
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "write-file"
.IX Subsection "write-file"
.Vb 1
\& write\-file path content size
.Ve
.PP
This call creates a file called \f(CW\*(C`path\*(C'\fR.  The contents of the file is the
string \f(CW\*(C`content\*(C'\fR (which can contain any 8 bit data), with length \f(CW\*(C`size\*(C'\fR.
.PP
As a special case, if \f(CW\*(C`size\*(C'\fR is \f(CW0\fR then the length is calculated using
\&\f(CW\*(C`strlen\*(C'\fR (so in this case the content cannot contain embedded \s-1ASCII\s0 NULs).
.PP
\&\fI\s-1NB\s0.\fR Owing to a bug, writing content containing \s-1ASCII\s0 \s-1NUL\s0 characters does
\&\fInot\fR work, even if the length is specified.
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.PP
\&\fIThis function is deprecated.\fR In new code, use the \*(L"write\*(R" call instead.
.PP
Deprecated functions will not be removed from the \s-1API\s0, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.
.SS "zegrep"
.IX Subsection "zegrep"
.Vb 1
\& zegrep формальний_вираз шлях
.Ve
.PP
This calls the external \f(CW\*(C`zegrep\*(C'\fR program and returns the matching lines.
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "zegrepi"
.IX Subsection "zegrepi"
.Vb 1
\& zegrepi regex path
.Ve
.PP
This calls the external \f(CW\*(C`zegrep \-i\*(C'\fR program and returns the matching lines.
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "zero"
.IX Subsection "zero"
.Vb 1
\& zero пристрій
.Ve
.PP
This command writes zeroes over the first few blocks of \f(CW\*(C`device\*(C'\fR.
.PP
How many blocks are zeroed isn't specified (but it's \fInot\fR enough to
securely wipe the device).  It should be sufficient to remove any partition
tables, filesystem superblocks and so on.
.PP
If blocks are already zero, then this command avoids writing zeroes.  This
prevents the underlying device from becoming non-sparse or growing
unnecessarily.
.PP
See also: \*(L"zero-device\*(R", \*(L"scrub-device\*(R", \*(L"is-zero-device\*(R"
.SS "zero-device"
.IX Subsection "zero-device"
.Vb 1
\& zero\-device пристрій
.Ve
.PP
This command writes zeroes over the entire \f(CW\*(C`device\*(C'\fR.  Compare with \*(L"zero\*(R"
which just zeroes the first few blocks of a device.
.PP
If blocks are already zero, then this command avoids writing zeroes.  This
prevents the underlying device from becoming non-sparse or growing
unnecessarily.
.SS "zero-free-space"
.IX Subsection "zero-free-space"
.Vb 1
\& zero\-free\-space directory
.Ve
.PP
Zero the free space in the filesystem mounted on \f(CW\*(C`directory\*(C'\fR.  The
filesystem must be mounted read-write.
.PP
The filesystem contents are not affected, but any free space in the
filesystem is freed.
.PP
In future (but not currently) these zeroed blocks will be \*(L"sparsified\*(R" \-
that is, given back to the host.
.SS "zerofree"
.IX Subsection "zerofree"
.Vb 1
\& zerofree пристрій
.Ve
.PP
This runs the \fIzerofree\fR program on \f(CW\*(C`device\*(C'\fR.  This program claims to zero
unused inodes and disk blocks on an ext2/3 filesystem, thus making it
possible to compress the filesystem more effectively.
.PP
You should \fBnot\fR run this program if the filesystem is mounted.
.PP
It is possible that using this program can damage the filesystem or data on
the filesystem.
.SS "zfgrep"
.IX Subsection "zfgrep"
.Vb 1
\& zfgrep шаблон шлях
.Ve
.PP
This calls the external \f(CW\*(C`zfgrep\*(C'\fR program and returns the matching lines.
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "zfgrepi"
.IX Subsection "zfgrepi"
.Vb 1
\& zfgrepi шаблон шлях
.Ve
.PP
This calls the external \f(CW\*(C`zfgrep \-i\*(C'\fR program and returns the matching lines.
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "zfile"
.IX Subsection "zfile"
.Vb 1
\& zfile метод шлях
.Ve
.PP
This command runs \f(CW\*(C`file\*(C'\fR after first decompressing \f(CW\*(C`path\*(C'\fR using \f(CW\*(C`method\*(C'\fR.
.PP
\&\f(CW\*(C`method\*(C'\fR must be one of \f(CW\*(C`gzip\*(C'\fR, \f(CW\*(C`compress\*(C'\fR or \f(CW\*(C`bzip2\*(C'\fR.
.PP
Since 1.0.63, use \*(L"file\*(R" instead which can now process compressed files.
.PP
\&\fIThis function is deprecated.\fR In new code, use the \*(L"file\*(R" call instead.
.PP
Deprecated functions will not be removed from the \s-1API\s0, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.
.SS "zgrep"
.IX Subsection "zgrep"
.Vb 1
\& zgrep формальний_вираз шлях
.Ve
.PP
This calls the external \f(CW\*(C`zgrep\*(C'\fR program and returns the matching lines.
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SS "zgrepi"
.IX Subsection "zgrepi"
.Vb 1
\& zgrepi формальний_вираз шлях
.Ve
.PP
This calls the external \f(CW\*(C`zgrep \-i\*(C'\fR program and returns the matching lines.
.PP
Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See \*(L"\s-1PROTOCOL\s0 \s-1LIMITS\s0\*(R" in \fIguestfs\fR\|(3).
.SH "СТАН ВИХОДУ"
.IX Header "СТАН ВИХОДУ"
guestfish returns 0 if the commands completed without error, or 1 if there
was an error.
.SH "ЗМІННІ СЕРЕДОВИЩА"
.IX Header "ЗМІННІ СЕРЕДОВИЩА"
.IP "РЕДАКТОР" 4
.IX Item "РЕДАКТОР"
The \f(CW\*(C`edit\*(C'\fR command uses \f(CW$EDITOR\fR as the editor.  If not set, it uses
\&\f(CW\*(C`vi\*(C'\fR.
.IP "\s-1FEBOOTSTRAP_KERNEL\s0" 4
.IX Item "FEBOOTSTRAP_KERNEL"
.PD 0
.IP "\s-1FEBOOTSTRAP_MODULES\s0" 4
.IX Item "FEBOOTSTRAP_MODULES"
.PD
These two environment variables allow the kernel that libguestfs uses in the
appliance to be selected.  If \f(CW$FEBOOTSTRAP_KERNEL\fR is not set, then the
most recent host kernel is chosen.  For more information about kernel
selection, see \fIfebootstrap\-supermin\-helper\fR\|(8).  This feature is only
available in febootstrap ≥ 3.8.
.IP "\s-1GUESTFISH_DISPLAY_IMAGE\s0" 4
.IX Item "GUESTFISH_DISPLAY_IMAGE"
The \f(CW\*(C`display\*(C'\fR command uses \f(CW$GUESTFISH_DISPLAY_IMAGE\fR to display images.
If not set, it uses \fIdisplay\fR\|(1).
.IP "\s-1GUESTFISH_PID\s0" 4
.IX Item "GUESTFISH_PID"
Used with the \fI\-\-remote\fR option to specify the remote guestfish process to
control.  See section \*(L"\s-1REMOTE\s0 \s-1CONTROL\s0 \s-1GUESTFISH\s0 \s-1OVER\s0 A \s-1SOCKET\s0\*(R".
.IP "\s-1HEXEDITOR\s0" 4
.IX Item "HEXEDITOR"
The \*(L"hexedit\*(R" command uses \f(CW$HEXEDITOR\fR as the external hex editor.  If
not specified, the external \fIhexedit\fR\|(1) program is used.
.IP "ДОМІВКА" 4
.IX Item "ДОМІВКА"
If compiled with \s-1GNU\s0 readline support, various files in the home directory
can be used.  See \*(L"\s-1FILES\s0\*(R".
.IP "\s-1LIBGUESTFS_APPEND\s0" 4
.IX Item "LIBGUESTFS_APPEND"
Pass additional options to the guest kernel.
.IP "\s-1LIBGUESTFS_DEBUG\s0" 4
.IX Item "LIBGUESTFS_DEBUG"
Set \f(CW\*(C`LIBGUESTFS_DEBUG=1\*(C'\fR to enable verbose messages.  This has the same
effect as using the \fB\-v\fR option.
.IP "\s-1LIBGUESTFS_MEMSIZE\s0" 4
.IX Item "LIBGUESTFS_MEMSIZE"
Set the memory allocated to the qemu process, in megabytes.  For example:
.Sp
.Vb 1
\& LIBGUESTFS_MEMSIZE=700
.Ve
.IP "\s-1LIBGUESTFS_PATH\s0" 4
.IX Item "LIBGUESTFS_PATH"
Set the path that guestfish uses to search for kernel and initrd.img.  See
the discussion of paths in \fIguestfs\fR\|(3).
.IP "\s-1LIBGUESTFS_QEMU\s0" 4
.IX Item "LIBGUESTFS_QEMU"
Set the default qemu binary that libguestfs uses.  If not set, then the qemu
which was found at compile time by the configure script is used.
.IP "\s-1LIBGUESTFS_TRACE\s0" 4
.IX Item "LIBGUESTFS_TRACE"
Set \f(CW\*(C`LIBGUESTFS_TRACE=1\*(C'\fR to enable command traces.
.IP "РОЗБИТТЯ НА СТОРІНКИ" 4
.IX Item "РОЗБИТТЯ НА СТОРІНКИ"
The \f(CW\*(C`more\*(C'\fR command uses \f(CW$PAGER\fR as the pager.  If not set, it uses
\&\f(CW\*(C`more\*(C'\fR.
.IP "\s-1TMPDIR\s0" 4
.IX Item "TMPDIR"
Location of temporary directory, defaults to \f(CW\*(C`/tmp\*(C'\fR except for the cached
supermin appliance which defaults to \f(CW\*(C`/var/tmp\*(C'\fR.
.Sp
If libguestfs was compiled to use the supermin appliance then the real
appliance is cached in this directory, shared between all handles belonging
to the same \s-1EUID\s0.  You can use \f(CW$TMPDIR\fR to configure another directory to
use in case \f(CW\*(C`/var/tmp\*(C'\fR is not large enough.
.SH "ФАЙЛИ"
.IX Header "ФАЙЛИ"
.ie n .IP "$HOME/.libguestfs\-tools.rc" 4
.el .IP "\f(CW$HOME\fR/.libguestfs\-tools.rc" 4
.IX Item "$HOME/.libguestfs-tools.rc"
.PD 0
.IP "/etc/libguestfs\-tools.conf" 4
.IX Item "/etc/libguestfs-tools.conf"
.PD
This configuration file controls the default read-only or read-write mode
(\fI\-\-ro\fR or \fI\-\-rw\fR).
.Sp
Див. \*(L"\s-1OPENING\s0 \s-1DISKS\s0 \s-1FOR\s0 \s-1READ\s0 \s-1AND\s0 \s-1WRITE\s0\*(R".
.ie n .IP "$HOME/.guestfish" 4
.el .IP "\f(CW$HOME\fR/.guestfish" 4
.IX Item "$HOME/.guestfish"
If compiled with \s-1GNU\s0 readline support, then the command history is saved in
this file.
.ie n .IP "$HOME/.inputrc" 4
.el .IP "\f(CW$HOME\fR/.inputrc" 4
.IX Item "$HOME/.inputrc"
.PD 0
.IP "/etc/inputrc" 4
.IX Item "/etc/inputrc"
.PD
If compiled with \s-1GNU\s0 readline support, then these files can be used to
configure readline.  For further information, please see
\&\*(L"\s-1INITIALIZATION\s0 \s-1FILE\s0\*(R" in \fIreadline\fR\|(3).
.Sp
To write rules which only apply to guestfish, use:
.Sp
.Vb 3
\& $if guestfish
\& ...
\& $endif
.Ve
.Sp
Variables that you can set in inputrc that change the behaviour of guestfish
in useful ways include:
.RS 4
.IP "completion-ignore-case (default: on)" 4
.IX Item "completion-ignore-case (default: on)"
By default, guestfish will ignore case when tab-completing paths on the
disk.  Use:
.Sp
.Vb 1
\& set completion\-ignore\-case off
.Ve
.Sp
to make guestfish case sensitive.
.RE
.RS 4
.RE
.IP "test1.img" 4
.IX Item "test1.img"
.PD 0
.IP "test2.img (etc)" 4
.IX Item "test2.img (etc)"
.PD
When using the \fI\-N\fR or \fI\-\-new\fR option, the prepared disk or filesystem
will be created in the file \f(CW\*(C`test1.img\*(C'\fR in the current directory.  The
second use of \fI\-N\fR will use \f(CW\*(C`test2.img\*(C'\fR and so on.  Any existing file with
the same name will be overwritten.
.SH "ТАКОЖ ПЕРЕГЛЯНЬТЕ"
.IX Header "ТАКОЖ ПЕРЕГЛЯНЬТЕ"
\&\fIguestfs\fR\|(3), <http://libguestfs.org/>, \fIvirt\-alignment\-scan\fR\|(1),
\&\fIvirt\-cat\fR\|(1), \fIvirt\-copy\-in\fR\|(1), \fIvirt\-copy\-out\fR\|(1), \fIvirt\-df\fR\|(1),
\&\fIvirt\-edit\fR\|(1), \fIvirt\-filesystems\fR\|(1), \fIvirt\-inspector\fR\|(1),
\&\fIvirt\-list\-filesystems\fR\|(1), \fIvirt\-list\-partitions\fR\|(1), \fIvirt\-ls\fR\|(1),
\&\fIvirt\-make\-fs\fR\|(1), \fIvirt\-rescue\fR\|(1), \fIvirt\-resize\fR\|(1),
\&\fIvirt\-sparsify\fR\|(1), \fIvirt\-sysprep\fR\|(1), \fIvirt\-tar\fR\|(1), \fIvirt\-tar\-in\fR\|(1),
\&\fIvirt\-tar\-out\fR\|(1), \fIvirt\-win\-reg\fR\|(1), \fIdisplay\fR\|(1), \fIhexedit\fR\|(1),
\&\fIfebootstrap\-supermin\-helper\fR\|(8).
.SH "АВТОРИ"
.IX Header "АВТОРИ"
Richard W.M. Jones (\f(CW\*(C`rjones at redhat dot com\*(C'\fR)
.SH "АВТОРСЬКІ ПРАВА"
.IX Header "АВТОРСЬКІ ПРАВА"
© Red Hat Inc., 2009–2012 <http://libguestfs.org/>
.PP
Ця програма є вільним програмним забезпеченням; ви можете поширювати та/або
змінювати її за умов дотримання \s-1GNU\s0 General Public License  утому вигляді,
що оприлюднений Free Software Foundation; версії 2 цієї Ліцензії, або (якщо
забажаєте) будь\-якої випущеної пізніше.
.PP
Ця програма поширюється у сподіванні, що вона буде корисною, але БЕЗ
БУДЬ\-ЯКИХ ГАРАНТІЙНИХ ЗОБОВ’ЯЗАНЬ; навіть без очевидної гарантії
ПРАЦЕЗДАТНОСТІ або ПРИДАТНОСТІ ДЛЯ ВИКОРИСТАННЯ З ПЕВНОЮ МЕТОЮ. Докладніше
про це можна дізнатися з \s-1GNU\s0 General Public License.
.PP
Ви маєте отримати копію \s-1GNU\s0 General Public License разом з цією програмою;
якщо це не так, повідомте про факт за адресою Free Software Foundation,
Inc., 51 Franklin Street, Fifth Floor, Boston, \s-1MA\s0 02110\-1301, \s-1USA\s0.
