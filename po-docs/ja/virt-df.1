.\" Automatically generated by Podwrapper::Man 1.27.25 (Pod::Simple 3.28)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{
.    if \nF \{
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "virt-df 1"
.TH virt-df 1 "2014-08-05" "libguestfs-1.27.25" "Virtualization Support"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "名前"
.IX Header "名前"
virt-df \- 仮想ファイルシステムの使用状況の表示
.SH "書式"
.IX Header "書式"
すべての仮想マシン:
.PP
.Vb 1
\& virt\-df [\-\-options]
.Ve
.PP
単一の仮想マシン:
.PP
.Vb 1
\& virt\-df [\-\-options] \-d domname
\&
\& virt\-df [\-\-options] \-a disk.img [\-a disk.img ...]
.Ve
.PP
古い形式:
.PP
.Vb 1
\& virt\-df [\-\-options] domname
\&
\& virt\-df [\-\-options] disk.img [disk.img ...]
.Ve
.SH "説明"
.IX Header "説明"
\&\f(CW\*(C`virt\-df\*(C'\fR is a command line tool to display free space on virtual machine
filesystems.  Unlike other tools, it doesn't just display the size of disk
allocated to a virtual machine, but can look inside disk images to see how
much space is really being used.
.PP
If used without any \fI\-a\fR or \fI\-d\fR arguments, \f(CW\*(C`virt\-df\*(C'\fR checks with libvirt
to get a list of all active and inactive guests, and performs a \f(CW\*(C`df\*(C'\fR\-type
operation on each one in turn, printing out the results.
.PP
If any \fI\-a\fR or \fI\-d\fR arguments are specified, \f(CW\*(C`virt\-df\*(C'\fR performs a
\&\f(CW\*(C`df\*(C'\fR\-type operation on either the single named libvirt domain, or on the
disk image(s) listed on the command line (which must all belong to a single
\&\s-1VM\s0).  \fBIn this mode (with arguments), \f(CB\*(C`virt\-df\*(C'\fB will only work for a
single guest\fR.  If you want to run on multiple guests, then you have to
invoke \f(CW\*(C`virt\-df\*(C'\fR multiple times.
.PP
Use the \fI\-\-csv\fR option to get a format which can be easily parsed by other
programs.  Other options are similar to the standard \fIdf\fR\|(1) command.
.SH "例"
.IX Header "例"
Show disk usage for a single libvirt guest called \f(CW\*(C`F14x64\*(C'\fR.  Make the
output human-readable:
.PP
.Vb 4
\& # virt\-df \-d F14x64 \-h
\& Filesystem                       Size     Used  Available  Use%
\& F14x64:/dev/sda1                 484M      66M       393M   14%
\& F14x64:/dev/vg_f13x64/lv_root    7.4G     3.4G       4.0G   46%
.Ve
.PP
\&\f(CW\*(C`test.img\*(C'\fR というディスクイメージファイルのディスク使用量を表示します:
.PP
.Vb 3
\& $ virt\-df \-a test1.img
\& Filesystem                  1K\-blocks     Used  Available  Use%
\& test1.img:/dev/sda1             99099     1551      92432    2%
.Ve
.PP
If a single guest has multiple disks, use the \fI\-a\fR option repeatedly.  A
plus sign (\f(CW\*(C`+\*(C'\fR) is displayed for each additional disk.  \fBNote: Do not do
this with unrelated guest disks.\fR
.PP
.Vb 5
\& $ virt\-df \-a Win7x32TwoDisks\-a \-a Win7x32TwoDisks\-b 
\& Filesystem                   1K\-blocks    Used  Available  Use%
\& Win7x32TwoDisks\-a+:/dev/sda1    102396   24712      77684   25%
\& Win7x32TwoDisks\-a+:/dev/sda2  12478460 7403416    5075044   60%
\& Win7x32TwoDisks\-a+:/dev/sdb1    521212   55728     465484   11%
.Ve
.SH "オプション"
.IX Header "オプション"
.IP "\fB\-\-help\fR" 4
.IX Item "--help"
簡単なヘルプを表示します。
.IP "\fB\-a\fR file" 4
.IX Item "-a file"
.PD 0
.IP "\fB\-\-add\fR file" 4
.IX Item "--add file"
.PD
Add \fIfile\fR which should be a disk image from a virtual machine.  If the
virtual machine has multiple block devices, you must supply all of them with
separate \fI\-a\fR options.
.Sp
ディスクイメージの形式は自動検知されます。 これを上書きして強制的に特定の形式を使用する場合、 \fI\-\-format=..\fR オプションを使用します。
.IP "\fB\-a \s-1URI\s0\fR" 4
.IX Item "-a URI"
.PD 0
.IP "\fB\-\-add \s-1URI\s0\fR" 4
.IX Item "--add URI"
.PD
リモートディスクを追加します。 \*(L"リモートストレージの追加\*(R" in \fIguestfish\fR\|(1) 参照。
.IP "\fB\-c\fR \s-1URI\s0" 4
.IX Item "-c URI"
.PD 0
.IP "\fB\-\-connect\fR \s-1URI\s0" 4
.IX Item "--connect URI"
.PD
libvirt を使用していると、指定された \fI\s-1URI\s0\fR に接続します。  省略すると、デフォルトの libvirt ハイパーバイザーに接続します。
.Sp
ゲストのブロックデバイスを直接指定していると（(\fI\-a\fR)）、libvirt は何も使用されません。
.IP "\fB\-\-csv\fR" 4
.IX Item "--csv"
Write out the results in \s-1CSV\s0 format (comma-separated values).  This format
can be imported easily into databases and spreadsheets, but read \*(L"\s-1NOTE
ABOUT CSV FORMAT\*(R"\s0 below.
.IP "\fB\-d\fR guest" 4
.IX Item "-d guest"
.PD 0
.IP "\fB\-\-domain\fR guest" 4
.IX Item "--domain guest"
.PD
名前付きの libvirt 仮想マシンからすべてのディスクを追加します。  名前の代わりに仮想マシンの \s-1UUID\s0 を使用できます。
.IP "\fB\-\-format=raw|qcow2|..\fR" 4
.IX Item "--format=raw|qcow2|.."
.PD 0
.IP "\fB\-\-format\fR" 4
.IX Item "--format"
.PD
\&\fI\-a\fR オプションは標準状態でディスクイメージの形式を自動検知します。 これを使用することにより、コマンドラインで後続の \fI\-a\fR
オプションのディスク形式を強制的に指定できます。 引数なしで \fI\-\-format\fR を使用することにより、 後続の \fI\-a\fR
オプションに対して自動検知に戻せます。
.Sp
例:
.Sp
.Vb 1
\& virt\-df \-\-format=raw \-a disk.img
.Ve
.Sp
強制的に \f(CW\*(C`disk.img\*(C'\fR を raw 形式にします (自動検出しません)。
.Sp
.Vb 1
\& virt\-df \-\-format=raw \-a disk.img \-\-format \-a another.img
.Ve
.Sp
強制的に \f(CW\*(C`disk.img\*(C'\fR を raw 形式にし (自動検知なし)、 \f(CW\*(C`another.img\*(C'\fR に対して自動検知に戻します。
.Sp
仮想マシンのディスクイメージが信頼できない raw 形式である場合、 ディスク形式を指定するためにこのオプションを使用すべきです。
これにより、悪意のある仮想マシンにより起こり得る セキュリティ問題を回避できます (\s-1CVE\-2010\-3851\s0)。
.IP "\fB\-h\fR" 4
.IX Item "-h"
.PD 0
.IP "\fB\-\-human\-readable\fR" 4
.IX Item "--human-readable"
.PD
読みやすい形式で容量を表示します。
.Sp
\&\fI\-h\fR と \fI\-\-csv\fR を同時に使用することはできません。
.IP "\fB\-i\fR" 4
.IX Item "-i"
.PD 0
.IP "\fB\-\-inodes\fR" 4
.IX Item "--inodes"
.PD
ブロックの代わりに inode を表示します。
.IP "\fB\-\-one\-per\-guest\fR" 4
.IX Item "--one-per-guest"
Since libguestfs 1.22, this is the default.  This option does nothing and is
left here for backwards compatibility with older scripts.
.IP "\fB\-P\fR nr_threads" 4
.IX Item "-P nr_threads"
Since libguestfs 1.22, virt-df is multithreaded and examines guests in
parallel.  By default the number of threads to use is chosen based on the
amount of free memory available at the time that virt-df is started.  You
can force virt-df to use at most \f(CW\*(C`nr_threads\*(C'\fR by using the \fI\-P\fR option.
.Sp
Note that \fI\-P 0\fR means to autodetect, and \fI\-P 1\fR means to use a single
thread.
.IP "\fB\-\-uuid\fR" 4
.IX Item "--uuid"
名前の代わりに \s-1UUID\s0 を表示します。仮想マシンがマイグレーションまたは名前変更されたとき、または偶然 2
つの仮想マシンが同じ名前を持つとき、仮想マシンに使用させるために有用です。
.Sp
Note that only domains that we fetch from libvirt come with UUIDs.  For disk
images, we still print the disk image name even when this option is
specified.
.IP "\fB\-v\fR" 4
.IX Item "-v"
.PD 0
.IP "\fB\-\-verbose\fR" 4
.IX Item "--verbose"
.PD
デバッグ用の冗長なメッセージを有効にします。
.IP "\fB\-V\fR" 4
.IX Item "-V"
.PD 0
.IP "\fB\-\-version\fR" 4
.IX Item "--version"
.PD
バージョン番号を表示して、終了します。
.IP "\fB\-x\fR" 4
.IX Item "-x"
libguestfs \s-1API\s0 呼び出しのトレースを有効にします。
.SH "STATVFS NUMBERS"
.IX Header "STATVFS NUMBERS"
\&\f(CW\*(C`virt\-df\*(C'\fR (and \fIdf\fR\|(1)) get information by issuing a \fIstatvfs\fR\|(3) system
call.  You can get the same information directly, either from the host
(using libguestfs) or inside the guest:
.IP "ホストから" 4
.IX Item "ホストから"
このコマンドを実行してください:
.Sp
.Vb 1
\& guestfish \-\-ro \-d GuestName \-i statvfs /
.Ve
.Sp
(他のファイルシステムの統計情報を参照するには \f(CW\*(C`/\*(C'\fR に変更します)。
.IP "仮想マシンの中から" 4
.IX Item "仮想マシンの中から"
このコマンドを実行してください:
.Sp
.Vb 1
\& python \-c \*(Aqimport os; s = os.statvfs ("/"); print s\*(Aq
.Ve
.Sp
(他のファイルシステムの統計情報を参照するには \f(CW\*(C`/\*(C'\fR に変更します)。
.SH "CSV 形式に関する注意"
.IX Header "CSV 形式に関する注意"
Comma-separated values (\s-1CSV\s0) is a deceptive format.  It \fIseems\fR like it
should be easy to parse, but it is definitely not easy to parse.
.PP
神話: ただコンマで項目を区切る。 真実: これは正しく動き \fIません\fR。この例は 2 つの列があります:
.PP
.Vb 1
\& "foo,bar",baz
.Ve
.PP
神話: 同時にファイルの 1 行を読み込みます。 真実: これは正しく動き \fIません\fR。この例は 1 つの行があります:
.PP
.Vb 2
\& "foo
\& bar",baz
.Ve
.PP
For shell scripts, use \f(CW\*(C`csvtool\*(C'\fR (http://merjis.com/developers/csv also
packaged in major Linux distributions).
.PP
For other languages, use a \s-1CSV\s0 processing library (eg. \f(CW\*(C`Text::CSV\*(C'\fR for Perl
or Python's built-in csv library).
.PP
Most spreadsheets and databases can import \s-1CSV\s0 directly.
.SH "終了ステータス"
.IX Header "終了ステータス"
このプログラムは、成功すると 0 を、エラーがあると 0 以外を返します。
.SH "関連項目"
.IX Header "関連項目"
\&\fIdf\fR\|(1), \fIguestfs\fR\|(3), \fIguestfish\fR\|(1), \fIvirt\-filesystems\fR\|(1),
http://libguestfs.org/.
.SH "著者"
.IX Header "著者"
Richard W.M. Jones http://people.redhat.com/~rjones/
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
Copyright (C) 2009\-2014 Red Hat Inc.
.SH "LICENSE"
.IX Header "LICENSE"
.SH "BUGS"
.IX Header "BUGS"
To get a list of bugs against libguestfs, use this link:
https://bugzilla.redhat.com/buglist.cgi?component=libguestfs&product=Virtualization+Tools
.PP
To report a new bug against libguestfs, use this link:
https://bugzilla.redhat.com/enter_bug.cgi?component=libguestfs&product=Virtualization+Tools
.PP
When reporting a bug, please supply:
.IP "\(bu" 4
The version of libguestfs.
.IP "\(bu" 4
Where you got libguestfs (eg. which Linux distro, compiled from source, etc)
.IP "\(bu" 4
Describe the bug accurately and give a way to reproduce it.
.IP "\(bu" 4
Run \fIlibguestfs\-test\-tool\fR\|(1) and paste the \fBcomplete, unedited\fR
output into the bug report.
