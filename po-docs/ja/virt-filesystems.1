.\" Automatically generated by Podwrapper::Man 1.36.5 (Pod::Simple 3.35)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.if !\nF .nr F 0
.if \nF>0 \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    if !\nF==2 \{\
.        nr % 0
.        nr F 2
.    \}
.\}
.\" ========================================================================
.\"
.IX Title "virt-filesystems 1"
.TH virt-filesystems 1 "2017-06-22" "libguestfs-1.36.5" "Virtualization Support"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "名前"
.IX Header "名前"
virt-filesystems \- 仮想マシンまたはディスクイメージにあるファイルシステム、パーティション、ブロックデバイスおよび \s-1LVM\s0 の一覧表示
.SH "書式"
.IX Header "書式"
.Vb 1
\& virt\-filesystems [\-\-options] \-d domname
\&
\& virt\-filesystems [\-\-options] \-a disk.img [\-a disk.img ...]
.Ve
.SH "説明"
.IX Header "説明"
This tool allows you to discover filesystems, partitions, logical volumes,
and their sizes in a disk image or virtual machine.  It is a replacement for
\&\fIvirt\-list\-filesystems\fR\|(1) and \fIvirt\-list\-partitions\fR\|(1).
.PP
One use for this tool is from shell scripts to iterate over all filesystems
from a disk image:
.PP
.Vb 3
\& for fs in $(virt\-filesystems \-a disk.img); do
\&   # ...
\& done
.Ve
.PP
他の使用方法は、これらのパーティションを変更するために (\fIvirt\-resize\fR\|(1) のような)
他のツールを使用する前に、パーティションを一覧表示することです。未知のディスクイメージが含んでいるものについてわからなければ、\fIvirt\-inspector\fR\|(1)
とともにこのツールを使用します。
.PP
さまざまなコマンドラインオプションがこのプログラムが表示するものを制御します。それぞれディスクイメージまたは libvirt 仮想マシンを指定するには
\&\fI\-a\fR または \fI\-d\fR オプションを与える必要があります。単にそれを指定すると、見つけたファイルシステムを 1 行ごとに 1
つずつこのように表示します:
.PP
.Vb 3
\& $ virt\-filesystems \-a disk.img
\& /dev/sda1
\& /dev/vg_guest/lv_root
.Ve
.PP
\&\fI\-l\fR または \fI\-\-long\fR を追加すると、追加の情報が出力に含まれます:
.PP
.Vb 4
\& $ virt\-filesystems \-a disk.img \-l
\& 名前                   種類         VFS   ラベル 容量
\& /dev/sda1              filesystem   ext4  boot   524288000
\& /dev/vg_guest/lv_root  filesystem   ext4  root   10212081664
.Ve
.PP
\&\fI\-\-extra\fR を追加すると、マウント不可能な（swap や未知の）ファイルシステムも同様に表示されます:
.PP
.Vb 5
\& $ virt\-filesystems \-a disk.img \-\-extra
\& /dev/sda1
\& /dev/vg_guest/lv_root
\& /dev/vg_guest/lv_swap
\& /dev/vg_guest/lv_data
.Ve
.PP
\&\fI\-\-partitions\fR を追加すると、ファイルシステムの代わりにパーティションが表示されます:
.PP
.Vb 3
\& $ virt\-filesystems \-a disk.img \-\-partitions
\& /dev/sda1
\& /dev/sda2
.Ve
.PP
同様に、それらの項目を一覧表示するには \fI\-\-logical\-volumes\fR, \fI\-\-volume\-groups\fR,
\&\fI\-\-physical\-volumes\fR, \fI\-\-block\-devices\fR を使用できます。
.PP
You can use these options in combination as well (if you want a combination
including filesystems, you have to add \fI\-\-filesystems\fR).  Notice that some
items fall into several categories (eg. \fI/dev/sda1\fR might be both a
partition and a filesystem).  These items are listed several times.  To get
a list which includes absolutely everything that virt-filesystems knows
about, use the \fI\-\-all\fR option.
.PP
UUIDs (because they are quite long) are not shown by default.  Add the
\&\fI\-\-uuid\fR option to display device and filesystem UUIDs in the long output.
.PP
\&\fI\-\-all \-\-long \-\-uuid\fR is a useful combination to display all possible
information about everything.
.PP
.Vb 7
\& $ virt\-filesystems \-a win.img \-\-all \-\-long \-\-uuid \-h
\& Name      Type       VFS  Label           Size Parent   UUID
\& /dev/sda1 filesystem ntfs System Reserved 100M \-        F81C92571C92112C
\& /dev/sda2 filesystem ntfs \-               20G  \-        F2E8996AE8992E3B
\& /dev/sda1 partition  \-    \-               100M /dev/sda \-
\& /dev/sda2 partition  \-    \-               20G  /dev/sda \-
\& /dev/sda  device     \-    \-               20G  \-        \-
.Ve
.PP
マシン読み込み可能な出力のために、カンマ区切り値を取得するために \fI\-\-csv\fR を使用します。
.SH "オプション"
.IX Header "オプション"
.IP "\fB\-\-help\fR" 4
.IX Item "--help"
簡単なヘルプを表示します。
.IP "\fB\-a\fR file" 4
.IX Item "-a file"
.PD 0
.IP "\fB\-\-add\fR file" 4
.IX Item "--add file"
.PD
Add \fIfile\fR which should be a disk image from a virtual machine.  If the
virtual machine has multiple block devices, you must supply all of them with
separate \fI\-a\fR options.
.Sp
ディスクイメージの形式は自動検知されます。 これを上書きして強制的に特定の形式を使用する場合、 \fI\-\-format=..\fR オプションを使用します。
.IP "\fB\-a \s-1URI\s0\fR" 4
.IX Item "-a URI"
.PD 0
.IP "\fB\-\-add \s-1URI\s0\fR" 4
.IX Item "--add URI"
.PD
リモートディスクを追加します。 \*(L"リモートストレージの追加\*(R" in \fIguestfish\fR\|(1) 参照。
.IP "\fB\-\-all\fR" 4
.IX Item "--all"
すべてを表示します。これは現在これらのオプションを指定するのと同じです: \fI\-\-filesystems\fR, \fI\-\-extra\fR,
\&\fI\-\-partitions\fR, \fI\-\-block\-devices\fR, \fI\-\-logical\-volumes\fR,
\&\fI\-\-volume\-groups\fR, \fI\-\-physical\-volumes\fR。（将来この一覧にさらに追加されるかもしれません。）
.Sp
\&\fI\-\-long\fR 参照。
.IP "\fB\-\-blkdevs\fR" 4
.IX Item "--blkdevs"
.PD 0
.IP "\fB\-\-block\-devices\fR" 4
.IX Item "--block-devices"
.PD
ブロックデバイスを表示します。
.IP "\fB\-c\fR \s-1URI\s0" 4
.IX Item "-c URI"
.PD 0
.IP "\fB\-\-connect\fR \s-1URI\s0" 4
.IX Item "--connect URI"
.PD
libvirt を使用していると、指定された \fI\s-1URI\s0\fR に接続します。  省略すると、デフォルトの libvirt ハイパーバイザーに接続します。
.Sp
ゲストのブロックデバイスを直接指定していると（(\fI\-a\fR)）、libvirt は何も使用されません。
.IP "\fB\-\-csv\fR" 4
.IX Item "--csv"
Write out the results in \s-1CSV\s0 format (comma-separated values).  This format
can be imported easily into databases and spreadsheets, but read \*(L"\s-1NOTE
ABOUT CSV FORMAT\*(R"\s0 below.
.IP "\fB\-d\fR guest" 4
.IX Item "-d guest"
.PD 0
.IP "\fB\-\-domain\fR guest" 4
.IX Item "--domain guest"
.PD
名前付きの libvirt 仮想マシンからすべてのディスクを追加します。  名前の代わりに仮想マシンの \s-1UUID\s0 を使用できます。
.IP "\fB\-\-echo\-keys\fR" 4
.IX Item "--echo-keys"
キーやパスフレーズを入力するとき、通常 virt-filesystems はエコーを無効化します。 そのため、入力内容を確認できません。
テンペスト攻撃の心配がなく、 部屋に誰も居なければ、 入力内容を確認するためにこのフラグを指定できます。
.IP "\fB\-\-extra\fR" 4
.IX Item "--extra"
This causes filesystems that are not ordinary, mountable filesystems to be
displayed.  This category includes swapspace, and filesystems that are empty
or contain unknown data.
.Sp
このオプションは \fI\-\-filesystems\fR を意味します。
.IP "\fB\-\-filesystems\fR" 4
.IX Item "--filesystems"
マウント可能なファイルシステムを表示します。表示オプションが選択されていなければ、このオプションが暗に指定されます。
.Sp
\&\fI\-\-extra\fR を用いると、マウントできないファイルシステムも表示されます。
.IP "\fB\-\-format=raw|qcow2|..\fR" 4
.IX Item "--format=raw|qcow2|.."
.PD 0
.IP "\fB\-\-format\fR" 4
.IX Item "--format"
.PD
\&\fI\-a\fR オプションは標準状態でディスクイメージの形式を自動検知します。 これを使用することにより、コマンドラインで後続の \fI\-a\fR
オプションのディスク形式を強制的に指定できます。 引数なしで \fI\-\-format\fR を使用することにより、 後続の \fI\-a\fR
オプションに対して自動検知に戻せます。
.Sp
例:
.Sp
.Vb 1
\& virt\-filesystems \-\-format=raw \-a disk.img
.Ve
.Sp
forces raw format (no auto-detection) for \fIdisk.img\fR.
.Sp
.Vb 1
\& virt\-filesystems \-\-format=raw \-a disk.img \-\-format \-a another.img
.Ve
.Sp
forces raw format (no auto-detection) for \fIdisk.img\fR and reverts to
auto-detection for \fIanother.img\fR.
.Sp
仮想マシンのディスクイメージが信頼できない raw 形式である場合、 ディスク形式を指定するためにこのオプションを使用すべきです。
これにより、悪意のある仮想マシンにより起こり得る セキュリティ問題を回避できます (\s-1CVE\-2010\-3851\s0)。
.IP "\fB\-h\fR" 4
.IX Item "-h"
.PD 0
.IP "\fB\-\-human\-readable\fR" 4
.IX Item "--human-readable"
.PD
\&\fI\-\-long\fR モードでは、読みやすい形式で容量を表示します。
.IP "\fB\-\-keys\-from\-stdin\fR" 4
.IX Item "--keys-from-stdin"
Read key or passphrase parameters from stdin.  The default is to try to read
passphrases from the user by opening \fI/dev/tty\fR.
.IP "\fB\-l\fR" 4
.IX Item "-l"
.PD 0
.IP "\fB\-\-long\fR" 4
.IX Item "--long"
.PD
Display extra columns of data (\*(L"long format\*(R").
.Sp
A title row is added unless you also specify \fI\-\-no\-title\fR.
.Sp
The extra columns displayed depend on what output you select, and the
ordering of columns may change in future versions.  Use the title row,
\&\fI\-\-csv\fR output and/or \fIcsvtool\fR\|(1) to match columns to data in external
programs.
.Sp
Use \fI\-h\fR if you want sizes to be displayed in human-readable format.  The
default is to show raw numbers of \fIbytes\fR.
.Sp
\&\s-1UUID\s0 も表示するには \fI\-\-uuid\fR を使用します。
.IP "\fB\-\-lvs\fR" 4
.IX Item "--lvs"
.PD 0
.IP "\fB\-\-logvols\fR" 4
.IX Item "--logvols"
.IP "\fB\-\-logical\-volumes\fR" 4
.IX Item "--logical-volumes"
.PD
\&\s-1LVM\s0 論理ボリュームを表示します。  このモードでは、論理ボリュームが含むファイルシステムにかかわりなく表示します。
.IP "\fB\-\-no\-title\fR" 4
.IX Item "--no-title"
\&\fI\-\-long\fR モードでは、見出し行を追加しません。
.Sp
Note that the order of the columns is not fixed, and may change in future
versions of virt-filesystems, so using this option may give you unexpected
surprises.
.IP "\fB\-\-parts\fR" 4
.IX Item "--parts"
.PD 0
.IP "\fB\-\-partitions\fR" 4
.IX Item "--partitions"
.PD
パーティションを表示します。  このモードでは、パーティションが含むファイルシステムにかかわりなく表示します。
.IP "\fB\-\-pvs\fR" 4
.IX Item "--pvs"
.PD 0
.IP "\fB\-\-physvols\fR" 4
.IX Item "--physvols"
.IP "\fB\-\-physical\-volumes\fR" 4
.IX Item "--physical-volumes"
.PD
\&\s-1LVM\s0 物理ボリュームを表示します。
.IP "\fB\-\-uuid\fR" 4
.IX Item "--uuid"
.PD 0
.IP "\fB\-\-uuids\fR" 4
.IX Item "--uuids"
.PD
\&\fI\-\-long\fR モードでは \s-1UUID\s0 も表示されます。
.IP "\fB\-v\fR" 4
.IX Item "-v"
.PD 0
.IP "\fB\-\-verbose\fR" 4
.IX Item "--verbose"
.PD
デバッグ用の冗長なメッセージを有効にします。
.IP "\fB\-V\fR" 4
.IX Item "-V"
.PD 0
.IP "\fB\-\-version\fR" 4
.IX Item "--version"
.PD
バージョン番号を表示して、終了します。
.IP "\fB\-\-vgs\fR" 4
.IX Item "--vgs"
.PD 0
.IP "\fB\-\-volgroups\fR" 4
.IX Item "--volgroups"
.IP "\fB\-\-volume\-groups\fR" 4
.IX Item "--volume-groups"
.PD
\&\s-1LVM\s0 ボリュームグループを表示します。
.IP "\fB\-x\fR" 4
.IX Item "-x"
libguestfs \s-1API\s0 呼び出しのトレースを有効にします。
.SH "列"
.IX Header "列"
出力にある列はこのツールの将来のバージョンにおいて並び替えられる場合や変更される場合があることに注意してください。
.IP "\fB名前\fR" 4
.IX Item "名前"
ファイルシステム、パーティション、ブロックデバイスまたは \s-1LVM\s0 の名前。
.Sp
For device and partition names these are displayed as canonical libguestfs
names, so that for example \fI/dev/sda2\fR is the second partition on the first
device.
.Sp
\&\fI\-\-long\fR オプションが指定されて\fBいない\fRと、名前の列のみが出力に表示されます。
.IP "\fB種類\fR" 4
.IX Item "種類"
対象の形式。たとえば、\f(CW\*(C`filesystem\*(C'\fR, \f(CW\*(C`lv\*(C'\fR, \f(CW\*(C`device\*(C'\fR など。
.IP "\fB\s-1VFS\s0\fR" 4
.IX Item "VFS"
ファイルシステムがあれば、この列は最初に検知されたファイルシステムの形式を表示します。例: \f(CW\*(C`ext4\*(C'\fR。
.IP "\fBラベル\fR" 4
.IX Item "ラベル"
（ファイルシステムの識別とマウントのために使用される）ラベルがオブジェクトにあれば、この列はラベルを含みます。
.IP "\fB\s-1MBR\s0\fR" 4
.IX Item "MBR"
パーティション形式のバイト、2 桁の 16 進数として表示されます。パーティション形式の完全な一覧は次のところにあります:
http://www.win.tue.nl/~aeb/partitions/partition_types\-1.html
.Sp
これは \s-1DOS\s0 (\s-1MBR\s0) パーティションに対してのみ適用できます。
.IP "\fB容量\fR" 4
.IX Item "容量"
オブジェクトのバイト単位の容量。\fI\-\-human\fR オプションが使用されていると、容量が人間可読な形式で表示されます。
.IP "\fB親\fR" 4
.IX Item "親"
親カラムはオブジェクト間の親子関係を記録します。
.Sp
たとえば、オブジェクトがパーティションならば、このカラムは含んでいるデバイスの名前が含まれます。オブジェクトが論理ボリュームならば、このカラムはボリュームグループの名前です。
.Sp
複数の親があると、この列は (内部に列を持つ) カンマ区切りの一覧になります。例: \f(CW\*(C`/dev/sda,/dev/sdb\*(C'\fR。
.IP "\fB\s-1UUID\s0\fR" 4
.IX Item "UUID"
If the object has a \s-1UUID\s0 (used for identifying and mounting filesystems and
block devices) then this column contains the \s-1UUID\s0 as a string.
.Sp
\&\fI\-\-uuid\fR オプションが指定されると、 \s-1UUID\s0 のみが表示されます。
.SH "CSV 形式に関する注意"
.IX Header "CSV 形式に関する注意"
Comma-separated values (\s-1CSV\s0) is a deceptive format.  It \fIseems\fR like it
should be easy to parse, but it is definitely not easy to parse.
.PP
神話: ただコンマで項目を区切る。 真実: これは正しく動き \fIません\fR。この例は 2 つの列があります:
.PP
.Vb 1
\& "foo,bar",baz
.Ve
.PP
神話: 同時にファイルの 1 行を読み込みます。 真実: これは正しく動き \fIません\fR。この例は 1 つの行があります:
.PP
.Vb 2
\& "foo
\& bar",baz
.Ve
.PP
For shell scripts, use \f(CW\*(C`csvtool\*(C'\fR (https://github.com/Chris00/ocaml\-csv
also packaged in major Linux distributions).
.PP
For other languages, use a \s-1CSV\s0 processing library (eg. \f(CW\*(C`Text::CSV\*(C'\fR for Perl
or Python's built-in csv library).
.PP
Most spreadsheets and databases can import \s-1CSV\s0 directly.
.SH "終了ステータス"
.IX Header "終了ステータス"
このプログラムは、成功すると 0 を、エラーがあると 0 以外を返します。
.SH "関連項目"
.IX Header "関連項目"
\&\fIguestfs\fR\|(3), \fIguestfish\fR\|(1), \fIvirt\-cat\fR\|(1), \fIvirt\-df\fR\|(1),
\&\fIvirt\-list\-filesystems\fR\|(1), \fIvirt\-list\-partitions\fR\|(1), \fIcsvtool\fR\|(1),
http://libguestfs.org/.
.SH "著者"
.IX Header "著者"
Richard W.M. Jones http://people.redhat.com/~rjones/
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
Copyright (C) 2010\-2012 Red Hat Inc.
.SH "LICENSE"
.IX Header "LICENSE"
.SH "BUGS"
.IX Header "BUGS"
To get a list of bugs against libguestfs, use this link:
https://bugzilla.redhat.com/buglist.cgi?component=libguestfs&product=Virtualization+Tools
.PP
To report a new bug against libguestfs, use this link:
https://bugzilla.redhat.com/enter_bug.cgi?component=libguestfs&product=Virtualization+Tools
.PP
When reporting a bug, please supply:
.IP "\(bu" 4
The version of libguestfs.
.IP "\(bu" 4
Where you got libguestfs (eg. which Linux distro, compiled from source, etc)
.IP "\(bu" 4
Describe the bug accurately and give a way to reproduce it.
.IP "\(bu" 4
Run \fIlibguestfs\-test\-tool\fR\|(1) and paste the \fBcomplete, unedited\fR
output into the bug report.
