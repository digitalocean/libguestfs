=encoding utf8

=head2 add-cdrom

 add-cdrom filename

この関数は仮想 CD-ROM ディスクイメージを仮想マシンに追加します。

これは QEMU パラメーター I<-cdrom filename> と同等です。

注:

=over 4

=item *

This call checks for the existence of C<filename>.  This stops you from
specifying other types of drive which are supported by qemu such as C<nbd:>
and C<http:> URLs.  To specify those, use the general L</config> call
instead.

=item *

If you just want to add an ISO file (often you use this as an efficient way
to transfer large files into the guest), then you should probably use
L</add-drive-ro> instead.

=back

I<This function is deprecated.> In new code, use the L</add_drive_opts> call
instead.

Deprecated functions will not be removed from the API, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.

=head2 add-domain

=head2 domain

 add-domain dom [libvirturi:..] [readonly:true|false] [iface:..] [live:true|false] [allowuuid:true|false] [readonlydisk:..]

This function adds the disk(s) attached to the named libvirt domain C<dom>.
It works by connecting to libvirt, requesting the domain and domain XML from
libvirt, parsing it for disks, and calling L</add-drive-opts> on each one.

The number of disks added is returned.  This operation is atomic: if an
error is returned, then no disks are added.

This function does some minimal checks to make sure the libvirt domain is
not running (unless C<readonly> is true).  In a future version we will try
to acquire the libvirt lock on each disk.

Disks must be accessible locally.  This often means that adding disks from a
remote libvirt connection (see L<http://libvirt.org/remote.html>)  will fail
unless those disks are accessible via the same device path locally too.

The optional C<libvirturi> parameter sets the libvirt URI (see
L<http://libvirt.org/uri.html>).  If this is not set then we connect to the
default libvirt URI (or one set through an environment variable, see the
libvirt documentation for full details).

The optional C<live> flag controls whether this call will try to connect to
a running virtual machine C<guestfsd> process if it sees a suitable
E<lt>channelE<gt> element in the libvirt XML definition.  The default (if
the flag is omitted) is never to try.  See L<guestfs(3)/ATTACHING TO RUNNING
DAEMONS> for more information.

If the C<allowuuid> flag is true (default is false) then a UUID I<may> be
passed instead of the domain name.  The C<dom> string is treated as a UUID
first and looked up, and if that lookup fails then we treat C<dom> as a name
as usual.

The optional C<readonlydisk> parameter controls what we do for disks which
are marked E<lt>readonly/E<gt> in the libvirt XML.  Possible values are:

=over 4

=item readonlydisk = "error"

C<readonly> が偽ならば:

The whole call is aborted with an error if any disk with the
E<lt>readonly/E<gt> flag is found.

C<readonly> が真ならば:

Disks with the E<lt>readonly/E<gt> flag are added read-only.

=item readonlydisk = "read"

C<readonly> が偽ならば:

Disks with the E<lt>readonly/E<gt> flag are added read-only.  Other disks
are added read/write.

C<readonly> が真ならば:

Disks with the E<lt>readonly/E<gt> flag are added read-only.

=item readonlydisk = "write" (デフォルト)

C<readonly> が偽ならば:

Disks with the E<lt>readonly/E<gt> flag are added read/write.

C<readonly> が真ならば:

Disks with the E<lt>readonly/E<gt> flag are added read-only.

=item readonlydisk = "ignore"

C<readonly> が真または偽ならば:

E<lt>readonly/E<gt> フラグのあるディスクはスキップされます

=back

The other optional parameters are passed directly through to
L</add-drive-opts>.

This command has one or more optional arguments.  See L</OPTIONAL
ARGUMENTS>.

=head2 add-drive

 add-drive filename

This function is the equivalent of calling L</add-drive-opts> with no
optional parameters, so the disk is added writable, with the format being
detected automatically.

Automatic detection of the format opens you up to a potential security hole
when dealing with untrusted raw-format images.  See CVE-2010-3851 and
RHBZ#642934.  Specifying the format closes this security hole.  Therefore
you should think about replacing calls to this function with calls to
L</add-drive-opts>, and specifying the format.

=head2 add-drive-opts

=head2 add

 add-drive-opts filename [readonly:true|false] [format:..] [iface:..] [name:..]

This function adds a virtual machine disk image C<filename> to libguestfs.
The first time you call this function, the disk appears as C</dev/sda>, the
second time as C</dev/sdb>, and so on.

You don't necessarily need to be root when using libguestfs.  However you
obviously do need sufficient permissions to access the filename for whatever
operations you want to perform (ie. read access if you just want to read the
image or write access if you want to modify the image).

この呼び出しは C<filename> が存在するかを確認します。

C<filename> may be the special string C<"/dev/null">.  See L<guestfs(3)/NULL
DISKS>.

オプション引数は次のとおりです:

=over 4

=item C<readonly>

If true then the image is treated as read-only.  Writes are still allowed,
but they are stored in a temporary snapshot overlay which is discarded at
the end.  The disk that you add is not modified.

=item C<format>

This forces the image format.  If you omit this (or use L</add-drive> or
L</add-drive-ro>) then the format is automatically detected.  Possible
formats include C<raw> and C<qcow2>.

Automatic detection of the format opens you up to a potential security hole
when dealing with untrusted raw-format images.  See CVE-2010-3851 and
RHBZ#642934.  Specifying the format closes this security hole.

=item C<iface>

This rarely-used option lets you emulate the behaviour of the deprecated
L</add-drive-with-if> call (q.v.)

=item C<name>

The name the drive had in the original guest, e.g. /dev/sdb. This is used as
a hint to the guest inspection process if it is available.

=back

This command has one or more optional arguments.  See L</OPTIONAL
ARGUMENTS>.

=head2 add-drive-ro

=head2 add-ro

 add-drive-ro filename

This function is the equivalent of calling L</add-drive-opts> with the
optional parameter C<GUESTFS_ADD_DRIVE_OPTS_READONLY> set to 1, so the disk
is added read-only, with the format being detected automatically.

=head2 add-drive-ro-with-if

 add-drive-ro-with-if filename iface

This is the same as L</add-drive-ro> but it allows you to specify the QEMU
interface emulation to use at run time.

I<This function is deprecated.> In new code, use the L</add_drive_opts> call
instead.

Deprecated functions will not be removed from the API, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.

=head2 add-drive-with-if

 add-drive-with-if filename iface

This is the same as L</add-drive> but it allows you to specify the QEMU
interface emulation to use at run time.

I<This function is deprecated.> In new code, use the L</add_drive_opts> call
instead.

Deprecated functions will not be removed from the API, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.

=head2 aug-clear

 aug-clear augpath

Set the value associated with C<path> to C<NULL>.  This is the same as the
L<augtool(1)> C<clear> command.

=head2 aug-close

 aug-close

Close the current Augeas handle and free up any resources used by it.  After
calling this, you have to call L</aug-init> again before you can use any
other Augeas functions.

=head2 aug-defnode

 aug-defnode name expr val

Defines a variable C<name> whose value is the result of evaluating C<expr>.

If C<expr> evaluates to an empty nodeset, a node is created, equivalent to
calling L</aug-set> C<expr>, C<value>.  C<name> will be the nodeset
containing that single node.

On success this returns a pair containing the number of nodes in the
nodeset, and a boolean flag if a node was created.

=head2 aug-defvar

 aug-defvar name expr

C<expr> を評価した結果の値である Augeas 変数 C<name> を定義します。 C<expr> が NULL ならば、 C<name>
が定義されません。

On success this returns the number of nodes in C<expr>, or C<0> if C<expr>
evaluates to something which is not a nodeset.

=head2 aug-get

 aug-get augpath

Look up the value associated with C<path>.  If C<path> matches exactly one
node, the C<value> is returned.

=head2 aug-init

 aug-init root flags

Create a new Augeas handle for editing configuration files.  If there was
any previous Augeas handle associated with this guestfs session, then it is
closed.

You must call this before using any other L</aug-*> commands.

C<root> はファイルシステムのルートです。 C<root> は NULL にできません、代わりに C</> を使用します。

The flags are the same as the flags defined in E<lt>augeas.hE<gt>, the
logical I<or> of the following integers:

=over 4

=item C<AUG_SAVE_BACKUP> = 1

C<.augsave> 拡張子を付けて元のファイルを保持します。

=item C<AUG_SAVE_NEWFILE> = 2

拡張子 C<.augnew> を付けたファイルに変更点を保存し、元を上書きしません。C<AUG_SAVE_BACKUP> を上書きします。

=item C<AUG_TYPE_CHECK> = 4

Typecheck lenses.

This option is only useful when debugging Augeas lenses.  Use of this option
may require additional memory for the libguestfs appliance.  You may need to
set the C<LIBGUESTFS_MEMSIZE> environment variable or call L</set-memsize>.

=item C<AUG_NO_STDINC> = 8

モジュールの標準的な読み込みパスを使用しません。

=item C<AUG_SAVE_NOOP> = 16

Make save a no-op, just record what would have been changed.

=item C<AUG_NO_LOAD> = 32

Do not load the tree in L</aug-init>.

=back

To close the handle, you can call L</aug-close>.

Augeas に関する詳細は L<http://augeas.net/> を参照してください。

=head2 aug-insert

 aug-insert augpath label true|false

Create a new sibling C<label> for C<path>, inserting it into the tree before
or after C<path> (depending on the boolean flag C<before>).

C<path> must match exactly one existing node in the tree, and C<label> must
be a label, ie. not contain C</>, C<*> or end with a bracketed index C<[N]>.

=head2 aug-load

 aug-load

ファイルをツリーの中に読み込みます

See C<aug_load> in the Augeas documentation for the full gory details.

=head2 aug-ls

 aug-ls augpath

This is just a shortcut for listing L</aug-match> C<path/*> and sorting the
resulting nodes into alphabetical order.

=head2 aug-match

 aug-match augpath

Returns a list of paths which match the path expression C<path>.  The
returned paths are sufficiently qualified so that they match exactly one
node in the current tree.

=head2 aug-mv

 aug-mv src dest

ノード C<src> を C<dest> に移動します。 C<src> はただ一つのノードである必要があります。 C<dest>
は存在すると上書きされます。

=head2 aug-rm

 aug-rm augpath

C<path> とすべての子を削除します。

成功すると、これは削除された項目の数が返します。

=head2 aug-save

 aug-save

これにより、すべての保留の変更がディスクに書き込まれます。

The flags which were passed to L</aug-init> affect exactly how files are
saved.

=head2 aug-set

 aug-set augpath val

Set the value associated with C<path> to C<val>.

In the Augeas API, it is possible to clear a node by setting the value to
NULL.  Due to an oversight in the libguestfs API you cannot do that with
this call.  Instead you must use the L</aug-clear> call.

=head2 available

 available 'groups ...'

This command is used to check the availability of some groups of
functionality in the appliance, which not all builds of the libguestfs
appliance will be able to provide.

The libguestfs groups, and the functions that those groups correspond to,
are listed in L<guestfs(3)/AVAILABILITY>.  You can also fetch this list at
runtime by calling L</available-all-groups>.

The argument C<groups> is a list of group names, eg: C<["inotify",
"augeas"]> would check for the availability of the Linux inotify functions
and Augeas (configuration file editing) functions.

The command returns no error if I<all> requested groups are available.

It fails with an error if one or more of the requested groups is unavailable
in the appliance.

If an unknown group name is included in the list of groups then an error is
always returned.

I<注記:>

=over 4

=item *

You must call L</launch> before calling this function.

The reason is because we don't know what groups are supported by the
appliance/daemon until it is running and can be queried.

=item *

If a group of functions is available, this does not necessarily mean that
they will work.  You still have to check for errors when calling individual
API functions even if they are available.

=item *

It is usually the job of distro packagers to build complete functionality
into the libguestfs appliance.  Upstream libguestfs, if built from source
with all requirements satisfied, will support everything.

=item *

This call was added in version C<1.0.80>.  In previous versions of
libguestfs all you could do would be to speculatively execute a command to
find out if the daemon implemented it.  See also L</version>.

=back

=head2 available-all-groups

 available-all-groups

This command returns a list of all optional groups that this daemon knows
about.  Note this returns both supported and unsupported groups.  To find
out which ones the daemon can actually support you have to call
L</available> on each member of the returned list.

L</available> および L<guestfs(3)/AVAILABILITY> 参照。

=head2 base64-in

 base64-in (base64file|-) filename

This command uploads base64-encoded data from C<base64file> to C<filename>.

Use C<-> instead of a filename to read/write from stdin/stdout.

=head2 base64-out

 base64-out filename (base64file|-)

This command downloads the contents of C<filename>, writing it out to local
file C<base64file> encoded as base64.

Use C<-> instead of a filename to read/write from stdin/stdout.

=head2 blkid

 blkid device

This command returns block device attributes for C<device>. The following
fields are usually present in the returned hash. Other fields may also be
present.

=over 

=item C<UUID>

このデバイスのUUID。

=item C<LABEL>

このデバイスのラベル。

=item C<VERSION>

blkid コマンドのバージョン。

=item C<TYPE>

このデバイスのファイルシステム形式または RAID。

=item C<USAGE>

このデバイスの使用法です。たとえば、C<filesystem> や C<raid>。

=back

=head2 blockdev-flushbufs

 blockdev-flushbufs device

This tells the kernel to flush internal buffers associated with C<device>.

これは L<blockdev(8)> コマンドを使用します。

=head2 blockdev-getbsz

 blockdev-getbsz device

これはデバイスのブロック容量を返します。

(これは I<size in blocks> および I<filesystem block size> と異なることに注意してください。)

これは L<blockdev(8)> コマンドを使用します。

=head2 blockdev-getro

 blockdev-getro device

ブロックデバイスが読み込み専用であるかどうかを示す論理値を返します（読み込み専用ならば真、そうでなければ偽）。

これは L<blockdev(8)> コマンドを使用します。

=head2 blockdev-getsize64

 blockdev-getsize64 device

これはデバイスの容量をバイト単位で返します。

L</blockdev-getsz> 参照。

これは L<blockdev(8)> コマンドを使用します。

=head2 blockdev-getss

 blockdev-getss device

これはブロックデバイスのセクター容量を返します。通常は 512 ですが、最近のデバイスはより大きいかもしれません。

（これはセクターのサイズではありません、そのためには L</blockdev-getsz> を使用する必要があることに注意してください）。

これは L<blockdev(8)> コマンドを使用します。

=head2 blockdev-getsz

 blockdev-getsz device

This returns the size of the device in units of 512-byte sectors (even if
the sectorsize isn't 512 bytes ... weird).

See also L</blockdev-getss> for the real sector size of the device, and
L</blockdev-getsize64> for the more useful I<size in bytes>.

これは L<blockdev(8)> コマンドを使用します。

=head2 blockdev-rereadpt

 blockdev-rereadpt device

C<device> のパーティションテーブルを再読み込みします。

これは L<blockdev(8)> コマンドを使用します。

=head2 blockdev-setbsz

 blockdev-setbsz device blocksize

デバイスのブロック容量を設定します。

(これは I<size in blocks> および I<filesystem block size> と異なることに注意してください。)

これは L<blockdev(8)> コマンドを使用します。

=head2 blockdev-setro

 blockdev-setro device

C<device> という名前のブロックデバイスを読み込み専用に設定します。

これは L<blockdev(8)> コマンドを使用します。

=head2 blockdev-setrw

 blockdev-setrw device

C<device> という名前のブロックデバイスを読み書きに設定します。

これは L<blockdev(8)> コマンドを使用します。

=head2 btrfs-device-add

 btrfs-device-add 'devices ...' fs

Add the list of device(s) in C<devices> to the btrfs filesystem mounted at
C<fs>.  If C<devices> is an empty list, this does nothing.

=head2 btrfs-device-delete

 btrfs-device-delete 'devices ...' fs

Remove the C<devices> from the btrfs filesystem mounted at C<fs>.  If
C<devices> is an empty list, this does nothing.

=head2 btrfs-filesystem-balance

 btrfs-filesystem-balance fs

Balance the chunks in the btrfs filesystem mounted at C<fs> across the
underlying devices.

=head2 btrfs-filesystem-resize

 btrfs-filesystem-resize mountpoint [size:N]

This command resizes a btrfs filesystem.

Note that unlike other resize calls, the filesystem has to be mounted and
the parameter is the mountpoint not the device (this is a requirement of
btrfs itself).

オプションのパラメーターは次のとおりです:

=over 4

=item C<size>

ファイルシステムの新しい容量（バイト単位）。省略されると、ファイルシステムは最大の容量に変更されます。

=back

L<btrfs(8)> 参照。

This command has one or more optional arguments.  See L</OPTIONAL
ARGUMENTS>.

=head2 btrfs-filesystem-sync

 btrfs-filesystem-sync fs

C<fs> にマウントされた btrfs ファイルシステムにおいて強制同期します。

=head2 btrfs-fsck

 btrfs-fsck device [superblock:N] [repair:true|false]

btrfs ファイルシステムをチェックするために使用されると、C<device> はファイルシステムが保存されているデバイスファイルです。

This command has one or more optional arguments.  See L</OPTIONAL
ARGUMENTS>.

=head2 btrfs-set-seeding

 btrfs-set-seeding device true|false

btrfs ファイルシステムを含むデバイスの seeding 機能を有効化または無効化します。

=head2 btrfs-subvolume-create

 btrfs-subvolume-create dest

Create a btrfs subvolume.  The C<dest> argument is the destination directory
and the name of the snapshot, in the form C</path/to/dest/name>.

=head2 btrfs-subvolume-delete

 btrfs-subvolume-delete subvolume

Delete the named btrfs subvolume.

=head2 btrfs-subvolume-list

 btrfs-subvolume-list fs

List the btrfs snapshots and subvolumes of the btrfs filesystem which is
mounted at C<fs>.

=head2 btrfs-subvolume-set-default

 btrfs-subvolume-set-default id fs

Set the subvolume of the btrfs filesystem C<fs> which will be mounted by
default.  See L</btrfs-subvolume-list> to get a list of subvolumes.

=head2 btrfs-subvolume-snapshot

 btrfs-subvolume-snapshot source dest

btrfs サブボリューム C<source> の書き込み可能なスナップショットを作成します。C<dest>
引数は、宛先ディレクトリーで、C</path/to/dest/name> 形式のスナップショットの名前です。

=head2 case-sensitive-path

 case-sensitive-path path

This can be used to resolve case insensitive paths on a filesystem which is
case sensitive.  The use case is to resolve paths which you have read from
Windows configuration files or the Windows Registry, to the true path.

The command handles a peculiarity of the Linux ntfs-3g filesystem driver
(and probably others), which is that although the underlying filesystem is
case-insensitive, the driver exports the filesystem to Linux as
case-sensitive.

One consequence of this is that special directories such as C<c:\windows>
may appear as C</WINDOWS> or C</windows> (or other things) depending on the
precise details of how they were created.  In Windows itself this would not
be a problem.

バグか機能か？次を見て決めてください:
L<http://www.tuxera.com/community/ntfs-3g-faq/#posixfilenames1>

This function resolves the true case of each element in the path and returns
the case-sensitive path.

Thus L</case-sensitive-path> ("/Windows/System32")  might return
C<"/WINDOWS/system32"> (the exact return value would depend on details of
how the directories were originally created under Windows).

I<Note>: This function does not handle drive names, backslashes etc.

L</realpath> 参照。

=head2 cat

 cat path

C<path> という名前のファイルの内容を返します。

Note that this function cannot correctly handle binary files (specifically,
files containing C<\0> character which is treated as end of string).  For
those you need to use the L</read-file> or L</download> functions which have
a more complex interface.

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 checksum

 checksum csumtype path

この呼び出しは C<path> という名前のファイルの MD5, SHAx または CRC チェックサムを計算します。

計算するチェックサムの種類は、以下の値のどれかである C<csumtype> パラメーターにより与えられます:

=over 4

=item C<crc>

C<cksum> コマンドに対して POSIX により指定された巡回冗長検査 (CRC: cyclic redundancy check)
を計算します。

=item C<md5>

（C<md5sum> プログラムを用いて）MD5 ハッシュを計算します。

=item C<sha1>

（C<sha1sum> プログラムを用いて）SHA1 ハッシュを計算します。

=item C<sha224>

（C<sha224sum> プログラムを用いて）SHA224 ハッシュを計算します。

=item C<sha256>

（C<sha256sum> プログラムを用いて）SHA256 ハッシュを計算します。

=item C<sha384>

（C<sha384sum> プログラムを用いて）SHA384 ハッシュを計算します。

=item C<sha512>

（C<sha512sum> プログラムを用いて）SHA512 ハッシュを計算します。

=back

チェックサムは表示可能な文字列として返されます。

デバイスのチェックサムを取得するには L</checksum-device> を使用します。

多くのファイルのチェックサムを取得するには L</checksums-out> を使用します。

=head2 checksum-device

 checksum-device csumtype device

This call computes the MD5, SHAx or CRC checksum of the contents of the
device named C<device>.  For the types of checksums supported see the
L</checksum> command.

=head2 checksums-out

 checksums-out csumtype directory (sumsfile|-)

This command computes the checksums of all regular files in C<directory> and
then emits a list of those checksums to the local output file C<sumsfile>.

This can be used for verifying the integrity of a virtual machine.  However
to be properly secure you should pay attention to the output of the checksum
command (it uses the ones from GNU coreutils).  In particular when the
filename is not printable, coreutils uses a special backslash syntax.  For
more information, see the GNU coreutils info file.

Use C<-> instead of a filename to read/write from stdin/stdout.

=head2 chmod

 chmod mode path

Change the mode (permissions) of C<path> to C<mode>.  Only numeric modes are
supported.

I<Note>: When using this command from guestfish, C<mode> by default would be
decimal, unless you prefix it with C<0> to get octal, ie. use C<0700> not
C<700>.

実際に設定されるモードは umask により影響されます。

=head2 chown

 chown owner group path

ファイルの所有者を C<owner> に、グループを C<group> に変更します。

Only numeric uid and gid are supported.  If you want to use names, you will
need to locate and parse the password file yourself (Augeas support makes
this relatively easy).

=head2 command

 command 'arguments ...'

This call runs a command from the guest filesystem.  The filesystem must be
mounted, and must contain a compatible operating system (ie. something
Linux, with the same or compatible processor architecture).

The single parameter is an argv-style list of arguments.  The first element
is the name of the program to run.  Subsequent elements are parameters.  The
list must be non-empty (ie. must contain a program name).  Note that the
command runs directly, and is I<not> invoked via the shell (see L</sh>).

The return value is anything printed to I<stdout> by the command.

If the command returns a non-zero exit status, then this function returns an
error message.  The error message string is the content of I<stderr> from
the command.

The C<$PATH> environment variable will contain at least C</usr/bin> and
C</bin>.  If you require a program from another location, you should provide
the full path in the first parameter.

Shared libraries and data files required by the program must be available on
filesystems which are mounted in the correct places.  It is the caller's
responsibility to ensure all filesystems that are needed are mounted at the
right locations.

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 command-lines

 command-lines 'arguments ...'

This is the same as L</command>, but splits the result into a list of lines.

関連項目: L</sh-lines>

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 compress-device-out

 compress-device-out ctype device (zdevice|-) [level:N]

This command compresses C<device> and writes it out to the local file
C<zdevice>.

The C<ctype> and optional C<level> parameters have the same meaning as in
L</compress-out>.

Use C<-> instead of a filename to read/write from stdin/stdout.

This command has one or more optional arguments.  See L</OPTIONAL
ARGUMENTS>.

=head2 compress-out

 compress-out ctype file (zfile|-) [level:N]

This command compresses C<file> and writes it out to the local file
C<zfile>.

The compression program used is controlled by the C<ctype> parameter.
Currently this includes: C<compress>, C<gzip>, C<bzip2>, C<xz> or C<lzop>.
Some compression types may not be supported by particular builds of
libguestfs, in which case you will get an error containing the substring
"not supported".

The optional C<level> parameter controls compression level.  The meaning and
default for this parameter depends on the compression program being used.

Use C<-> instead of a filename to read/write from stdin/stdout.

This command has one or more optional arguments.  See L</OPTIONAL
ARGUMENTS>.

=head2 config

 config qemuparam qemuvalue

This can be used to add arbitrary qemu command line parameters of the form
I<-param value>.  Actually it's not quite arbitrary - we prevent you from
setting some parameters which would interfere with parameters that we use.

The first character of C<param> string must be a C<-> (dash).

C<value> can be NULL.

=head2 copy-device-to-device

 copy-device-to-device src dest [srcoffset:N] [destoffset:N] [size:N]

The four calls L</copy-device-to-device>, L</copy-device-to-file>,
L</copy-file-to-device>, and L</copy-file-to-file> let you copy from a
source (device|file) to a destination (device|file).

Partial copies can be made since you can specify optionally the source
offset, destination offset and size to copy.  These values are all specified
in bytes.  If not given, the offsets both default to zero, and the size
defaults to copying as much as possible until we hit the end of the source.

ソースと宛先は同じオブジェクトである可能性があります。しかしながら、重なり合う領域は正しくコピーされないかもしれません。

宛先がファイルならば、必要に応じて作成されます。宛先ファイルが十分に大きくなければ、拡張されます。

This command has one or more optional arguments.  See L</OPTIONAL
ARGUMENTS>.

=head2 copy-device-to-file

 copy-device-to-file src dest [srcoffset:N] [destoffset:N] [size:N]

この呼び出しの一般的な概要は L</copy-device-to-device> を参照してください。

This command has one or more optional arguments.  See L</OPTIONAL
ARGUMENTS>.

=head2 copy-file-to-device

 copy-file-to-device src dest [srcoffset:N] [destoffset:N] [size:N]

この呼び出しの一般的な概要は L</copy-device-to-device> を参照してください。

This command has one or more optional arguments.  See L</OPTIONAL
ARGUMENTS>.

=head2 copy-file-to-file

 copy-file-to-file src dest [srcoffset:N] [destoffset:N] [size:N]

この呼び出しの一般的な概要は L</copy-device-to-device> を参照してください。

This is B<not> the function you want for copying files.  This is for copying
blocks within existing files.  See L</cp>, L</cp-a> and L</mv> for general
file copying and moving functions.

This command has one or more optional arguments.  See L</OPTIONAL
ARGUMENTS>.

=head2 copy-size

 copy-size src dest size

This command copies exactly C<size> bytes from one source device or file
C<src> to another destination device or file C<dest>.

Note this will fail if the source is too short or if the destination is not
large enough.

I<この関数は推奨されません。> 新しいコードでは、代わりに L</copy_device_to_device> を使用してください。

Deprecated functions will not be removed from the API, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.

=head2 cp

 cp src dest

ファイルを C<src> から C<dest> にコピーします。ここで C<dest> は宛先ファイル名または宛先ディレクトリです。

=head2 cp-a

 cp-a src dest

ファイルまたはディレクトリを C<src> から C<dest> に C<cp -a> コマンドを使用して再帰的にコピーします。

=head2 dd

 dd src dest

This command copies from one source device or file C<src> to another
destination device or file C<dest>.  Normally you would use this to copy to
or from a device or partition, for example to duplicate a filesystem.

If the destination is a device, it must be as large or larger than the
source file or device, otherwise the copy will fail.  This command cannot do
partial copies (see L</copy-device-to-device>).

I<この関数は推奨されません。> 新しいコードでは、代わりに L</copy_device_to_device> を使用してください。

Deprecated functions will not be removed from the API, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.

=head2 device-index

 device-index device

This function takes a device name (eg. "/dev/sdb") and returns the index of
the device in the list of devices.

Index numbers start from 0.  The named device must exist, for example as a
string returned from L</list-devices>.

See also L</list-devices>, L</part-to-dev>.

=head2 df

 df

このコマンドはディスク使用状況を報告するために C<df> コマンドを実行します。

This command is mostly useful for interactive sessions.  It is I<not>
intended that you try to parse the output string.  Use L</statvfs> from
programs.

=head2 df-h

 df-h

このコマンドはディスク使用状況を読みやすい形式で報告するために C<df -h> コマンドを実行します。

This command is mostly useful for interactive sessions.  It is I<not>
intended that you try to parse the output string.  Use L</statvfs> from
programs.

=head2 dmesg

 dmesg

This returns the kernel messages (C<dmesg> output) from the guest kernel.
This is sometimes useful for extended debugging of problems.

Another way to get the same information is to enable verbose messages with
L</set-verbose> or by setting the environment variable C<LIBGUESTFS_DEBUG=1>
before running the program.

=head2 download

 download remotefilename (filename|-)

Download file C<remotefilename> and save it as C<filename> on the local
machine.

C<filename> は名前付きパイプを使えます。

L</upload>, L</cat> 参照。

Use C<-> instead of a filename to read/write from stdin/stdout.

=head2 download-offset

 download-offset remotefilename (filename|-) offset size

Download file C<remotefilename> and save it as C<filename> on the local
machine.

C<remotefilename> is read for C<size> bytes starting at C<offset> (this
region must be within the file or device).

Note that there is no limit on the amount of data that can be downloaded
with this call, unlike with L</pread>, and this call always reads the full
amount unless an error occurs.

L</download>, L</pread> 参照。

Use C<-> instead of a filename to read/write from stdin/stdout.

=head2 drop-caches

 drop-caches whattodrop

This instructs the guest kernel to drop its page cache, and/or dentries and
inode caches.  The parameter C<whattodrop> tells the kernel what precisely
to drop, see L<http://linux-mm.org/Drop_Caches>

C<whattodrop> を 3 に設定することにより、すべてのものを破棄します。

This automatically calls L<sync(2)> before the operation, so that the
maximum guest memory is freed.

=head2 du

 du path

This command runs the C<du -s> command to estimate file space usage for
C<path>.

C<path> can be a file or a directory.  If C<path> is a directory then the
estimate includes the contents of the directory and all subdirectories
(recursively).

The result is the estimated size in I<kilobytes> (ie. units of 1024 bytes).

=head2 e2fsck

 e2fsck device [correct:true|false] [forceall:true|false]

This runs the ext2/ext3 filesystem checker on C<device>.  It can take the
following optional arguments:

=over 4

=item C<correct>

Automatically repair the file system. This option will cause e2fsck to
automatically fix any filesystem problems that can be safely fixed without
human intervention.

This option may not be specified at the same time as the C<forceall> option.

=item C<forceall>

すべての質問に対して 'yes' の回答をすると仮定します。e2fsck が非対話的に使用できます。

このオプションは C<correct> オプションと同時に指定できません。

=back

This command has one or more optional arguments.  See L</OPTIONAL
ARGUMENTS>.

=head2 e2fsck-f

 e2fsck-f device

This runs C<e2fsck -p -f device>, ie. runs the ext2/ext3 filesystem checker
on C<device>, noninteractively (I<-p>), even if the filesystem appears to be
clean (I<-f>).

I<この関数は推奨されません。> 新しいコードでは、代わりに L</e2fsck> を使用してください。

Deprecated functions will not be removed from the API, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.

=head2 echo-daemon

 echo-daemon 'words ...'

This command concatenates the list of C<words> passed with single spaces
between them and returns the resulting string.

You can use this command to test the connection through to the daemon.

L</ping-daemon> 参照。

=head2 egrep

 egrep regex path

This calls the external C<egrep> program and returns the matching lines.

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 egrepi

 egrepi regex path

This calls the external C<egrep -i> program and returns the matching lines.

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 equal

 equal file1 file2

This compares the two files C<file1> and C<file2> and returns true if their
content is exactly equal, or false otherwise.

外部の L<cmp(1)> プログラムが比較のために使用されます。

=head2 exists

 exists path

This returns C<true> if and only if there is a file, directory (or anything)
with the given C<path> name.

L</is-file>, L</is-dir>, L</stat> 参照。

=head2 fallocate

 fallocate path len

This command preallocates a file (containing zero bytes) named C<path> of
size C<len> bytes.  If the file exists already, it is overwritten.

Do not confuse this with the guestfish-specific C<alloc> command which
allocates a file in the host and attaches it as a device.

I<この関数は推奨されません。> 新しいコードでは、代わりに L</fallocate64> を使用してください。

Deprecated functions will not be removed from the API, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.

=head2 fallocate64

 fallocate64 path len

This command preallocates a file (containing zero bytes) named C<path> of
size C<len> bytes.  If the file exists already, it is overwritten.

Note that this call allocates disk blocks for the file.  To create a sparse
file use L</truncate-size> instead.

The deprecated call L</fallocate> does the same, but owing to an oversight
it only allowed 30 bit lengths to be specified, effectively limiting the
maximum size of files created through that call to 1GB.

Do not confuse this with the guestfish-specific C<alloc> and C<sparse>
commands which create a file in the host and attach it as a device.

=head2 fgrep

 fgrep pattern path

This calls the external C<fgrep> program and returns the matching lines.

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 fgrepi

 fgrepi pattern path

外部の C<fgrep -i> プログラムを呼び出し、一致した行を返します。

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 file

 file path

この呼び出しは、ファイルの形式または内容を決定するために、標準的な L<file(1)> コマンドを使用します。

This call will also transparently look inside various types of compressed
file.

The exact command which runs is C<file -zb path>.  Note in particular that
the filename is not prepended to the output (the I<-b> option).

The output depends on the output of the underlying L<file(1)> command and it
can change in future in ways beyond our control.  In other words, the output
is not guaranteed by the ABI.

関連項目: L<file(1)>, L</vfs-type>, L</lstat>, L</is-file>, L</is-blockdev>
(etc), L</is-zero>

=head2 file-architecture

 file-architecture filename

This detects the architecture of the binary C<filename>, and returns it if
known.

現在定義されているアーキテクチャーは次のとおりです:

=over 4

=item "i386"

この文字列は、バイナリーの正確なプロセッサー要求にかかわりなく、すべての 32 ビット i386, i486, i586, i686
バイナリーに対して返されます。

=item "x86_64"

64 ビット x86-64.

=item "sparc"

32 ビット SPARC.

=item "sparc64"

64 ビット SPARC V9 およびそれ以降.

=item "ia64"

Intel Itanium.

=item "ppc"

32 ビット Power PC.

=item "ppc64"

64 ビット Power PC.

=back

libguestfs は将来他のアーキテクチャー文字列を返すかもしれません。

The function works on at least the following types of files:

=over 4

=item *

多くの種類の Un*x および Linux バイナリー

=item *

多くの種類の Un*x および Linux 共有ライブラリー

=item *

Windows Win32 および Win64 バイナリー

=item *

Windows Win32 および Win64 DLL

Win32 バイナリーと DLL が C<i386> を返します。

Win64 バイナリーと DLL が C<x86_64> を返します。

=item *

Linux カーネルモジュール

=item *

新形式の Linux initrd イメージ

=item *

いくつかの非 x86 Linux vmlinuz カーネル

=back

What it can't do currently:

=over 4

=item *

静的ライブラリー (libfoo.a)

=item *

Linux old-style initrd as compressed ext2 filesystem (RHEL 3)

=item *

x86 Linux vmlinuz カーネル

x86 vmlinuz images (bzImage format) consist of a mix of 16-, 32- and
compressed code, and are horribly hard to unpack.  If you want to find the
architecture of a kernel, use the architecture of the associated initrd or
kernel module(s) instead.

=back

=head2 filesize

 filesize file

This command returns the size of C<file> in bytes.

ファイルに関する他の統計を取得するには use L</stat>, L</lstat>, L</is-dir>, L</is-file>
などを使用します。ブロックデバイスの容量を取得するには L</blockdev-getsize64> を使用します。

=head2 fill

 fill c len path

このコマンドは C<path> という新しいファイルを作成します。初期の内容は C<len> オクテットの C<c> です。ここで C<c> は
C<[0..255]> の範囲の数値である必要があります。

To fill a file with zero bytes (sparsely), it is much more efficient to use
L</truncate-size>.  To create a file with a pattern of repeating bytes use
L</fill-pattern>.

=head2 fill-pattern

 fill-pattern pattern len path

This function is like L</fill> except that it creates a new file of length
C<len> containing the repeating pattern of bytes in C<pattern>.  The pattern
is truncated if necessary to ensure the length of the file is exactly C<len>
bytes.

=head2 find

 find directory

This command lists out all files and directories, recursively, starting at
C<directory>.  It is essentially equivalent to running the shell command
C<find directory -print> but some post-processing happens on the output,
described below.

This returns a list of strings I<without any prefix>.  Thus if the directory
structure was:

 /tmp/a
 /tmp/b
 /tmp/c/d

then the returned list from L</find> C</tmp> would be 4 elements:

 a
 b
 c
 c/d

If C<directory> is not a directory, then this command returns an error.

返された一覧は並び替えられています。

L</find0> 参照。

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 find0

 find0 directory (files|-)

This command lists out all files and directories, recursively, starting at
C<directory>, placing the resulting list in the external file called
C<files>.

This command works the same way as L</find> with the following exceptions:

=over 4

=item *

The resulting list is written to an external file.

=item *

Items (filenames) in the result are separated by C<\0> characters.  See
L<find(1)> option I<-print0>.

=item *

This command is not limited in the number of names that it can return.

=item *

結果の一覧はソートされていません。

=back

Use C<-> instead of a filename to read/write from stdin/stdout.

=head2 findfs-label

 findfs-label label

This command searches the filesystems and returns the one which has the
given label.  An error is returned if no such filesystem can be found.

ファイルシステムのラベルを検索するには L</vfs-label> を使用します。

=head2 findfs-uuid

 findfs-uuid uuid

This command searches the filesystems and returns the one which has the
given UUID.  An error is returned if no such filesystem can be found.

ファイルシステムの UUID を検索するには L</vfs-uuid> を使用します。

=head2 fsck

 fsck fstype device

This runs the filesystem checker (fsck) on C<device> which should have
filesystem type C<fstype>.

返された整数は状態です。 C<fsck> からの状態コードの一覧は L<fsck(8)> を参照してください。

注:

=over 4

=item *

複数の状態コードが同時に合計されるかもしれません。

=item *

A non-zero return code can mean "success", for example if errors have been
corrected on the filesystem.

=item *

Checking or repairing NTFS volumes is not supported (by linux-ntfs).

=back

This command is entirely equivalent to running C<fsck -a -t fstype device>.

=head2 get-append

 get-append

Return the additional kernel options which are added to the guest kernel
command line.

If C<NULL> then no options are added.

=head2 get-attach-method

 get-attach-method

現在の接続方式を返します。  </set-attach-method> 参照。

=head2 get-autosync

 get-autosync

autosync フラグを取得します。

=head2 get-direct

 get-direct

Return the direct appliance mode flag.

=head2 get-e2attrs

 get-e2attrs file

This returns the file attributes associated with C<file>.

The attributes are a set of bits associated with each inode which affect the
behaviour of the file.  The attributes are returned as a string of letters
(described below).  The string may be empty, indicating that no file
attributes are set for this file.

These attributes are only present when the file is located on an ext2/3/4
filesystem.  Using this call on other filesystem types will result in an
error.

The characters (file attributes) in the returned string are currently:

=over 4

=item 'A'

ファイルがアクセスされたとき、アクセス日時 (atime) を変更しません。

=item 'a'

ファイルは追記専用です。

=item 'c'

ファイルはディスクにおいて圧縮されます。

=item 'D'

(Directories only.)  Changes to this directory are written synchronously to
disk.

=item 'd'

The file is not a candidate for backup (see L<dump(8)>).

=item 'E'

ファイルは圧縮エラーがあります。

=item 'e'

ファイルは拡張属性を使用しています。

=item 'h'

The file is storing its blocks in units of the filesystem blocksize instead
of sectors.

=item 'I'

(Directories only.)  The directory is using hashed trees.

=item 'i'

The file is immutable.  It cannot be modified, deleted or renamed.  No link
can be created to this file.

=item 'j'

ファイルはジャーナル付きデータです。

=item 's'

ファイルが削除されるとき、そのブロックはすべてゼロが書き込みされます。

=item 'S'

このファイルへの変更は同期的にディスクに書き込まれます。

=item 'T'

(Directories only.)  This is a hint to the block allocator that
subdirectories contained in this directory should be spread across blocks.
If not present, the block allocator will try to group subdirectories
together.

=item 't'

For a file, this disables tail-merging.  (Not used by upstream
implementations of ext2.)

=item 'u'

When the file is deleted, its blocks will be saved, allowing the file to be
undeleted.

=item 'X'

The raw contents of the compressed file may be accessed.

=item 'Z'

圧縮されたファイルがダーティーです。

=back

More file attributes may be added to this list later.  Not all file
attributes may be set for all kinds of files.  For detailed information,
consult the L<chattr(1)> man page.

L</set-e2attrs> 参照。

Don't confuse these attributes with extended attributes (see L</getxattr>).

=head2 get-e2generation

 get-e2generation file

This returns the ext2 file generation of a file.  The generation (which used
to be called the "version") is a number associated with an inode.  This is
most commonly used by NFS servers.

The generation is only present when the file is located on an ext2/3/4
filesystem.  Using this call on other filesystem types will result in an
error.

L</set-e2generation> 参照。

=head2 get-e2label

 get-e2label device

これは C<device> にあるファイルシステムの ext2/3/4 ファイルシステムラベルを返します。

I<この関数は推奨されません。> 新しいコードでは、代わりに L</vfs_label> を使用してください。

Deprecated functions will not be removed from the API, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.

=head2 get-e2uuid

 get-e2uuid device

This returns the ext2/3/4 filesystem UUID of the filesystem on C<device>.

I<この関数は推奨されません。> 新しいコードでは、代わりに L</vfs_uuid> を使用してください。

Deprecated functions will not be removed from the API, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.

=head2 get-memsize

 get-memsize

This gets the memory size in megabytes allocated to the qemu subprocess.

If L</set-memsize> was not called on this handle, and if
C<LIBGUESTFS_MEMSIZE> was not set, then this returns the compiled-in default
value for memsize.

libguestfs のアーキテクチャーの詳細は L<guestfs(3)> を参照してください。

=head2 get-network

 get-network

This returns the enable network flag.

=head2 get-path

 get-path

現在の検索パスを返します。

This is always non-NULL.  If it wasn't set already, then this will return
the default path.

=head2 get-pgroup

 get-pgroup

This returns the process group flag.

=head2 get-pid

=head2 pid

 get-pid

Return the process ID of the qemu subprocess.  If there is no qemu
subprocess, then this will return an error.

This is an internal call used for debugging and testing.

=head2 get-qemu

 get-qemu

現在の QEMU バイナリーを返します。

This is always non-NULL.  If it wasn't set already, then this will return
the default qemu binary name.

=head2 get-recovery-proc

 get-recovery-proc

復元プロセス有効化フラグを返します。

=head2 get-selinux

 get-selinux

This returns the current setting of the selinux flag which is passed to the
appliance at boot time.  See L</set-selinux>.

libguestfs のアーキテクチャーの詳細は L<guestfs(3)> を参照してください。

=head2 get-smp

 get-smp

This returns the number of virtual CPUs assigned to the appliance.

=head2 get-state

 get-state

This returns the current state as an opaque integer.  This is only useful
for printing debug and internal error messages.

For more information on states, see L<guestfs(3)>.

=head2 get-trace

 get-trace

コマンドトレースフラグを返します。

=head2 get-umask

 get-umask

Return the current umask.  By default the umask is C<022> unless it has been
set by calling L</umask>.

=head2 get-verbose

 get-verbose

これはメッセージ冗長化フラグを返します。

=head2 getcon

 getcon

これはデーモンの SELinux セキュリティコンテキストを取得します。

See the documentation about SELINUX in L<guestfs(3)>, and L</setcon>

=head2 getxattr

 getxattr path name

Get a single extended attribute from file C<path> named C<name>.  This call
follows symlinks.  If you want to lookup an extended attribute for the
symlink itself, use L</lgetxattr>.

Normally it is better to get all extended attributes from a file in one go
by calling L</getxattrs>.  However some Linux filesystem implementations are
buggy and do not provide a way to list out attributes.  For these
filesystems (notably ntfs-3g)  you have to know the names of the extended
attributes you want in advance and call this function.

Extended attribute values are blobs of binary data.  If there is no extended
attribute named C<name>, this returns an error.

関連項目: L</getxattrs>, L</lgetxattr>, L<attr(5)>

=head2 getxattrs

 getxattrs path

This call lists the extended attributes of the file or directory C<path>.

At the system call level, this is a combination of the L<listxattr(2)> and
L<getxattr(2)> calls.

関連項目: L</lgetxattrs>, L<attr(5)>

=head2 glob-expand

 glob-expand pattern

This command searches for all the pathnames matching C<pattern> according to
the wildcard expansion rules used by the shell.

If no paths match, then this returns an empty list (note: not an error).

It is just a wrapper around the C L<glob(3)> function with flags
C<GLOB_MARK|GLOB_BRACE>.  See that manual page for more details.

Notice that there is no equivalent command for expanding a device name
(eg. C</dev/sd*>).  Use L</list-devices>, L</list-partitions> etc functions
instead.

=head2 grep

 grep regex path

This calls the external C<grep> program and returns the matching lines.

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 grepi

 grepi regex path

This calls the external C<grep -i> program and returns the matching lines.

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 grub-install

 grub-install root device

This command installs GRUB 1 (the Grand Unified Bootloader) on C<device>,
with the root directory being C<root>.

注:

=over 4

=item *

There is currently no way in the API to install grub2, which is used by most
modern Linux guests.  It is possible to run the grub2 command from the
guest, although see the caveats in L<guestfs(3)/RUNNING COMMANDS>.

=item *

This uses C<grub-install> from the host.  Unfortunately grub is not always
compatible with itself, so this only works in rather narrow circumstances.
Careful testing with each guest version is advisable.

=item *

If grub-install reports the error "No suitable drive was found in the
generated device map." it may be that you need to create a
C</boot/grub/device.map> file first that contains the mapping between grub
device names and Linux device names.  It is usually sufficient to create a
file containing:

 (hd0) /dev/vda

replacing C</dev/vda> with the name of the installation device.

=back

=head2 head

 head path

This command returns up to the first 10 lines of a file as a list of
strings.

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 head-n

 head-n nrlines path

If the parameter C<nrlines> is a positive number, this returns the first
C<nrlines> lines of the file C<path>.

If the parameter C<nrlines> is a negative number, this returns lines from
the file C<path>, excluding the last C<nrlines> lines.

パラメーター C<nrlines> が 0 ならば、空の一覧を返します。

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 hexdump

 hexdump path

指定された C<path> において C<hexdump -C> を実行します。結果は、読みやすい形式になり、ファイルの正規化された 16
進ダンプです。

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 initrd-cat

 initrd-cat initrdpath filename

This command unpacks the file C<filename> from the initrd file called
C<initrdpath>.  The filename must be given I<without> the initial C</>
character.

For example, in guestfish you could use the following command to examine the
boot script (usually called C</init>)  contained in a Linux initrd or
initramfs image:

 initrd-cat /boot/initrd-<version>.img init

L</initrd-list> 参照。

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 initrd-list

 initrd-list path

このコマンドは initrd に含まれるファイルを一覧表示します。

The files are listed without any initial C</> character.  The files are
listed in the order they appear (not necessarily alphabetical).  Directory
names are listed as separate items.

Old Linux kernels (2.4 and earlier) used a compressed ext2 filesystem as
initrd.  We I<only> support the newer initramfs format (compressed cpio
files).

=head2 inotify-add-watch

 inotify-add-watch path mask

Watch C<path> for the events listed in C<mask>.

Note that if C<path> is a directory then events within that directory are
watched, but this does I<not> happen recursively (in subdirectories).

Note for non-C or non-Linux callers: the inotify events are defined by the
Linux kernel ABI and are listed in C</usr/include/sys/inotify.h>.

=head2 inotify-close

 inotify-close

This closes the inotify handle which was previously opened by inotify_init.
It removes all watches, throws away any pending events, and deallocates all
resources.

=head2 inotify-files

 inotify-files

This function is a helpful wrapper around L</inotify-read> which just
returns a list of pathnames of objects that were touched.  The returned
pathnames are sorted and deduplicated.

=head2 inotify-init

 inotify-init maxevents

This command creates a new inotify handle.  The inotify subsystem can be
used to notify events which happen to objects in the guest filesystem.

C<maxevents> is the maximum number of events which will be queued up between
calls to L</inotify-read> or L</inotify-files>.  If this is passed as C<0>,
then the kernel (or previously set)  default is used.  For Linux 2.6.29 the
default was 16384 events.  Beyond this limit, the kernel throws away events,
but records the fact that it threw them away by setting a flag
C<IN_Q_OVERFLOW> in the returned structure list (see L</inotify-read>).

Before any events are generated, you have to add some watches to the
internal watch list.  See: L</inotify-add-watch> and L</inotify-rm-watch>.

Queued up events should be read periodically by calling L</inotify-read> (or
L</inotify-files> which is just a helpful wrapper around L</inotify-read>).
If you don't read the events out often enough then you risk the internal
queue overflowing.

The handle should be closed after use by calling L</inotify-close>.  This
also removes any watches automatically.

See also L<inotify(7)> for an overview of the inotify interface as exposed
by the Linux kernel, which is roughly what we expose via libguestfs.  Note
that there is one global inotify handle per libguestfs instance.

=head2 inotify-read

 inotify-read

Return the complete queue of events that have happened since the previous
read call.

何もイベントが起きないと、これは空の一覧を返します。

I<Note>: In order to make sure that all events have been read, you must call
this function repeatedly until it returns an empty list.  The reason is that
the call will read events up to the maximum appliance-to-host message size
and leave remaining events in the queue.

=head2 inotify-rm-watch

 inotify-rm-watch wd

前に定義された inotify ウォッチを削除します。 L</inotify-add-watch> 参照。

=head2 inspect-get-arch

 inspect-get-arch root

This returns the architecture of the inspected operating system.  The
possible return values are listed under L</file-architecture>.

アーキテクチャーが決められなければ、文字列 C<unknown> が返されます。

詳細は L<guestfs(3)/INSPECTION> を参照してください。

=head2 inspect-get-distro

 inspect-get-distro root

これは検査したオペレーティングシステムのディストリビューションを返します。

定義されているディストリビューションは現在次のとおりです:

=over 4

=item "archlinux"

Arch Linux.

=item "buildroot"

Buildroot 派生のディストリビューション. 具体的にどれかを認識しません.

=item "centos"

CentOS.

=item "cirros"

Cirros.

=item "debian"

Debian.

=item "fedora"

Fedora.

=item "freedos"

FreeDOS.

=item "gentoo"

Gentoo.

=item "linuxmint"

Linux Mint.

=item "mageia"

Mageia.

=item "mandriva"

Mandriva.

=item "meego"

MeeGo.

=item "opensuse"

OpenSUSE.

=item "pardus"

Pardus.

=item "redhat-based"

いくつかの Red Hat 派生ディストリビューション.

=item "rhel"

Red Hat Enterprise Linux.

=item "scientificlinux"

Scientific Linux.

=item "slackware"

Slackware.

=item "ttylinux"

ttylinux.

=item "ubuntu"

Ubuntu.

=item "unknown"

ディストリビューションがわかりませんでした。

=item "windows"

Windows はディストリビューションがありません。OS 種別が Windows ならば、この文字列は返されません。

=back

libguestfs の将来のバージョンは、ここに他の文字列を返す可能性があります。呼び出し元はあらゆる文字列の処理に備えなければいけません。

詳細は L<guestfs(3)/INSPECTION> を参照してください。

=head2 inspect-get-drive-mappings

 inspect-get-drive-mappings root

This call is useful for Windows which uses a primitive system of assigning
drive letters (like "C:") to partitions.  This inspection API examines the
Windows Registry to find out how disks/partitions are mapped to drive
letters, and returns a hash table as in the example below:

 C      =>     /dev/vda2
 E      =>     /dev/vdb1
 F      =>     /dev/vdc1

Note that keys are drive letters.  For Windows, the key is case insensitive
and just contains the drive letter, without the customary colon separator
character.

In future we may support other operating systems that also used drive
letters, but the keys for those might not be case insensitive and might be
longer than 1 character.  For example in OS-9, hard drives were named C<h0>,
C<h1> etc.

For Windows guests, currently only hard drive mappings are returned.
Removable disks (eg. DVD-ROMs) are ignored.

For guests that do not use drive mappings, or if the drive mappings could
not be determined, this returns an empty hash table.

Please read L<guestfs(3)/INSPECTION> for more details.  See also
L</inspect-get-mountpoints>, L</inspect-get-filesystems>.

=head2 inspect-get-filesystems

 inspect-get-filesystems root

This returns a list of all the filesystems that we think are associated with
this operating system.  This includes the root filesystem, other ordinary
filesystems, and non-mounted devices like swap partitions.

In the case of a multi-boot virtual machine, it is possible for a filesystem
to be shared between operating systems.

詳細は L<guestfs(3)/INSPECTION> を読んでください。  L</inspect-get-mountpoints> 参照。

=head2 inspect-get-format

 inspect-get-format root

This returns the format of the inspected operating system.  You can use it
to detect install images, live CDs and similar.

Currently defined formats are:

=over 4

=item "installed"

インストールされているオペレーティングシステムです。

=item "installer"

The disk image being inspected is not an installed operating system, but a
I<bootable> install disk, live CD, or similar.

=item "unknown"

The format of this disk image is not known.

=back

libguestfs の将来のバージョンは、ここに他の文字列を返す可能性があります。呼び出し元はあらゆる文字列の処理に備えなければいけません。

詳細は L<guestfs(3)/INSPECTION> を参照してください。

=head2 inspect-get-hostname

 inspect-get-hostname root

This function returns the hostname of the operating system as found by
inspection of the guest's configuration files.

If the hostname could not be determined, then the string C<unknown> is
returned.

詳細は L<guestfs(3)/INSPECTION> を参照してください。

=head2 inspect-get-icon

 inspect-get-icon root [favicon:true|false] [highquality:true|false]

This function returns an icon corresponding to the inspected operating
system.  The icon is returned as a buffer containing a PNG image (re-encoded
to PNG if necessary).

If it was not possible to get an icon this function returns a zero-length
(non-NULL) buffer.  I<Callers must check for this case>.

Libguestfs will start by looking for a file called C</etc/favicon.png> or
C<C:\etc\favicon.png> and if it has the correct format, the contents of this
file will be returned.  You can disable favicons by passing the optional
C<favicon> boolean as false (default is true).

If finding the favicon fails, then we look in other places in the guest for
a suitable icon.

If the optional C<highquality> boolean is true then only high quality icons
are returned, which means only icons of high resolution with an alpha
channel.  The default (false) is to return any icon we can, even if it is of
substandard quality.

注:

=over 4

=item *

Unlike most other inspection API calls, the guest's disks must be mounted up
before you call this, since it needs to read information from the guest
filesystem during the call.

=item *

B<Security:> The icon data comes from the untrusted guest, and should be
treated with caution.  PNG files have been known to contain exploits.
Ensure that libpng (or other relevant libraries) are fully up to date before
trying to process or display the icon.

=item *

The PNG image returned can be any size.  It might not be square.  Libguestfs
tries to return the largest, highest quality icon available.  The
application must scale the icon to the required size.

=item *

Extracting icons from Windows guests requires the external C<wrestool>
program from the C<icoutils> package, and several programs (C<bmptopnm>,
C<pnmtopng>, C<pamcut>)  from the C<netpbm> package.  These must be
installed separately.

=item *

Operating system icons are usually trademarks.  Seek legal advice before
using trademarks in applications.

=back

This command has one or more optional arguments.  See L</OPTIONAL
ARGUMENTS>.

=head2 inspect-get-major-version

 inspect-get-major-version root

This returns the major version number of the inspected operating system.

Windows uses a consistent versioning scheme which is I<not> reflected in the
popular public names used by the operating system.  Notably the operating
system known as "Windows 7" is really version 6.1 (ie. major = 6, minor =
1).  You can find out the real versions corresponding to releases of Windows
by consulting Wikipedia or MSDN.

If the version could not be determined, then C<0> is returned.

詳細は L<guestfs(3)/INSPECTION> を参照してください。

=head2 inspect-get-minor-version

 inspect-get-minor-version root

検査するオペレーティングシステムのマイナーバージョン番号を返します。

If the version could not be determined, then C<0> is returned.

詳細は L<guestfs(3)/INSPECTION> を読んでください。  L</inspect-get-major-version> 参照。

=head2 inspect-get-mountpoints

 inspect-get-mountpoints root

This returns a hash of where we think the filesystems associated with this
operating system should be mounted.  Callers should note that this is at
best an educated guess made by reading configuration files such as
C</etc/fstab>.  I<In particular note> that this may return filesystems which
are non-existent or not mountable and callers should be prepared to handle
or ignore failures if they try to mount them.

Each element in the returned hashtable has a key which is the path of the
mountpoint (eg. C</boot>) and a value which is the filesystem that would be
mounted there (eg. C</dev/sda1>).

Non-mounted devices such as swap devices are I<not> returned in this list.

For operating systems like Windows which still use drive letters, this call
will only return an entry for the first drive "mounted on" C</>.  For
information about the mapping of drive letters to partitions, see
L</inspect-get-drive-mappings>.

詳細は L<guestfs(3)/INSPECTION> を読んでください。  L</inspect-get-filesystems> 参照。

=head2 inspect-get-package-format

 inspect-get-package-format root

This function and L</inspect-get-package-management> return the package
format and package management tool used by the inspected operating system.
For example for Fedora these functions would return C<rpm> (package format)
and C<yum> (package management).

This returns the string C<unknown> if we could not determine the package
format I<or> if the operating system does not have a real packaging system
(eg. Windows).

Possible strings include: C<rpm>, C<deb>, C<ebuild>, C<pisi>, C<pacman>,
C<pkgsrc>.  Future versions of libguestfs may return other strings.

詳細は L<guestfs(3)/INSPECTION> を参照してください。

=head2 inspect-get-package-management

 inspect-get-package-management root

L</inspect-get-package-format> and this function return the package format
and package management tool used by the inspected operating system.  For
example for Fedora these functions would return C<rpm> (package format) and
C<yum> (package management).

This returns the string C<unknown> if we could not determine the package
management tool I<or> if the operating system does not have a real packaging
system (eg. Windows).

Possible strings include: C<yum>, C<up2date>, C<apt> (for all Debian
derivatives), C<portage>, C<pisi>, C<pacman>, C<urpmi>, C<zypper>.  Future
versions of libguestfs may return other strings.

詳細は L<guestfs(3)/INSPECTION> を参照してください。

=head2 inspect-get-product-name

 inspect-get-product-name root

This returns the product name of the inspected operating system.  The
product name is generally some freeform string which can be displayed to the
user, but should not be parsed by programs.

If the product name could not be determined, then the string C<unknown> is
returned.

詳細は L<guestfs(3)/INSPECTION> を参照してください。

=head2 inspect-get-product-variant

 inspect-get-product-variant root

This returns the product variant of the inspected operating system.

For Windows guests, this returns the contents of the Registry key
C<HKLM\Software\Microsoft\Windows NT\CurrentVersion> C<InstallationType>
which is usually a string such as C<Client> or C<Server> (other values are
possible).  This can be used to distinguish consumer and enterprise versions
of Windows that have the same version number (for example, Windows 7 and
Windows 2008 Server are both version 6.1, but the former is C<Client> and
the latter is C<Server>).

For enterprise Linux guests, in future we intend this to return the product
variant such as C<Desktop>, C<Server> and so on.  But this is not
implemented at present.

If the product variant could not be determined, then the string C<unknown>
is returned.

Please read L<guestfs(3)/INSPECTION> for more details.  See also
L</inspect-get-product-name>, L</inspect-get-major-version>.

=head2 inspect-get-roots

 inspect-get-roots

This function is a convenient way to get the list of root devices, as
returned from a previous call to L</inspect-os>, but without redoing the
whole inspection process.

This returns an empty list if either no root devices were found or the
caller has not called L</inspect-os>.

詳細は L<guestfs(3)/INSPECTION> を参照してください。

=head2 inspect-get-type

 inspect-get-type root

This returns the type of the inspected operating system.  Currently defined
types are:

=over 4

=item "linux"

すべての Linux ベースのオペレーティングシステム.

=item "windows"

すべての Microsoft Windows オペレーティングシステム.

=item "freebsd"

FreeBSD.

=item "netbsd"

NetBSD.

=item "hurd"

GNU/Hurd.

=item "dos"

MS-DOS, FreeDOS およびその他.

=item "unknown"

The operating system type could not be determined.

=back

libguestfs の将来のバージョンは、ここに他の文字列を返す可能性があります。呼び出し元はあらゆる文字列の処理に備えなければいけません。

詳細は L<guestfs(3)/INSPECTION> を参照してください。

=head2 inspect-get-windows-current-control-set

 inspect-get-windows-current-control-set root

これは検査した仮想マシンの Windows CurrentControlSet を返します。 CurrentControlSet は
C<ControlSet001> のようなレジストリキーの名前です。

この呼び出しは、仮想マシンが Windows であり、レジストリが検査により確認できることを仮定しています。該当しない場合、エラーが返されます。

詳細は L<guestfs(3)/INSPECTION> を参照してください。

=head2 inspect-get-windows-systemroot

 inspect-get-windows-systemroot root

これは検査した仮想マシンの Windows システムルートを返します。システムルートは C</WINDOWS> のようなディレクトリーのパスです。

This call assumes that the guest is Windows and that the systemroot could be
determined by inspection.  If this is not the case then an error is
returned.

詳細は L<guestfs(3)/INSPECTION> を参照してください。

=head2 inspect-is-live

 inspect-is-live root

If L</inspect-get-format> returns C<installer> (this is an install disk),
then this returns true if a live image was detected on the disk.

詳細は L<guestfs(3)/INSPECTION> を参照してください。

=head2 inspect-is-multipart

 inspect-is-multipart root

If L</inspect-get-format> returns C<installer> (this is an install disk),
then this returns true if the disk is part of a set.

詳細は L<guestfs(3)/INSPECTION> を参照してください。

=head2 inspect-is-netinst

 inspect-is-netinst root

If L</inspect-get-format> returns C<installer> (this is an install disk),
then this returns true if the disk is a network installer, ie. not a
self-contained install CD but one which is likely to require network access
to complete the install.

詳細は L<guestfs(3)/INSPECTION> を参照してください。

=head2 inspect-list-applications

 inspect-list-applications root

Return the list of applications installed in the operating system.

I<Note:> This call works differently from other parts of the inspection
API.  You have to call L</inspect-os>, then L</inspect-get-mountpoints>,
then mount up the disks, before calling this.  Listing applications is a
significantly more difficult operation which requires access to the full
filesystem.  Also note that unlike the other L</inspect-get-*> calls which
are just returning data cached in the libguestfs handle, this call actually
reads parts of the mounted filesystems during the call.

This returns an empty list if the inspection code was not able to determine
the list of applications.

The application structure contains the following fields:

=over 4

=item C<app_name>

アプリケーションの名前。 Red Hat 派生および Debian 派生の Linux 仮想マシンの場合、パッケージ名になります。

=item C<app_display_name>

The display name of the application, sometimes localized to the install
language of the guest operating system.

If unavailable this is returned as an empty string C<"">.  Callers needing
to display something can use C<app_name> instead.

=item C<app_epoch>

For package managers which use epochs, this contains the epoch of the
package (an integer).  If unavailable, this is returned as C<0>.

=item C<app_version>

The version string of the application or package.  If unavailable this is
returned as an empty string C<"">.

=item C<app_release>

The release string of the application or package, for package managers that
use this.  If unavailable this is returned as an empty string C<"">.

=item C<app_install_path>

The installation path of the application (on operating systems such as
Windows which use installation paths).  This path is in the format used by
the guest operating system, it is not a libguestfs path.

If unavailable this is returned as an empty string C<"">.

=item C<app_trans_path>

The install path translated into a libguestfs path.  If unavailable this is
returned as an empty string C<"">.

=item C<app_publisher>

The name of the publisher of the application, for package managers that use
this.  If unavailable this is returned as an empty string C<"">.

=item C<app_url>

The URL (eg. upstream URL) of the application.  If unavailable this is
returned as an empty string C<"">.

=item C<app_source_package>

For packaging systems which support this, the name of the source package.
If unavailable this is returned as an empty string C<"">.

=item C<app_summary>

A short (usually one line) description of the application or package.  If
unavailable this is returned as an empty string C<"">.

=item C<app_description>

A longer description of the application or package.  If unavailable this is
returned as an empty string C<"">.

=back

詳細は L<guestfs(3)/INSPECTION> を参照してください。

=head2 inspect-os

 inspect-os

This function uses other libguestfs functions and certain heuristics to
inspect the disk(s) (usually disks belonging to a virtual machine), looking
for operating systems.

The list returned is empty if no operating systems were found.

If one operating system was found, then this returns a list with a single
element, which is the name of the root filesystem of this operating system.
It is also possible for this function to return a list containing more than
one element, indicating a dual-boot or multi-boot virtual machine, with each
element being the root filesystem of one of the operating systems.

You can pass the root string(s) returned to other L</inspect-get-*>
functions in order to query further information about each operating system,
such as the name and version.

This function uses other libguestfs features such as L</mount-ro> and
L</umount-all> in order to mount and unmount filesystems and look at the
contents.  This should be called with no disks currently mounted.  The
function may also use Augeas, so any existing Augeas handle will be closed.

This function cannot decrypt encrypted disks.  The caller must do that first
(supplying the necessary keys) if the disk is encrypted.

詳細は L<guestfs(3)/INSPECTION> を参照してください。

L</list-filesystems> 参照。

=head2 is-blockdev

 is-blockdev path

This returns C<true> if and only if there is a block device with the given
C<path> name.

L</stat> 参照。

=head2 is-chardev

 is-chardev path

This returns C<true> if and only if there is a character device with the
given C<path> name.

L</stat> 参照。

=head2 is-config

 is-config

This returns true iff this handle is being configured (in the C<CONFIG>
state).

For more information on states, see L<guestfs(3)>.

=head2 is-dir

 is-dir path

This returns C<true> if and only if there is a directory with the given
C<path> name.  Note that it returns false for other objects like files.

L</stat> 参照。

=head2 is-fifo

 is-fifo path

This returns C<true> if and only if there is a FIFO (named pipe)  with the
given C<path> name.

L</stat> 参照。

=head2 is-file

 is-file path

This returns C<true> if and only if there is a regular file with the given
C<path> name.  Note that it returns false for other objects like
directories.

L</stat> 参照。

=head2 is-launching

 is-launching

This returns true iff this handle is launching the subprocess (in the
C<LAUNCHING> state).

For more information on states, see L<guestfs(3)>.

=head2 is-lv

 is-lv device

This command tests whether C<device> is a logical volume, and returns true
iff this is the case.

=head2 is-ready

 is-ready

This returns true iff this handle is ready to accept commands (in the
C<READY> state).

For more information on states, see L<guestfs(3)>.

=head2 is-socket

 is-socket path

This returns C<true> if and only if there is a Unix domain socket with the
given C<path> name.

L</stat> 参照。

=head2 is-symlink

 is-symlink path

This returns C<true> if and only if there is a symbolic link with the given
C<path> name.

L</stat> 参照。

=head2 is-zero

 is-zero path

This returns true iff the file exists and the file is empty or it contains
all zero bytes.

=head2 is-zero-device

 is-zero-device device

This returns true iff the device exists and contains all zero bytes.

Note that for large devices this can take a long time to run.

=head2 isoinfo

 isoinfo isofile

This is the same as L</isoinfo-device> except that it works for an ISO file
located inside some other mounted filesystem.  Note that in the common case
where you have added an ISO file as a libguestfs device, you would I<not>
call this.  Instead you would call L</isoinfo-device>.

=head2 isoinfo-device

 isoinfo-device device

C<device> is an ISO device.  This returns a struct of information read from
the primary volume descriptor (the ISO equivalent of the superblock) of the
device.

Usually it is more efficient to use the L<isoinfo(1)> command with the I<-d>
option on the host to analyze ISO files, instead of going through
libguestfs.

プライマリーボリューム記述子の項目に関する詳細は、
L<http://wiki.osdev.org/ISO_9660#The_Primary_Volume_Descriptor> を参照してください。

=head2 kill-subprocess

 kill-subprocess

This kills the qemu subprocess.

Do not call this.  See: L</shutdown> instead.

I<This function is deprecated.> In new code, use the L</shutdown> call
instead.

Deprecated functions will not be removed from the API, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.

=head2 launch

=head2 run

 launch

Internally libguestfs is implemented by running a virtual machine using
L<qemu(1)>.

You should call this after configuring the handle (eg. adding drives) but
before performing any actions.

=head2 lchown

 lchown owner group path

Change the file owner to C<owner> and group to C<group>.  This is like
L</chown> but if C<path> is a symlink then the link itself is changed, not
the target.

Only numeric uid and gid are supported.  If you want to use names, you will
need to locate and parse the password file yourself (Augeas support makes
this relatively easy).

=head2 lgetxattr

 lgetxattr path name

Get a single extended attribute from file C<path> named C<name>.  If C<path>
is a symlink, then this call returns an extended attribute from the symlink.

Normally it is better to get all extended attributes from a file in one go
by calling L</getxattrs>.  However some Linux filesystem implementations are
buggy and do not provide a way to list out attributes.  For these
filesystems (notably ntfs-3g)  you have to know the names of the extended
attributes you want in advance and call this function.

Extended attribute values are blobs of binary data.  If there is no extended
attribute named C<name>, this returns an error.

関連項目: L</lgetxattrs>, L</getxattr>, L<attr(5)>

=head2 lgetxattrs

 lgetxattrs path

This is the same as L</getxattrs>, but if C<path> is a symbolic link, then
it returns the extended attributes of the link itself.

=head2 list-9p

 list-9p

List all 9p filesystems attached to the guest.  A list of mount tags is
returned.

=head2 list-devices

 list-devices

すべてのブロックデバイスを一覧表示します。

ブロックデバイスの完全名（例: C</dev/sda>）を返します。

L</list-filesystems> 参照。

=head2 list-dm-devices

 list-dm-devices

すべてのデバイスマッパーデバイスを一覧表示します。

The returned list contains C</dev/mapper/*> devices, eg. ones created by a
previous call to L</luks-open>.

Device mapper devices which correspond to logical volumes are I<not>
returned in this list.  Call L</lvs> if you want to list logical volumes.

=head2 list-filesystems

 list-filesystems

This inspection command looks for filesystems on partitions, block devices
and logical volumes, returning a list of devices containing filesystems and
their type.

The return value is a hash, where the keys are the devices containing
filesystems, and the values are the filesystem types.  For example:

 "/dev/sda1" => "ntfs"
 "/dev/sda2" => "ext2"
 "/dev/vg_guest/lv_root" => "ext4"
 "/dev/vg_guest/lv_swap" => "swap"

The value can have the special value "unknown", meaning the content of the
device is undetermined or empty.  "swap" means a Linux swap partition.

This command runs other libguestfs commands, which might include L</mount>
and L</umount>, and therefore you should use this soon after launch and only
when nothing is mounted.

Not all of the filesystems returned will be mountable.  In particular, swap
partitions are returned in the list.  Also this command does not check that
each filesystem found is valid and mountable, and some filesystems might be
mountable but require special options.  Filesystems may not all belong to a
single logical operating system (use L</inspect-os> to look for OSes).

=head2 list-md-devices

 list-md-devices

すべての Linux md デバイスを一覧表示します。

=head2 list-partitions

 list-partitions

List all the partitions detected on all block devices.

The full partition device names are returned, eg. C</dev/sda1>

これは論理ボリュームを返しません。  そのためには L</lvs> を呼び出す必要があります。

L</list-filesystems> 参照。

=head2 ll

 ll directory

List the files in C<directory> (relative to the root directory, there is no
cwd) in the format of 'ls -la'.

このコマンドはほとんどの対話式セッションのために有用です。出力文字列を構文解析しようという意図はI<ありません>。

=head2 llz

 llz directory

'ls -laZ' 形式で C<directory> にあるファイルを一覧表示します。

このコマンドはほとんどの対話式セッションのために有用です。出力文字列を構文解析しようという意図はI<ありません>。

=head2 ln

 ln target linkname

このコマンドは C<ln> コマンドを使用してハードリンクを作成します。

=head2 ln-f

 ln-f target linkname

This command creates a hard link using the C<ln -f> command.  The I<-f>
option removes the link (C<linkname>) if it exists already.

=head2 ln-s

 ln-s target linkname

このコマンドは C<ln -s> コマンドを使用してシンボリックリンクを作成します。

=head2 ln-sf

 ln-sf target linkname

This command creates a symbolic link using the C<ln -sf> command, The I<-f>
option removes the link (C<linkname>) if it exists already.

=head2 lremovexattr

 lremovexattr xattr path

This is the same as L</removexattr>, but if C<path> is a symbolic link, then
it removes an extended attribute of the link itself.

=head2 ls

 ls directory

List the files in C<directory> (relative to the root directory, there is no
cwd).  The '.' and '..' entries are not returned, but hidden files are
shown.

This command is mostly useful for interactive sessions.  Programs should
probably use L</readdir> instead.

=head2 lsetxattr

 lsetxattr xattr val vallen path

This is the same as L</setxattr>, but if C<path> is a symbolic link, then it
sets an extended attribute of the link itself.

=head2 lstat

 lstat path

与えられた C<path> のファイル情報を返します。

This is the same as L</stat> except that if C<path> is a symbolic link, then
the link is stat-ed, not the file it refers to.

これは C<lstat(2)> と同じです。

=head2 lstatlist

 lstatlist path 'names ...'

This call allows you to perform the L</lstat> operation on multiple files,
where all files are in the directory C<path>.  C<names> is the list of files
from this directory.

On return you get a list of stat structs, with a one-to-one correspondence
to the C<names> list.  If any name did not exist or could not be lstat'd,
then the C<ino> field of that structure is set to C<-1>.

This call is intended for programs that want to efficiently list a directory
contents without making many round-trips.  See also L</lxattrlist> for a
similarly efficient call for getting extended attributes.  Very long
directory listings might cause the protocol message size to be exceeded,
causing this call to fail.  The caller must split up such requests into
smaller groups of names.

=head2 luks-add-key

 luks-add-key device keyslot

This command adds a new key on LUKS device C<device>.  C<key> is any
existing key, and is used to access the device.  C<newkey> is the new key to
add.  C<keyslot> is the key slot that will be replaced.

Note that if C<keyslot> already contains a key, then this command will
fail.  You have to use L</luks-kill-slot> first to remove that key.

This command has one or more key or passphrase parameters.  Guestfish will
prompt for these separately.

=head2 luks-close

 luks-close device

This closes a LUKS device that was created earlier by L</luks-open> or
L</luks-open-ro>.  The C<device> parameter must be the name of the LUKS
mapping device (ie. C</dev/mapper/mapname>) and I<not> the name of the
underlying block device.

=head2 luks-format

 luks-format device keyslot

This command erases existing data on C<device> and formats the device as a
LUKS encrypted device.  C<key> is the initial key, which is added to key
slot C<slot>.  (LUKS supports 8 key slots, numbered 0-7).

This command has one or more key or passphrase parameters.  Guestfish will
prompt for these separately.

=head2 luks-format-cipher

 luks-format-cipher device keyslot cipher

This command is the same as L</luks-format> but it also allows you to set
the C<cipher> used.

This command has one or more key or passphrase parameters.  Guestfish will
prompt for these separately.

=head2 luks-kill-slot

 luks-kill-slot device keyslot

This command deletes the key in key slot C<keyslot> from the encrypted LUKS
device C<device>.  C<key> must be one of the I<other> keys.

This command has one or more key or passphrase parameters.  Guestfish will
prompt for these separately.

=head2 luks-open

 luks-open device mapname

This command opens a block device which has been encrypted according to the
Linux Unified Key Setup (LUKS) standard.

C<device> is the encrypted block device or partition.

The caller must supply one of the keys associated with the LUKS block
device, in the C<key> parameter.

This creates a new block device called C</dev/mapper/mapname>.  Reads and
writes to this block device are decrypted from and encrypted to the
underlying C<device> respectively.

If this block device contains LVM volume groups, then calling L</vgscan>
followed by L</vg-activate-all> will make them visible.

Use L</list-dm-devices> to list all device mapper devices.

This command has one or more key or passphrase parameters.  Guestfish will
prompt for these separately.

=head2 luks-open-ro

 luks-open-ro device mapname

This is the same as L</luks-open> except that a read-only mapping is
created.

This command has one or more key or passphrase parameters.  Guestfish will
prompt for these separately.

=head2 lvcreate

 lvcreate logvol volgroup mbytes

This creates an LVM logical volume called C<logvol> on the volume group
C<volgroup>, with C<size> megabytes.

=head2 lvcreate-free

 lvcreate-free logvol volgroup percent

Create an LVM logical volume called C</dev/volgroup/logvol>, using
approximately C<percent> % of the free space remaining in the volume group.
Most usefully, when C<percent> is C<100> this will create the largest
possible LV.

=head2 lvm-canonical-lv-name

 lvm-canonical-lv-name lvname

This converts alternative naming schemes for LVs that you might find to the
canonical name.  For example, C</dev/mapper/VG-LV> is converted to
C</dev/VG/LV>.

This command returns an error if the C<lvname> parameter does not refer to a
logical volume.

See also L</is-lv>.

=head2 lvm-clear-filter

 lvm-clear-filter

This undoes the effect of L</lvm-set-filter>.  LVM will be able to see every
block device.

This command also clears the LVM cache and performs a volume group scan.

=head2 lvm-remove-all

 lvm-remove-all

This command removes all LVM logical volumes, volume groups and physical
volumes.

=head2 lvm-set-filter

 lvm-set-filter 'devices ...'

This sets the LVM device filter so that LVM will only be able to "see" the
block devices in the list C<devices>, and will ignore all other attached
block devices.

Where disk image(s) contain duplicate PVs or VGs, this command is useful to
get LVM to ignore the duplicates, otherwise LVM can get confused.  Note also
there are two types of duplication possible: either cloned PVs/VGs which
have identical UUIDs; or VGs that are not cloned but just happen to have the
same name.  In normal operation you cannot create this situation, but you
can do it outside LVM, eg.  by cloning disk images or by bit twiddling
inside the LVM metadata.

This command also clears the LVM cache and performs a volume group scan.

You can filter whole block devices or individual partitions.

You cannot use this if any VG is currently in use (eg.  contains a mounted
filesystem), even if you are not filtering out that VG.

=head2 lvremove

 lvremove device

Remove an LVM logical volume C<device>, where C<device> is the path to the
LV, such as C</dev/VG/LV>.

You can also remove all LVs in a volume group by specifying the VG name,
C</dev/VG>.

=head2 lvrename

 lvrename logvol newlogvol

Rename a logical volume C<logvol> with the new name C<newlogvol>.

=head2 lvresize

 lvresize device mbytes

これは既存の LVM 論理ボリュームを C<mbytes> に容量変更（拡大または縮小）します。縮小するとき、縮小された部分にあるデータは失われます。

=head2 lvresize-free

 lvresize-free lv percent

This expands an existing logical volume C<lv> so that it fills C<pc>% of the
remaining free space in the volume group.  Commonly you would call this with
pc = 100 which expands the logical volume as much as possible, using all
remaining free space in the volume group.

=head2 lvs

 lvs

List all the logical volumes detected.  This is the equivalent of the
L<lvs(8)> command.

これは論理ボリュームのデバイス名（例: C</dev/VolGroup00/LogVol00>）の一覧を返します。

L</lvs-full>, L</list-filesystems> 参照。

=head2 lvs-full

 lvs-full

List all the logical volumes detected.  This is the equivalent of the
L<lvs(8)> command.  The "full" version includes all fields.

=head2 lvuuid

 lvuuid device

このコマンドは LVM 論理ボリューム C<device> の UUID を返します。

=head2 lxattrlist

 lxattrlist path 'names ...'

This call allows you to get the extended attributes of multiple files, where
all files are in the directory C<path>.  C<names> is the list of files from
this directory.

On return you get a flat list of xattr structs which must be interpreted
sequentially.  The first xattr struct always has a zero-length C<attrname>.
C<attrval> in this struct is zero-length to indicate there was an error
doing C<lgetxattr> for this file, I<or> is a C string which is a decimal
number (the number of following attributes for this file, which could be
C<"0">).  Then after the first xattr struct are the zero or more attributes
for the first named file.  This repeats for the second and subsequent files.

This call is intended for programs that want to efficiently list a directory
contents without making many round-trips.  See also L</lstatlist> for a
similarly efficient call for getting standard stats.  Very long directory
listings might cause the protocol message size to be exceeded, causing this
call to fail.  The caller must split up such requests into smaller groups of
names.

=head2 md-create

 md-create name 'devices ...' [missingbitmap:N] [nrdevices:N] [spare:N] [chunk:N] [level:..]

Create a Linux md (RAID) device named C<name> on the devices in the list
C<devices>.

オプションのパラメーターは次のとおりです:

=over 4

=item C<missingbitmap>

A bitmap of missing devices.  If a bit is set it means that a missing device
is added to the array.  The least significant bit corresponds to the first
device in the array.

例として:

C<devices = ["/dev/sda"]> かつ C<missingbitmap = 0x1> ならば、結果の配列は
C<[E<lt>missingE<gt>, "/dev/sda"]> になります。

C<devices = ["/dev/sda"]> かつ C<missingbitmap = 0x2> ならば、結果の配列は
C<["/dev/sda", E<lt>missingE<gt>]> になります。

この初期値は C<0> です（デバイスがありません）。

C<devices> の長さ + C<missingbitmap> に設定されたビット数は C<nrdevices> + C<spare>
と同じである必要があります。

=item C<nrdevices>

稼動中の RAID デバイス数。

設定されていないと、この初期値は C<devices> の長さ + C<missingbitmap> に設定されたビット数になります。

=item C<spare>

予備デバイス数。

設定されていなければ、デフォルトは C<0> です。

=item C<chunk>

バイト単位のチャンク容量です。

=item C<level>

RAID レベルです。次のどれかです: I<linear>, I<raid0>, I<0>, I<stripe>, I<raid1>, I<1>,
I<mirror>, I<raid4>, I<4>, I<raid5>, I<5>, I<raid6>, I<6>, I<raid10>,
I<10>。これらのいくつかは同じものを意味しています。将来さらなるレベルが追加される可能性があります。

設定されていないと、この初期値は C<raid1> です。

=back

This command has one or more optional arguments.  See L</OPTIONAL
ARGUMENTS>.

=head2 md-detail

 md-detail md

This command exposes the output of 'mdadm -DY E<lt>mdE<gt>'.  The following
fields are usually present in the returned hash.  Other fields may also be
present.

=over 

=item C<level>

MD デバイスの RAID レベル。

=item C<devices>

MD デバイスにあるデバイス数。

=item C<metadata>

使用されているメタ情報のバージョン。

=item C<uuid>

MD デバイスの UUID。

=item C<name>

MD デバイスの名前。

=back

=head2 md-stat

 md-stat md

This call returns a list of the underlying devices which make up the single
software RAID array device C<md>.

ソフトウェア RAID デバイスの一覧を取得するには、L</list-md-devices> を呼び出します。

Each structure returned corresponds to one device along with additional
status information:

=over 4

=item C<mdstat_device>

下にあるデバイスの名前です。

=item C<mdstat_index>

配列の中にあるこのデバイスのインデックスです。

=item C<mdstat_flags>

Flags associated with this device.  This is a string containing (in no
specific order) zero or more of the following flags:

=over 4

=item C<W>

ほとんど書き込み

=item C<F>

デバイス故障

=item C<S>

RAIDスペアデバイス

=item C<R>

置換

=back

=back

=head2 md-stop

 md-stop md

This command deactivates the MD array named C<md>.  The device is stopped,
but it is not destroyed or zeroed.

=head2 mkdir

 mkdir path

C<path> という名前のディレクトリーを作成します。

=head2 mkdir-mode

 mkdir-mode path mode

This command creates a directory, setting the initial permissions of the
directory to C<mode>.

For common Linux filesystems, the actual mode which is set will be C<mode &
~umask & 01777>.  Non-native-Linux filesystems may interpret the mode in
other ways.

L</mkdir>, L</umask> 参照。

=head2 mkdir-p

 mkdir-p path

Create a directory named C<path>, creating any parent directories as
necessary.  This is like the C<mkdir -p> shell command.

=head2 mkdtemp

 mkdtemp tmpl

This command creates a temporary directory.  The C<tmpl> parameter should be
a full pathname for the temporary directory name with the final six
characters being "XXXXXX".

例: "/tmp/myprogXXXXXX" または "/Temp/myprogXXXXXX"、2 つめの例は Windows
ファイルシステムに適しています。

作成された一時ディレクトリーの名前を返します。

一時ディレクトリーがモード 0700 で作成され、root により所有されます。

The caller is responsible for deleting the temporary directory and its
contents after use.

関連項目: L<mkdtemp(3)>

=head2 mke2fs-J

 mke2fs-J fstype blocksize device journal

This creates an ext2/3/4 filesystem on C<device> with an external journal on
C<journal>.  It is equivalent to the command:

 mke2fs -t fstype -b blocksize -J device=<journal> <device>

L</mke2journal> 参照。

=head2 mke2fs-JL

 mke2fs-JL fstype blocksize device label

This creates an ext2/3/4 filesystem on C<device> with an external journal on
the journal labeled C<label>.

L</mke2journal-L> 参照。

=head2 mke2fs-JU

 mke2fs-JU fstype blocksize device uuid

This creates an ext2/3/4 filesystem on C<device> with an external journal on
the journal with UUID C<uuid>.

L</mke2journal-U> 参照。

=head2 mke2journal

 mke2journal blocksize device

This creates an ext2 external journal on C<device>.  It is equivalent to the
command:

 mke2fs -O journal_dev -b blocksize device

=head2 mke2journal-L

 mke2journal-L blocksize label device

This creates an ext2 external journal on C<device> with label C<label>.

=head2 mke2journal-U

 mke2journal-U blocksize uuid device

This creates an ext2 external journal on C<device> with UUID C<uuid>.

=head2 mkfifo

 mkfifo mode path

This call creates a FIFO (named pipe) called C<path> with mode C<mode>.  It
is just a convenient wrapper around L</mknod>.

実際に設定されるモードは umask により影響されます。

=head2 mkfs

 mkfs fstype device

This creates a filesystem on C<device> (usually a partition or LVM logical
volume).  The filesystem type is C<fstype>, for example C<ext3>.

=head2 mkfs-b

 mkfs-b fstype blocksize device

This call is similar to L</mkfs>, but it allows you to control the block
size of the resulting filesystem.  Supported block sizes depend on the
filesystem type, but typically they are C<1024>, C<2048> or C<4096> only.

For VFAT and NTFS the C<blocksize> parameter is treated as the requested
cluster size.

I<This function is deprecated.> In new code, use the L</mkfs_opts> call
instead.

Deprecated functions will not be removed from the API, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.

=head2 mkfs-btrfs

 mkfs-btrfs 'devices ...' [allocstart:N] [bytecount:N] [datatype:..] [leafsize:N] [label:..] [metadata:..] [nodesize:N] [sectorsize:N]

すべての設定可能なものについて設定を許可して、btrfs ファイルシステムを作成します。オプション引数の詳細は L<mkfs.btrfs(8)>
を参照してください。

btrfs ファイルシステムは複数のデバイスを結合できるので、これは非空白のデバイス一覧をとります。

To create general filesystems, use L</mkfs-opts>.

This command has one or more optional arguments.  See L</OPTIONAL
ARGUMENTS>.

=head2 mkfs-opts

 mkfs-opts fstype device [blocksize:N] [features:..] [inode:N] [sectorsize:N]

This function creates a filesystem on C<device>.  The filesystem type is
C<fstype>, for example C<ext3>.

オプション引数は次のとおりです:

=over 4

=item C<blocksize>

ファイルシステムのブロック容量です。サポートされるブロック容量は、ファイルシステムの形式に依存します。一般的に Linux ext2/3
ファイルシステムには C<1024>, C<2048> または C<4096> です。

For VFAT and NTFS the C<blocksize> parameter is treated as the requested
cluster size.

UFS ブロック容量は L<mkfs.ufs(8)> を参照してください。

=item C<特徴>

これは I<-O> パラメーターを外部の mkfs プログラムに渡します。

特定のファイルシステム形式には、追加のファイルシステム機能が選択できます。詳細は L<mke2fs(8)> および L<mkfs.ufs(8)>
を参照してください。

C<gfs> または C<gfs2> ファイルシステム形式ではこのオプションのパラメーターを使用できません。

=item C<inode>

This passes the I<-I> parameter to the external L<mke2fs(8)> program which
sets the inode size (only for ext2/3/4 filesystems at present).

=item C<sectorsize>

This passes the I<-S> parameter to external L<mkfs.ufs(8)> program, which
sets sector size for ufs filesystem.

=back

This command has one or more optional arguments.  See L</OPTIONAL
ARGUMENTS>.

=head2 mkmountpoint

 mkmountpoint exemptpath

L</mkmountpoint> and L</rmmountpoint> are specialized calls that can be used
to create extra mountpoints before mounting the first filesystem.

These calls are I<only> necessary in some very limited circumstances, mainly
the case where you want to mount a mix of unrelated and/or read-only
filesystems together.

For example, live CDs often contain a "Russian doll" nest of filesystems, an
ISO outer layer, with a squashfs image inside, with an ext2/3 image inside
that.  You can unpack this as follows in guestfish:

 add-ro Fedora-11-i686-Live.iso
 run
 mkmountpoint /cd
 mkmountpoint /sqsh
 mkmountpoint /ext3fs
 mount /dev/sda /cd
 mount-loop /cd/LiveOS/squashfs.img /sqsh
 mount-loop /sqsh/LiveOS/ext3fs.img /ext3fs

The inner filesystem is now unpacked under the /ext3fs mountpoint.

L</mkmountpoint> is not compatible with L</umount-all>.  You may get
unexpected errors if you try to mix these calls.  It is safest to manually
unmount filesystems and remove mountpoints after use.

L</umount-all> unmounts filesystems by sorting the paths longest first, so
for this to work for manual mountpoints, you must ensure that the innermost
mountpoints have the longest pathnames, as in the example code above.

詳細は L<https://bugzilla.redhat.com/show_bug.cgi?id=599503> を参照してください

Autosync [see L</set-autosync>, this is set by default on handles] can cause
L</umount-all> to be called when the handle is closed which can also trigger
these issues.

=head2 mknod

 mknod mode devmajor devminor path

This call creates block or character special devices, or named pipes
(FIFOs).

The C<mode> parameter should be the mode, using the standard constants.
C<devmajor> and C<devminor> are the device major and minor numbers, only
used when creating block and character special devices.

Note that, just like L<mknod(2)>, the mode must be bitwise OR'd with
S_IFBLK, S_IFCHR, S_IFIFO or S_IFSOCK (otherwise this call just creates a
regular file).  These constants are available in the standard Linux header
files, or you can use L</mknod-b>, L</mknod-c> or L</mkfifo> which are
wrappers around this command which bitwise OR in the appropriate constant
for you.

実際に設定されるモードは umask により影響されます。

=head2 mknod-b

 mknod-b mode devmajor devminor path

This call creates a block device node called C<path> with mode C<mode> and
device major/minor C<devmajor> and C<devminor>.  It is just a convenient
wrapper around L</mknod>.

実際に設定されるモードは umask により影響されます。

=head2 mknod-c

 mknod-c mode devmajor devminor path

This call creates a char device node called C<path> with mode C<mode> and
device major/minor C<devmajor> and C<devminor>.  It is just a convenient
wrapper around L</mknod>.

実際に設定されるモードは umask により影響されます。

=head2 mkswap

 mkswap device

C<device> に swap パーティションを作成します。

=head2 mkswap-L

 mkswap-L label device

ラベル C<label> を持つ C<device> に swap パーティションを作成します。

Note that you cannot attach a swap label to a block device
(eg. C</dev/sda>), just to a partition.  This appears to be a limitation of
the kernel or swap tools.

=head2 mkswap-U

 mkswap-U uuid device

UUID C<uuid> の C<device> に swap パーティションを作成します。

=head2 mkswap-file

 mkswap-file path

swap ファイルを作成します。

This command just writes a swap file signature to an existing file.  To
create the file itself, use something like L</fallocate>.

=head2 modprobe

 modprobe modulename

アプライアンスにカーネルモジュールを読み込みます。

The kernel module must have been whitelisted when libguestfs was built (see
C<appliance/kmod.whitelist.in> in the source).

=head2 mount

 mount device mountpoint

Mount a guest disk at a position in the filesystem.  Block devices are named
C</dev/sda>, C</dev/sdb> and so on, as they were added to the guest.  If
those block devices contain partitions, they will have the usual names
(eg. C</dev/sda1>).  Also LVM C</dev/VG/LV>-style names can be used.

The rules are the same as for L<mount(2)>: A filesystem must first be
mounted on C</> before others can be mounted.  Other filesystems can only be
mounted on directories which already exist.

The mounted filesystem is writable, if we have sufficient permissions on the
underlying device.

Before libguestfs 1.13.16, this call implicitly added the options C<sync>
and C<noatime>.  The C<sync> option greatly slowed writes and caused many
problems for users.  If your program might need to work with older versions
of libguestfs, use L</mount-options> instead (using an empty string for the
first parameter if you don't want any options).

=head2 mount-9p

 mount-9p mounttag mountpoint [options:..]

タグ C<mounttag> を持つ virtio-9p ファイルシステムをディレクトリ C<mountpoint> にマウントします。

If required, C<trans=virtio> will be automatically added to the options.
Any other options required can be passed in the optional C<options>
parameter.

This command has one or more optional arguments.  See L</OPTIONAL
ARGUMENTS>.

=head2 ローカルマウント

 mount-local localmountpoint [readonly:true|false] [options:..] [cachetimeout:N] [debugcalls:true|false]

This call exports the libguestfs-accessible filesystem to a local mountpoint
(directory) called C<localmountpoint>.  Ordinary reads and writes to files
and directories under C<localmountpoint> are redirected through libguestfs.

If the optional C<readonly> flag is set to true, then writes to the
filesystem return error C<EROFS>.

C<options> is a comma-separated list of mount options.  See L<guestmount(1)>
for some useful options.

C<cachetimeout> sets the timeout (in seconds) for cached directory entries.
The default is 60 seconds.  See L<guestmount(1)> for further information.

If C<debugcalls> is set to true, then additional debugging information is
generated for every FUSE call.

When L</mount-local> returns, the filesystem is ready, but is not processing
requests (access to it will block).  You have to call L</mount-local-run> to
run the main loop.

完全なドキュメントは L<guestfs(3)/MOUNT LOCAL> を参照してください。

This command has one or more optional arguments.  See L</OPTIONAL
ARGUMENTS>.

=head2 mount-local-run

 mount-local-run

Run the main loop which translates kernel calls to libguestfs calls.

This should only be called after L</mount-local> returns successfully.  The
call will not return until the filesystem is unmounted.

B<Note> you must I<not> make concurrent libguestfs calls on the same handle
from another thread, with the exception of L</umount-local>.

You may call this from a different thread than the one which called
L</mount-local>, subject to the usual rules for threads and libguestfs (see
L<guestfs(3)/MULTIPLE HANDLES AND MULTIPLE THREADS>).

完全なドキュメントは L<guestfs(3)/MOUNT LOCAL> を参照してください。

=head2 mount-loop

 mount-loop file mountpoint

This command lets you mount C<file> (a filesystem image in a file) on a
mount point.  It is entirely equivalent to the command C<mount -o loop file
mountpoint>.

=head2 mount-options

 mount-options options device mountpoint

This is the same as the L</mount> command, but it allows you to set the
mount options as for the L<mount(8)> I<-o> flag.

If the C<options> parameter is an empty string, then no options are passed
(all options default to whatever the filesystem uses).

=head2 mount-ro

 mount-ro device mountpoint

This is the same as the L</mount> command, but it mounts the filesystem with
the read-only (I<-o ro>) flag.

=head2 mount-vfs

 mount-vfs options vfstype device mountpoint

This is the same as the L</mount> command, but it allows you to set both the
mount options and the vfstype as for the L<mount(8)> I<-o> and I<-t> flags.

=head2 mountpoints

 mountpoints

This call is similar to L</mounts>.  That call returns a list of devices.
This one returns a hash table (map) of device name to directory where the
device is mounted.

=head2 mounts

 mounts

This returns the list of currently mounted filesystems.  It returns the list
of devices (eg. C</dev/sda1>, C</dev/VG/LV>).

Some internal mounts are not shown.

関連項目: L</mountpoints>

=head2 mv

 mv src dest

This moves a file from C<src> to C<dest> where C<dest> is either a
destination filename or destination directory.

=head2 nr-devices

 nr-devices

This returns the number of whole block devices that were added.  This is the
same as the number of devices that would be returned if you called
L</list-devices>.

To find out the maximum number of devices that could be added, call
L</max-disks>.

=head2 ntfs-3g-probe

 ntfs-3g-probe true|false device

This command runs the L<ntfs-3g.probe(8)> command which probes an NTFS
C<device> for mountability.  (Not all NTFS volumes can be mounted
read-write, and some cannot be mounted at all).

C<rw> is a boolean flag.  Set it to true if you want to test if the volume
can be mounted read-write.  Set it to false if you want to test if the
volume can be mounted read-only.

The return value is an integer which C<0> if the operation would succeed, or
some non-zero value documented in the L<ntfs-3g.probe(8)> manual page.

=head2 ntfsclone-in

 ntfsclone-in (backupfile|-) device

C<backupfile> を(前に C</ntfsclone-out> を呼び出したところから)  C<device>
に復元します。このデバイスの既存の内容はすべて上書きされます。

Use C<-> instead of a filename to read/write from stdin/stdout.

=head2 ntfsclone-out

 ntfsclone-out device (backupfile|-) [metadataonly:true|false] [rescue:true|false] [ignorefscheck:true|false] [preservetimestamps:true|false] [force:true|false]

Stream the NTFS filesystem C<device> to the local file C<backupfile>.  The
format used for the backup file is a special format used by the
L<ntfsclone(8)> tool.

If the optional C<metadataonly> flag is true, then I<only> the metadata is
saved, losing all the user data (this is useful for diagnosing some
filesystem problems).

オプションの C<rescue>, C<ignorefscheck>, C<preservetimestamps> および C<force> フラグは
L<ntfsclone(8)> マニュアルページに詳細な意味が説明されています。

ファイルを libguestfs デバイスに復元するには L</ntfsclone-in> を使用します。

Use C<-> instead of a filename to read/write from stdin/stdout.

This command has one or more optional arguments.  See L</OPTIONAL
ARGUMENTS>.

=head2 ntfsfix

 ntfsfix device [clearbadsectors:true|false]

このコマンドは、いくつかの基本的な NTFS の不整合を修復し、 NTFS ジャーナルファイルをリセットし、次回 Windows 起動時に NTFS
完全性チェックをスケジュール化します。

これは Windows の C<chkdsk> と同等では I<ありません> 。不整合に対してファイルシステムをスキャン I<しません> 。

オプションの C<clearbadsectors>
フラグは不良セクターの一覧をクリアします。不良セクターを持つディスクを新しいディスクにクローンした後に有用です。

This command has one or more optional arguments.  See L</OPTIONAL
ARGUMENTS>.

=head2 ntfsresize

 ntfsresize device

This command resizes an NTFS filesystem, expanding or shrinking it to the
size of the underlying device.

I<Note:> After the resize operation, the filesystem is marked as requiring a
consistency check (for safety).  You have to boot into Windows to perform
this check and clear this condition.  Furthermore, ntfsresize refuses to
resize filesystems which have been marked in this way.  So in effect it is
not possible to call ntfsresize multiple times on a single filesystem
without booting into Windows between each resize.

L<ntfsresize(8)> 参照。

I<This function is deprecated.> In new code, use the L</ntfsresize_opts>
call instead.

Deprecated functions will not be removed from the API, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.

=head2 ntfsresize-opts

 ntfsresize-opts device [size:N] [force:true|false]

This command resizes an NTFS filesystem, expanding or shrinking it to the
size of the underlying device.

オプションのパラメーターは次のとおりです:

=over 4

=item C<size>

The new size (in bytes) of the filesystem.  If omitted, the filesystem is
resized to fit the container (eg. partition).

=item C<force>

If this option is true, then force the resize of the filesystem even if the
filesystem is marked as requiring a consistency check.

After the resize operation, the filesystem is always marked as requiring a
consistency check (for safety).  You have to boot into Windows to perform
this check and clear this condition.  If you I<don't> set the C<force>
option then it is not possible to call L</ntfsresize-opts> multiple times on
a single filesystem without booting into Windows between each resize.

=back

L<ntfsresize(8)> 参照。

This command has one or more optional arguments.  See L</OPTIONAL
ARGUMENTS>.

=head2 ntfsresize-size

 ntfsresize-size device size

This command is the same as L</ntfsresize> except that it allows you to
specify the new size (in bytes) explicitly.

I<This function is deprecated.> In new code, use the L</ntfsresize_opts>
call instead.

Deprecated functions will not be removed from the API, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.

=head2 part-add

 part-add device prlogex startsect endsect

This command adds a partition to C<device>.  If there is no partition table
on the device, call L</part-init> first.

The C<prlogex> parameter is the type of partition.  Normally you should pass
C<p> or C<primary> here, but MBR partition tables also support C<l> (or
C<logical>) and C<e> (or C<extended>) partition types.

C<startsect> and C<endsect> are the start and end of the partition in
I<sectors>.  C<endsect> may be negative, which means it counts backwards
from the end of the disk (C<-1> is the last sector).

Creating a partition which covers the whole disk is not so easy.  Use
L</part-disk> to do that.

=head2 part-del

 part-del device partnum

このコマンドは C<device> にある C<partnum> 番のパーティションを削除します。

Note that in the case of MBR partitioning, deleting an extended partition
also deletes any logical partitions it contains.

=head2 part-disk

 part-disk device parttype

This command is simply a combination of L</part-init> followed by
L</part-add> to create a single primary partition covering the whole disk.

C<parttype> is the partition table type, usually C<mbr> or C<gpt>, but other
possible values are described in L</part-init>.

=head2 part-get-bootable

 part-get-bootable device partnum

This command returns true if the partition C<partnum> on C<device> has the
bootable flag set.

L</part-set-bootable> 参照。

=head2 part-get-mbr-id

 part-get-mbr-id device partnum

Returns the MBR type byte (also known as the ID byte) from the numbered
partition C<partnum>.

Note that only MBR (old DOS-style) partitions have type bytes.  You will get
undefined results for other partition table types (see
L</part-get-parttype>).

=head2 part-get-parttype

 part-get-parttype device

This command examines the partition table on C<device> and returns the
partition table type (format) being used.

Common return values include: C<msdos> (a DOS/Windows style MBR partition
table), C<gpt> (a GPT/EFI-style partition table).  Other values are
possible, although unusual.  See L</part-init> for a full list.

=head2 part-init

 part-init device parttype

This creates an empty partition table on C<device> of one of the partition
types listed below.  Usually C<parttype> should be either C<msdos> or C<gpt>
(for large disks).

Initially there are no partitions.  Following this, you should call
L</part-add> for each partition required.

Possible values for C<parttype> are:

=over 4

=item B<efi>

=item B<gpt>

Intel EFI / GPT パーティションテーブル。

This is recommended for >= 2 TB partitions that will be accessed from Linux
and Intel-based Mac OS X.  It also has limited backwards compatibility with
the C<mbr> format.

=item B<mbr>

=item B<msdos>

The standard PC "Master Boot Record" (MBR) format used by MS-DOS and
Windows.  This partition type will B<only> work for device sizes up to 2
TB.  For large disks we recommend using C<gpt>.

=back

Other partition table types that may work but are not supported include:

=over 4

=item B<aix>

AIX ディスクラベル。

=item B<amiga>

=item B<rdb>

Amiga "Rigid Disk Block" 形式。

=item B<bsd>

BSD ディスクラベル.

=item B<dasd>

DASD, IBM メインフレームにおいて使用.

=item B<dvh>

MIPS/SGI ボリューム.

=item B<mac>

古い Mac パーティション形式。最近の Mac は C<gpt> を使用します。

=item B<pc98>

NEC PC-98 形式。日本において一般的に見られます。

=item B<sun>

Sun ディスクラベル

=back

=head2 part-list

 part-list device

This command parses the partition table on C<device> and returns the list of
partitions found.

The fields in the returned structure are:

=over 4

=item B<part_num>

パーティション番号。1 から数えます。

=item B<part_start>

I<バイト単位>のパーティション開始位置。セクターを取得するには、デバイスのセクター容量で割り算する必要があります。
L</blockdev-getss> 参照。

=item B<part_end>

バイト単位のパーティションの終了位置。

=item B<part_size>

バイト単位のパーティション容量。

=back

=head2 part-set-bootable

 part-set-bootable device partnum true|false

デバイス C<device> のパーティション番号 C<partnum> にブート可能フラグを設定します。パーティションは 1
から番号が始まることに注意してください。

The bootable flag is used by some operating systems (notably Windows) to
determine which partition to boot from.  It is by no means universally
recognized.

=head2 part-set-mbr-id

 part-set-mbr-id device partnum idbyte

Sets the MBR type byte (also known as the ID byte) of the numbered partition
C<partnum> to C<idbyte>.  Note that the type bytes quoted in most
documentation are in fact hexadecimal numbers, but usually documented
without any leading "0x" which might be confusing.

Note that only MBR (old DOS-style) partitions have type bytes.  You will get
undefined results for other partition table types (see
L</part-get-parttype>).

=head2 part-set-name

 part-set-name device partnum name

This sets the partition name on partition numbered C<partnum> on device
C<device>.  Note that partitions are numbered from 1.

The partition name can only be set on certain types of partition table.
This works on C<gpt> but not on C<mbr> partitions.

=head2 part-to-dev

 part-to-dev partition

This function takes a partition name (eg. "/dev/sdb1") and removes the
partition number, returning the device name (eg. "/dev/sdb").

The named partition must exist, for example as a string returned from
L</list-partitions>.

See also L</part-to-partnum>, L</device-index>.

=head2 part-to-partnum

 part-to-partnum partition

This function takes a partition name (eg. "/dev/sdb1") and returns the
partition number (eg. C<1>).

The named partition must exist, for example as a string returned from
L</list-partitions>.

L</part-to-dev> 参照。

=head2 ping-daemon

 ping-daemon

This is a test probe into the guestfs daemon running inside the qemu
subprocess.  Calling this function checks that the daemon responds to the
ping message, without affecting the daemon or attached block device(s) in
any other way.

=head2 pread

 pread path count offset

This command lets you read part of a file.  It reads C<count> bytes of the
file, starting at C<offset>, from file C<path>.

This may read fewer bytes than requested.  For further details see the
L<pread(2)> system call.

L</pwrite>, L</pread-device> 参照。

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 pread-device

 pread-device device count offset

This command lets you read part of a file.  It reads C<count> bytes of
C<device>, starting at C<offset>.

This may read fewer bytes than requested.  For further details see the
L<pread(2)> system call.

L</pread> 参照。

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 pvcreate

 pvcreate device

This creates an LVM physical volume on the named C<device>, where C<device>
should usually be a partition name such as C</dev/sda1>.

=head2 pvremove

 pvremove device

This wipes a physical volume C<device> so that LVM will no longer recognise
it.

The implementation uses the C<pvremove> command which refuses to wipe
physical volumes that contain any volume groups, so you have to remove those
first.

=head2 pvresize

 pvresize device

This resizes (expands or shrinks) an existing LVM physical volume to match
the new size of the underlying device.

=head2 pvresize-size

 pvresize-size device size

This command is the same as L</pvresize> except that it allows you to
specify the new size (in bytes) explicitly.

=head2 pvs

 pvs

List all the physical volumes detected.  This is the equivalent of the
L<pvs(8)> command.

This returns a list of just the device names that contain PVs
(eg. C</dev/sda2>).

L</pvs-full> 参照。

=head2 pvs-full

 pvs-full

List all the physical volumes detected.  This is the equivalent of the
L<pvs(8)> command.  The "full" version includes all fields.

=head2 pvuuid

 pvuuid device

This command returns the UUID of the LVM PV C<device>.

=head2 pwrite

 pwrite path content offset

This command writes to part of a file.  It writes the data buffer C<content>
to the file C<path> starting at offset C<offset>.

This command implements the L<pwrite(2)> system call, and like that system
call it may not write the full data requested.  The return value is the
number of bytes that were actually written to the file.  This could even be
0, although short writes are unlikely for regular files in ordinary
circumstances.

L</pread>, L</pwrite-device> 参照。

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 pwrite-device

 pwrite-device device content offset

This command writes to part of a device.  It writes the data buffer
C<content> to C<device> starting at offset C<offset>.

This command implements the L<pwrite(2)> system call, and like that system
call it may not write the full data requested (although short writes to disk
devices and partitions are probably impossible with standard Linux kernels).

L</pwrite> 参照。

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 read-file

 read-file path

This calls returns the contents of the file C<path> as a buffer.

Unlike L</cat>, this function can correctly handle files that contain
embedded ASCII NUL characters.  However unlike L</download>, this function
is limited in the total size of file that can be handled.

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 read-lines

 read-lines path

C<path> という名前のファイルの内容を返します。

The file contents are returned as a list of lines.  Trailing C<LF> and
C<CRLF> character sequences are I<not> returned.

Note that this function cannot correctly handle binary files (specifically,
files containing C<\0> character which is treated as end of line).  For
those you need to use the L</read-file> function which has a more complex
interface.

=head2 readdir

 readdir dir

This returns the list of directory entries in directory C<dir>.

All entries in the directory are returned, including C<.> and C<..>.  The
entries are I<not> sorted, but returned in the same order as the underlying
filesystem.

Also this call returns basic file type information about each file.  The
C<ftyp> field will contain one of the following characters:

=over 4

=item 'b'

ブロック特殊

=item 'c'

キャラクター特殊

=item 'd'

ディレクトリ

=item 'f'

FIFO (名前付きパイプ)

=item 'l'

シンボリックリンク

=item 'r'

通常のファイル

=item 's'

ソケット

=item 'u'

未知のファイル種別

=item '?'

The L<readdir(3)> call returned a C<d_type> field with an unexpected value

=back

This function is primarily intended for use by programs.  To get a simple
list of names, use L</ls>.  To get a printable directory for human
consumption, use L</ll>.

=head2 readlink

 readlink path

このコマンドはシンボリックリンクの参照先を読み込みます。

=head2 readlinklist

 readlinklist path 'names ...'

This call allows you to do a C<readlink> operation on multiple files, where
all files are in the directory C<path>.  C<names> is the list of files from
this directory.

On return you get a list of strings, with a one-to-one correspondence to the
C<names> list.  Each string is the value of the symbolic link.

If the C<readlink(2)> operation fails on any name, then the corresponding
result string is the empty string C<"">.  However the whole operation is
completed even if there were C<readlink(2)> errors, and so you can call this
function with names where you don't know if they are symbolic links already
(albeit slightly less efficient).

This call is intended for programs that want to efficiently list a directory
contents without making many round-trips.  Very long directory listings
might cause the protocol message size to be exceeded, causing this call to
fail.  The caller must split up such requests into smaller groups of names.

=head2 realpath

 realpath path

Return the canonicalized absolute pathname of C<path>.  The returned path
has no C<.>, C<..> or symbolic link path elements.

=head2 removexattr

 removexattr xattr path

This call removes the extended attribute named C<xattr> of the file C<path>.

関連項目: L</lremovexattr>, L<attr(5)>

=head2 resize2fs

 resize2fs device

This resizes an ext2, ext3 or ext4 filesystem to match the size of the
underlying device.

See also L<guestfs(3)/RESIZE2FS ERRORS>.

=head2 resize2fs-M

 resize2fs-M device

This command is the same as L</resize2fs>, but the filesystem is resized to
its minimum size.  This works like the I<-M> option to the C<resize2fs>
command.

To get the resulting size of the filesystem you should call L</tune2fs-l>
and read the C<Block size> and C<Block count> values.  These two numbers,
multiplied together, give the resulting size of the minimal filesystem in
bytes.

See also L<guestfs(3)/RESIZE2FS ERRORS>.

=head2 resize2fs-size

 resize2fs-size device size

This command is the same as L</resize2fs> except that it allows you to
specify the new size (in bytes) explicitly.

See also L<guestfs(3)/RESIZE2FS ERRORS>.

=head2 rm

 rm path

単一ファイル C<path> を削除します。

=head2 rm-rf

 rm-rf path

Remove the file or directory C<path>, recursively removing the contents if
its a directory.  This is like the C<rm -rf> shell command.

=head2 rmdir

 rmdir path

単一ディレクトリ C<path> を削除します。

=head2 rmmountpoint

 rmmountpoint exemptpath

This calls removes a mountpoint that was previously created with
L</mkmountpoint>.  See L</mkmountpoint> for full details.

=head2 scrub-device

 scrub-device device

This command writes patterns over C<device> to make data retrieval more
difficult.

It is an interface to the L<scrub(1)> program.  See that manual page for
more details.

=head2 scrub-file

 scrub-file file

This command writes patterns over a file to make data retrieval more
difficult.

The file is I<removed> after scrubbing.

It is an interface to the L<scrub(1)> program.  See that manual page for
more details.

=head2 scrub-freespace

 scrub-freespace dir

This command creates the directory C<dir> and then fills it with files until
the filesystem is full, and scrubs the files as for L</scrub-file>, and
deletes them.  The intention is to scrub any free space on the partition
containing C<dir>.

It is an interface to the L<scrub(1)> program.  See that manual page for
more details.

=head2 set-append

=head2 append

 set-append append

この関数は、追加のオプションを仮想マシンのカーネルコマンドラインに追加するために使用されます。

C<LIBGUESTFS_APPEND> 環境変数を設定して上書きされなければ、デフォルトは C<NULL> です。

C<append> を C<NULL> に設定することは、追加のオプションが渡され I<ない> ことを意味します（libguestfs
は常に自身のいくつかを追加します）。

=head2 set-attach-method

=head2 attach-method

 set-attach-method attachmethod

Set the method that libguestfs uses to connect to the back end guestfsd
daemon.  Possible methods are:

=over 4

=item C<appliance>

Launch an appliance and connect to it.  This is the ordinary method and the
default.

=item C<unix:I<path>>

Connect to the Unix domain socket I<path>.

This method lets you connect to an existing daemon or (using virtio-serial)
to a live guest.  For more information, see L<guestfs(3)/ATTACHING TO
RUNNING DAEMONS>.

=back

=head2 set-autosync

=head2 autosync

 set-autosync true|false

If C<autosync> is true, this enables autosync.  Libguestfs will make a best
effort attempt to make filesystems consistent and synchronized when the
handle is closed (also if the program exits without closing handles).

デフォルトで有効です（libguestfs 1.5.24 以降、以前は デフォルトで無効でした）。

=head2 set-direct

=head2 direct

 set-direct true|false

If the direct appliance mode flag is enabled, then stdin and stdout are
passed directly through to the appliance once it is launched.

One consequence of this is that log messages aren't caught by the library
and handled by L</set-log-message-callback>, but go straight to stdout.

You probably don't want to use this unless you know what you are doing.

デフォルトは無効です。

=head2 set-e2attrs

 set-e2attrs file attrs [clear:true|false]

This sets or clears the file attributes C<attrs> associated with the inode
C<file>.

C<attrs> is a string of characters representing file attributes.  See
L</get-e2attrs> for a list of possible attributes.  Not all attributes can
be changed.

If optional boolean C<clear> is not present or false, then the C<attrs>
listed are set in the inode.

If C<clear> is true, then the C<attrs> listed are cleared in the inode.

In both cases, other attributes not present in the C<attrs> string are left
unchanged.

These attributes are only present when the file is located on an ext2/3/4
filesystem.  Using this call on other filesystem types will result in an
error.

This command has one or more optional arguments.  See L</OPTIONAL
ARGUMENTS>.

=head2 set-e2generation

 set-e2generation file generation

これはファイルの ext2 ファイル世代を設定します。

L</get-e2generation> を参照してください。

=head2 set-e2label

 set-e2label device label

This sets the ext2/3/4 filesystem label of the filesystem on C<device> to
C<label>.  Filesystem labels are limited to 16 characters.

You can use either L</tune2fs-l> or L</get-e2label> to return the existing
label on a filesystem.

I<この関数は推奨されません。> 新しいコードでは、代わりに L</set_label> を使用してください。

Deprecated functions will not be removed from the API, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.

=head2 set-e2uuid

 set-e2uuid device uuid

This sets the ext2/3/4 filesystem UUID of the filesystem on C<device> to
C<uuid>.  The format of the UUID and alternatives such as C<clear>,
C<random> and C<time> are described in the L<tune2fs(8)> manpage.

You can use either L</tune2fs-l> or L</get-e2uuid> to return the existing
UUID of a filesystem.

=head2 set-label

 set-label device label

C<device> のファイルシステムのラベルを C<label> に設定します。

いくつかのファイルシステム形式のみがラベルをサポートします。そして libguestfs はこれらのサブセットのみにおいてラベルの設定をサポートします。

ext2/3/4 ファイルシステムでは、ラベルは 16 バイトに制限されます。

NTFS ファイルシステムでは、ラベルは 128 Unicode 文字に制限されます。

ファイルシステムのラベルを読み込むには L</vfs-label> を呼び出します。

=head2 set-memsize

=head2 memsize

 set-memsize memsize

QEMU サブプロセスに割り当てられるメモリー容量をメガバイト単位で設定します。 L</launch> 前に呼び出されるときのみ効果があります。

ハンドルが設定される前に環境変数 C<LIBGUESTFS_MEMSIZE> を設定することにより、これを変更できます。

libguestfs のアーキテクチャーの詳細は L<guestfs(3)> を参照してください。

=head2 set-network

=head2 network

 set-network true|false

C<network> が真ならば、libguestfs アプライアンスにおいてネットワークが有効になります。デフォルトは偽です。

This affects whether commands are able to access the network (see
L<guestfs(3)/RUNNING COMMANDS>).

L</launch> を呼び出す前に、これを呼び出さなければいけません。そうしなければ効果がありません。

=head2 set-path

=head2 パス

 set-path searchpath

libguestfs がカーネルおよび initrd.img を検索するパスを設定します。

The default is C<$libdir/guestfs> unless overridden by setting
C<LIBGUESTFS_PATH> environment variable.

C<path> に C<NULL> を設定することによりパスの初期値を復元します。

=head2 set-pgroup

=head2 pgroup

 set-pgroup true|false

C<pgroup> が真ならば、子プロセスは自身のプロセスグループの中に置かれます。

The practical upshot of this is that signals like C<SIGINT> (from users
pressing C<^C>) won't be received by the child process.

The default for this flag is false, because usually you want C<^C> to kill
the subprocess.  Guestfish sets this flag to true when used interactively,
so that C<^C> can cancel long-running commands gracefully (see
L</user-cancel>).

=head2 set-qemu

=head2 qemu

 set-qemu qemu

使用したい QEMU バイナリーを設定します。

The default is chosen when the library was compiled by the configure script.

You can also override this by setting the C<LIBGUESTFS_QEMU> environment
variable.

Setting C<qemu> to C<NULL> restores the default qemu binary.

Note that you should call this function as early as possible after creating
the handle.  This is because some pre-launch operations depend on testing
qemu features (by running C<qemu -help>).  If the qemu binary changes, we
don't retest features, and so you might see inconsistent results.  Using the
environment variable C<LIBGUESTFS_QEMU> is safest of all since that picks
the qemu binary at the same time as the handle is created.

=head2 set-recovery-proc

=head2 recovery-proc

 set-recovery-proc true|false

If this is called with the parameter C<false> then L</launch> does not
create a recovery process.  The purpose of the recovery process is to stop
runaway qemu processes in the case where the main program aborts abruptly.

This only has any effect if called before L</launch>, and the default is
true.

About the only time when you would want to disable this is if the main
process will fork itself into the background ("daemonize" itself).  In this
case the recovery process thinks that the main program has disappeared and
so kills qemu, which is not very helpful.

=head2 set-selinux

=head2 selinux

 set-selinux true|false

This sets the selinux flag that is passed to the appliance at boot time.
The default is C<selinux=0> (disabled).

Note that if SELinux is enabled, it is always in Permissive mode
(C<enforcing=0>).

libguestfs のアーキテクチャーの詳細は L<guestfs(3)> を参照してください。

=head2 set-smp

=head2 smp

 set-smp smp

アプライアンスに割り当てられる仮想 CPU 数を変更します。初期値は C<1>
です。これを増やすことにより性能を向上させられますが、ときどき効果がありません。

この関数は L</launch> の前に呼び出す必要があります。

=head2 set-trace

=head2 trace

 set-trace true|false

If the command trace flag is set to 1, then libguestfs calls, parameters and
return values are traced.

If you want to trace C API calls into libguestfs (and other libraries) then
possibly a better way is to use the external ltrace(1) command.

Command traces are disabled unless the environment variable
C<LIBGUESTFS_TRACE> is defined and set to C<1>.

Trace messages are normally sent to C<stderr>, unless you register a
callback to send them somewhere else (see L</set-event-callback>).

=head2 set-verbose

=head2 verbose

 set-verbose true|false

C<verbose> が真ならば、メッセージの冗長化を有効にします。

Verbose messages are disabled unless the environment variable
C<LIBGUESTFS_DEBUG> is defined and set to C<1>.

Verbose messages are normally sent to C<stderr>, unless you register a
callback to send them somewhere else (see L</set-event-callback>).

=head2 setcon

 setcon context

This sets the SELinux security context of the daemon to the string
C<context>.

L<guestfs(3)> における SELinux に関するドキュメントを参照してください。

=head2 setxattr

 setxattr xattr val vallen path

This call sets the extended attribute named C<xattr> of the file C<path> to
the value C<val> (of length C<vallen>).  The value is arbitrary 8 bit data.

関連項目: L</lsetxattr>, L<attr(5)>

=head2 sfdisk

 sfdisk device cyls heads sectors 'lines ...'

This is a direct interface to the L<sfdisk(8)> program for creating
partitions on block devices.

C<device> should be a block device, for example C</dev/sda>.

C<cyls>, C<heads> and C<sectors> are the number of cylinders, heads and
sectors on the device, which are passed directly to sfdisk as the I<-C>,
I<-H> and I<-S> parameters.  If you pass C<0> for any of these, then the
corresponding parameter is omitted.  Usually for 'large' disks, you can just
pass C<0> for these, but for small (floppy-sized) disks, sfdisk (or rather,
the kernel) cannot work out the right geometry and you will need to tell it.

C<lines> is a list of lines that we feed to C<sfdisk>.  For more information
refer to the L<sfdisk(8)> manpage.

To create a single partition occupying the whole disk, you would pass
C<lines> as a single element list, when the single element being the string
C<,> (comma).

関連項目: L</sfdisk-l>, L</sfdisk-N>, L</part-init>

I<この関数は推奨されません。> 新しいコードでは、代わりに L</part_add> を使用してください。

Deprecated functions will not be removed from the API, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.

=head2 sfdiskM

 sfdiskM device 'lines ...'

This is a simplified interface to the L</sfdisk> command, where partition
sizes are specified in megabytes only (rounded to the nearest cylinder) and
you don't need to specify the cyls, heads and sectors parameters which were
rarely if ever used anyway.

関連項目: L</sfdisk>, L<sfdisk(8)> マニュアルページおよび L</part-disk>

I<この関数は推奨されません。> 新しいコードでは、代わりに L</part_add> を使用してください。

Deprecated functions will not be removed from the API, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.

=head2 sfdisk-N

 sfdisk-N device partnum cyls heads sectors line

This runs L<sfdisk(8)> option to modify just the single partition C<n>
(note: C<n> counts from 1).

For other parameters, see L</sfdisk>.  You should usually pass C<0> for the
cyls/heads/sectors parameters.

関連項目: L</part-add>

I<この関数は推奨されません。> 新しいコードでは、代わりに L</part_add> を使用してください。

Deprecated functions will not be removed from the API, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.

=head2 sfdisk-disk-geometry

 sfdisk-disk-geometry device

This displays the disk geometry of C<device> read from the partition table.
Especially in the case where the underlying block device has been resized,
this can be different from the kernel's idea of the geometry (see
L</sfdisk-kernel-geometry>).

The result is in human-readable format, and not designed to be parsed.

=head2 sfdisk-kernel-geometry

 sfdisk-kernel-geometry device

This displays the kernel's idea of the geometry of C<device>.

The result is in human-readable format, and not designed to be parsed.

=head2 sfdisk-l

 sfdisk-l device

This displays the partition table on C<device>, in the human-readable output
of the L<sfdisk(8)> command.  It is not intended to be parsed.

関連項目: L</part-list>

I<この関数は推奨されません。> 新しいコードでは、代わりに L</part_list> を使用してください。

Deprecated functions will not be removed from the API, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.

=head2 sh

 sh command

This call runs a command from the guest filesystem via the guest's
C</bin/sh>.

This is like L</command>, but passes the command to:

 /bin/sh -c "command"

Depending on the guest's shell, this usually results in wildcards being
expanded, shell expressions being interpolated and so on.

All the provisos about L</command> apply to this call.

=head2 sh-lines

 sh-lines command

This is the same as L</sh>, but splits the result into a list of lines.

関連項目: L</command-lines>

=head2 shutdown

 shutdown

This is the opposite of L</launch>.  It performs an orderly shutdown of the
backend process(es).  If the autosync flag is set (which is the default)
then the disk image is synchronized.

If the subprocess exits with an error then this function will return an
error, which should I<not> be ignored (it may indicate that the disk image
could not be written out properly).

It is safe to call this multiple times.  Extra calls are ignored.

This call does I<not> close or free up the handle.  You still need to call
L</close> afterwards.

L</close> will call this if you don't do it explicitly, but note that any
errors are ignored in that case.

=head2 sleep

 sleep secs

C<secs> 秒間スリープします。

=head2 stat

 stat path

与えられた C<path> のファイル情報を返します。

これは C<stat(2)> システムコールと同じです。

=head2 statvfs

 statvfs path

Returns file system statistics for any mounted file system.  C<path> should
be a file or directory in the mounted file system (typically it is the mount
point itself, but it doesn't need to be).

これは C<statvfs(2)> システムコールと同じです。

=head2 strings

 strings path

This runs the L<strings(1)> command on a file and returns the list of
printable strings found.

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 strings-e

 strings-e encoding path

This is like the L</strings> command, but allows you to specify the encoding
of strings that are looked for in the source file C<path>.

許可されるエンコードは次のとおりです:

=over 4

=item s

Single 7-bit-byte characters like ASCII and the ASCII-compatible parts of
ISO-8859-X (this is what L</strings> uses).

=item S

単一の 8 ビットのバイト文字。

=item b

UTF-16BE や UCS-2BE でエンコードされたもののように 16 ビットのビッグエンディアン文字列。

=item l (小文字の L)

UTF-16LE や UCS-2LE のような 16 ビットのリトルエンディアン。これは Windows
仮想マシンにあるバイナリーを検査するために有用です。

=item B

UCS-4BE のような 32 ビットのビッグエンディアン。

=item L

UCS-4LE のような 32 ビットのリトルエンディアン。

=back

返される文字列は UTF-8 に変換されます。

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 swapoff-device

 swapoff-device device

This command disables the libguestfs appliance swap device or partition
named C<device>.  See L</swapon-device>.

=head2 swapoff-file

 swapoff-file file

このコマンドは libguestfs アプライアンスの swap on ファイルを無効にします。

=head2 swapoff-label

 swapoff-label label

このコマンドは libguestfs アプライアンスの swap on ラベル付き swap パーティションを無効にします。

=head2 swapoff-uuid

 swapoff-uuid uuid

このコマンドは libguestfs アプライアンスの指定された UUID を持つ swap パーティションを無効にします。

=head2 swapon-device

 swapon-device device

This command enables the libguestfs appliance to use the swap device or
partition named C<device>.  The increased memory is made available for all
commands, for example those run using L</command> or L</sh>.

Note that you should not swap to existing guest swap partitions unless you
know what you are doing.  They may contain hibernation information, or other
information that the guest doesn't want you to trash.  You also risk leaking
information about the host to the guest this way.  Instead, attach a new
host device to the guest and swap on that.

=head2 swapon-file

 swapon-file file

This command enables swap to a file.  See L</swapon-device> for other notes.

=head2 swapon-label

 swapon-label label

This command enables swap to a labeled swap partition.  See
L</swapon-device> for other notes.

=head2 swapon-uuid

 swapon-uuid uuid

This command enables swap to a swap partition with the given UUID.  See
L</swapon-device> for other notes.

=head2 sync

 sync

This syncs the disk, so that any writes are flushed through to the
underlying disk image.

You should always call this if you have modified a disk image, before
closing the handle.

=head2 tail

 tail path

This command returns up to the last 10 lines of a file as a list of strings.

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 tail-n

 tail-n nrlines path

If the parameter C<nrlines> is a positive number, this returns the last
C<nrlines> lines of the file C<path>.

If the parameter C<nrlines> is a negative number, this returns lines from
the file C<path>, starting with the C<-nrlines>th line.

パラメーター C<nrlines> が 0 ならば、空の一覧を返します。

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 tar-in

 tar-in (tarfile|-) directory

This command uploads and unpacks local file C<tarfile> (an I<uncompressed>
tar file) into C<directory>.

圧縮した tar ファイルをアップロードするには L</tgz-in> または L</txz-in> を使用します。

Use C<-> instead of a filename to read/write from stdin/stdout.

=head2 tar-out

 tar-out directory (tarfile|-)

This command packs the contents of C<directory> and downloads it to local
file C<tarfile>.

圧縮した tar ファイルをダウンロードするには L</tgz-out> または L</txz-out> を使用します。

Use C<-> instead of a filename to read/write from stdin/stdout.

=head2 tgz-in

 tgz-in (tarball|-) directory

This command uploads and unpacks local file C<tarball> (a I<gzip compressed>
tar file) into C<directory>.

圧縮していない tar ファイルをアップロードするには L</tar-in> を使用します。

Use C<-> instead of a filename to read/write from stdin/stdout.

=head2 tgz-out

 tgz-out directory (tarball|-)

This command packs the contents of C<directory> and downloads it to local
file C<tarball>.

圧縮していない tar ファイルをダウンロードするには L</tar-out> を使用します。

Use C<-> instead of a filename to read/write from stdin/stdout.

=head2 touch

 touch path

Touch acts like the L<touch(1)> command.  It can be used to update the
timestamps on a file, or, if the file does not exist, to create a new
zero-length file.

This command only works on regular files, and will fail on other file types
such as directories, symbolic links, block special etc.

=head2 truncate

 truncate path

This command truncates C<path> to a zero-length file.  The file must exist
already.

=head2 truncate-size

 truncate-size path size

This command truncates C<path> to size C<size> bytes.  The file must exist
already.

If the current file size is less than C<size> then the file is extended to
the required size with zero bytes.  This creates a sparse file (ie. disk
blocks are not allocated for the file until you write to it).  To create a
non-sparse file of zeroes, use L</fallocate64> instead.

=head2 tune2fs

 tune2fs device [force:true|false] [maxmountcount:N] [mountcount:N] [errorbehavior:..] [group:N] [intervalbetweenchecks:N] [reservedblockspercentage:N] [lastmounteddirectory:..] [reservedblockscount:N] [user:N]

This call allows you to adjust various filesystem parameters of an
ext2/ext3/ext4 filesystem called C<device>.

オプションのパラメーターは次のとおりです:

=over 4

=item C<force>

Force tune2fs to complete the operation even in the face of errors.  This is
the same as the tune2fs C<-f> option.

=item C<maxmountcount>

Set the number of mounts after which the filesystem is checked by
L<e2fsck(8)>.  If this is C<0> then the number of mounts is disregarded.
This is the same as the tune2fs C<-c> option.

=item C<mountcount>

Set the number of times the filesystem has been mounted.  This is the same
as the tune2fs C<-C> option.

=item C<errorbehavior>

Change the behavior of the kernel code when errors are detected.  Possible
values currently are: C<continue>, C<remount-ro>, C<panic>.  In practice
these options don't really make any difference, particularly for write
errors.

これは tune2fs C<-e> オプションと同じです。

=item C<group>

Set the group which can use reserved filesystem blocks.  This is the same as
the tune2fs C<-g> option except that it can only be specified as a number.

=item C<intervalbetweenchecks>

Adjust the maximal time between two filesystem checks (in seconds).  If the
option is passed as C<0> then time-dependent checking is disabled.

これは tune2fs C<-i> オプションと同じです。

=item C<reservedblockspercentage>

Set the percentage of the filesystem which may only be allocated by
privileged processes.  This is the same as the tune2fs C<-m> option.

=item C<lastmounteddirectory>

最後にマウントされたディレクトリーを設定します。これは tune2fs C<-M> オプションと同じです。

=item C<reservedblockscount> Set the number of reserved filesystem blocks.  This
is the same as the tune2fs C<-r> option.

=item C<user>

Set the user who can use the reserved filesystem blocks.  This is the same
as the tune2fs C<-u> option except that it can only be specified as a
number.

=back

To get the current values of filesystem parameters, see L</tune2fs-l>.  For
precise details of how tune2fs works, see the L<tune2fs(8)> man page.

This command has one or more optional arguments.  See L</OPTIONAL
ARGUMENTS>.

=head2 tune2fs-l

 tune2fs-l device

This returns the contents of the ext2, ext3 or ext4 filesystem superblock on
C<device>.

It is the same as running C<tune2fs -l device>.  See L<tune2fs(8)> manpage
for more details.  The list of fields returned isn't clearly defined, and
depends on both the version of C<tune2fs> that libguestfs was built against,
and the filesystem itself.

=head2 txz-in

 txz-in (tarball|-) directory

This command uploads and unpacks local file C<tarball> (an I<xz compressed>
tar file) into C<directory>.

Use C<-> instead of a filename to read/write from stdin/stdout.

=head2 txz-out

 txz-out directory (tarball|-)

This command packs the contents of C<directory> and downloads it to local
file C<tarball> (as an xz compressed tar archive).

Use C<-> instead of a filename to read/write from stdin/stdout.

=head2 umask

 umask mask

This function sets the mask used for creating new files and device nodes to
C<mask & 0777>.

Typical umask values would be C<022> which creates new files with
permissions like "-rw-r--r--" or "-rwxr-xr-x", and C<002> which creates new
files with permissions like "-rw-rw-r--" or "-rwxrwxr-x".

The default umask is C<022>.  This is important because it means that
directories and device nodes will be created with C<0644> or C<0755> mode
even if you specify C<0777>.

L</get-umask>, L<umask(2)>, L</mknod>, L</mkdir> 参照。

This call returns the previous umask.

=head2 umount

=head2 unmount

 umount pathordevice

This unmounts the given filesystem.  The filesystem may be specified either
by its mountpoint (path) or the device which contains the filesystem.

=head2 umount-all

=head2 unmount-all

 umount-all

これはマウントされたファイルシステムをすべてアンマウントします。

いくつかの内部マウントはこの呼び出しによりアンマウントされません。

=head2 umount-local

 umount-local [retry:true|false]

libguestfs がローカルマウントポイントにあるファイルシステムをエクスポートしているならば、これによりアンマウントされます。

完全なドキュメントは L<guestfs(3)/MOUNT LOCAL> を参照してください。

This command has one or more optional arguments.  See L</OPTIONAL
ARGUMENTS>.

=head2 upload

 upload (filename|-) remotefilename

ローカルファイル C<filename> をファイルシステムにおいて C<remotefilename> にアップロードします。

C<filename> は名前付きパイプを使えます。

L</download> 参照。

Use C<-> instead of a filename to read/write from stdin/stdout.

=head2 upload-offset

 upload-offset (filename|-) remotefilename offset

ローカルファイル C<filename> をファイルシステムにおいて C<remotefilename> にアップロードします。

C<remotefilename> is overwritten starting at the byte C<offset> specified.
The intention is to overwrite parts of existing files or devices, although
if a non-existant file is specified then it is created with a "hole" before
C<offset>.  The size of the data written is implicit in the size of the
source C<filename>.

Note that there is no limit on the amount of data that can be uploaded with
this call, unlike with L</pwrite>, and this call always writes the full
amount unless an error occurs.

L</upload>, L</pwrite> 参照。

Use C<-> instead of a filename to read/write from stdin/stdout.

=head2 utimens

 utimens path atsecs atnsecs mtsecs mtnsecs

This command sets the timestamps of a file with nanosecond precision.

C<atsecs, atnsecs> are the last access time (atime) in secs and nanoseconds
from the epoch.

C<mtsecs, mtnsecs> are the last modification time (mtime) in secs and
nanoseconds from the epoch.

If the C<*nsecs> field contains the special value C<-1> then the
corresponding timestamp is set to the current time.  (The C<*secs> field is
ignored in this case).

If the C<*nsecs> field contains the special value C<-2> then the
corresponding timestamp is left unchanged.  (The C<*secs> field is ignored
in this case).

=head2 version

 version

Return the libguestfs version number that the program is linked against.

Note that because of dynamic linking this is not necessarily the version of
libguestfs that you compiled against.  You can compile the program, and then
at runtime dynamically link against a completely different C<libguestfs.so>
library.

This call was added in version C<1.0.58>.  In previous versions of
libguestfs there was no way to get the version number.  From C code you can
use dynamic linker functions to find out if this symbol exists (if it
doesn't, then it's an earlier version).

The call returns a structure with four elements.  The first three (C<major>,
C<minor> and C<release>) are numbers and correspond to the usual version
triplet.  The fourth element (C<extra>) is a string and is normally empty,
but may be used for distro-specific information.

To construct the original version string: C<$major.$minor.$release$extra>

関連項目: L<guestfs(3)/LIBGUESTFS VERSION NUMBERS>

I<Note:> Don't use this call to test for availability of features.  In
enterprise distributions we backport features from later versions into
earlier versions, making this an unreliable way to test for features.  Use
L</available> instead.

=head2 vfs-label

 vfs-label device

This returns the filesystem label of the filesystem on C<device>.

ファイルシステムにラベルが付いていないと、空の文字列が返されます。

ラベルからファイルシステムを検索するには L</findfs-label> を使用します。

=head2 vfs-type

 vfs-type device

This command gets the filesystem type corresponding to the filesystem on
C<device>.

For most filesystems, the result is the name of the Linux VFS module which
would be used to mount this filesystem if you mounted it without specifying
the filesystem type.  For example a string such as C<ext3> or C<ntfs>.

=head2 vfs-uuid

 vfs-uuid device

This returns the filesystem UUID of the filesystem on C<device>.

ファイルシステムが UUID を持っていないと、空の文字列を返します。

UUID からファイルシステムを検索するには L</findfs-uuid> を使用します。

=head2 vg-activate

 vg-activate true|false 'volgroups ...'

This command activates or (if C<activate> is false) deactivates all logical
volumes in the listed volume groups C<volgroups>.

このコマンドは C<vgchange -a y|n volgroups...> を実行するときと同じです。

Note that if C<volgroups> is an empty list then B<all> volume groups are
activated or deactivated.

=head2 vg-activate-all

 vg-activate-all true|false

This command activates or (if C<activate> is false) deactivates all logical
volumes in all volume groups.

This command is the same as running C<vgchange -a y|n>

=head2 vgcreate

 vgcreate volgroup 'physvols ...'

This creates an LVM volume group called C<volgroup> from the non-empty list
of physical volumes C<physvols>.

=head2 vglvuuids

 vglvuuids vgname

Given a VG called C<vgname>, this returns the UUIDs of all the logical
volumes created in this volume group.

You can use this along with L</lvs> and L</lvuuid> calls to associate
logical volumes and volume groups.

L</vgpvuuids> 参照。

=head2 vgmeta

 vgmeta vgname

C<vgname> は LVM ボリュームグループです。このコマンドは、ボリュームグループを検査して、そのメタ情報を返します。

メタ情報は、LVM により使用される内部構造で、いつでも変更を強制され、情報に対してのみ提供されることに注意してください。

=head2 vgpvuuids

 vgpvuuids vgname

Given a VG called C<vgname>, this returns the UUIDs of all the physical
volumes that this volume group resides on.

You can use this along with L</pvs> and L</pvuuid> calls to associate
physical volumes and volume groups.

L</vglvuuids> 参照。

=head2 vgremove

 vgremove vgname

LVM ボリュームグループ C<vgname> を削除します（例: C<VG>）。

This also forcibly removes all logical volumes in the volume group (if any).

=head2 vgrename

 vgrename volgroup newvolgroup

Rename a volume group C<volgroup> with the new name C<newvolgroup>.

=head2 vgs

 vgs

List all the volumes groups detected.  This is the equivalent of the
L<vgs(8)> command.

This returns a list of just the volume group names that were detected
(eg. C<VolGroup00>).

L</vgs-full> 参照。

=head2 vgs-full

 vgs-full

List all the volumes groups detected.  This is the equivalent of the
L<vgs(8)> command.  The "full" version includes all fields.

=head2 vgscan

 vgscan

This rescans all block devices and rebuilds the list of LVM physical
volumes, volume groups and logical volumes.

=head2 vguuid

 vguuid vgname

This command returns the UUID of the LVM VG named C<vgname>.

=head2 wc-c

 wc-c path

This command counts the characters in a file, using the C<wc -c> external
command.

=head2 wc-l

 wc-l path

This command counts the lines in a file, using the C<wc -l> external
command.

=head2 wc-w

 wc-w path

このコマンドは、C<wc -w> 外部コマンドを使用して、ファイルにある単語を数えます。

=head2 wipefs

 wipefs device

This command erases filesystem or RAID signatures from the specified
C<device> to make the filesystem invisible to libblkid.

これは、ファイルシステム自身を削除しません、また C<device> から他のどんなデータも削除しません。

デバイスの最初の数ブロックをゼロにする L</zero> と比較します。

=head2 write

 write path content

This call creates a file called C<path>.  The content of the file is the
string C<content> (which can contain any 8 bit data).

L</write-append> 参照。

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 write-append

 write-append path content

This call appends C<content> to the end of file C<path>.  If C<path> does
not exist, then a new file is created.

L</write> 参照。

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 write-file

 write-file path content size

This call creates a file called C<path>.  The contents of the file is the
string C<content> (which can contain any 8 bit data), with length C<size>.

As a special case, if C<size> is C<0> then the length is calculated using
C<strlen> (so in this case the content cannot contain embedded ASCII NULs).

I<NB.> Owing to a bug, writing content containing ASCII NUL characters does
I<not> work, even if the length is specified.

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

I<この関数は推奨されません。> 新しいコードでは、代わりに L</write> を使用してください。

Deprecated functions will not be removed from the API, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.

=head2 zegrep

 zegrep regex path

これは外部の C<zegrep> プログラムを呼び出し、一致する行を返します。

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 zegrepi

 zegrepi regex path

これは外部の C<zegrep -i> プログラムを呼び出し、一致する行を返します。

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 zero

 zero device

This command writes zeroes over the first few blocks of C<device>.

How many blocks are zeroed isn't specified (but it's I<not> enough to
securely wipe the device).  It should be sufficient to remove any partition
tables, filesystem superblocks and so on.

ブロックデバイスがすでに 0 ならば、このコマンドは 0
を書き込みません。これは、下にあるブロックデバイスが不必要に非スパース化されたり大きくなったりすることを避けるためです。

関連項目: L</zero-device>, L</scrub-device>, L</is-zero-device>

=head2 zero-device

 zero-device device

This command writes zeroes over the entire C<device>.  Compare with L</zero>
which just zeroes the first few blocks of a device.

ブロックデバイスがすでに 0 ならば、このコマンドは 0
を書き込みません。これは、下にあるブロックデバイスが不必要に非スパース化されたり大きくなったりすることを避けるためです。

=head2 zero-free-space

 zero-free-space directory

C<directory> にマウントされたファイルシステムにある空き領域にゼロを書き込みます。
ファイルシステムは読み書きモードでマウントする必要があります。

ファイルシステムの内容は影響を受けません。しかし、ファイルシステムにある空き領域はすべて開放されます。

In future (but not currently) these zeroed blocks will be "sparsified" -
that is, given back to the host.

=head2 zerofree

 zerofree device

This runs the I<zerofree> program on C<device>.  This program claims to zero
unused inodes and disk blocks on an ext2/3 filesystem, thus making it
possible to compress the filesystem more effectively.

You should B<not> run this program if the filesystem is mounted.

It is possible that using this program can damage the filesystem or data on
the filesystem.

=head2 zfgrep

 zfgrep pattern path

This calls the external C<zfgrep> program and returns the matching lines.

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 zfgrepi

 zfgrepi pattern path

This calls the external C<zfgrep -i> program and returns the matching lines.

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 zfile

 zfile meth path

This command runs C<file> after first decompressing C<path> using C<method>.

C<method> は C<gzip>, C<compress> または C<bzip2> のいずれかである必要があります。

Since 1.0.63, use L</file> instead which can now process compressed files.

I<この関数は推奨されません。> 新しいコードでは、代わりに L</file> を使用してください。

Deprecated functions will not be removed from the API, but the fact that
they are deprecated indicates that there are problems with correct use of
these functions.

=head2 zgrep

 zgrep regex path

外部 C<zgrep> プログラムを呼び出し、一致する行を返します。

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

=head2 zgrepi

 zgrepi regex path

外部 C<zgrep -i> プログラムを呼び出し、一致する行を返します。

Because of the message protocol, there is a transfer limit of somewhere
between 2MB and 4MB.  See L<guestfs(3)/PROTOCOL LIMITS>.

