.\" Automatically generated by Podwrapper::Man 1.18.8 (Pod::Simple 3.20)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\" ========================================================================
.\"
.IX Title "guestfs-ocaml 3"
.TH guestfs-ocaml 3 "2012-09-19" "libguestfs-1.18.8" "Virtualization Support"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "名前"
.IX Header "名前"
guestfs-ocaml \- OCaml から libguestfs を使用する方法
.SH "書式"
.IX Header "書式"
モジュール形式:
.PP
.Vb 3
\& let g = Guestfs.create () in
\& Guestfs.add_drive_opts g ~format:"raw" ~readonly:true "disk.img";
\& Guestfs.launch g;
.Ve
.PP
オブジェクト指向スタイル:
.PP
.Vb 3
\& let g = new Guestfs.guestfs () in
\& g#add_drive_opts ~format:"raw" ~readonly:true "disk.img";
\& g#launch ();
\&
\& ocamlfind opt prog.ml \-package guestfs \-linkpkg \-o prog
\&or:
\& ocamlopt \-I +guestfs mlguestfs.cmxa prog.ml \-o prog
.Ve
.SH "説明"
.IX Header "説明"
This manual page documents how to call libguestfs from the OCaml programming
language.  This page just documents the differences from the C \s-1API\s0 and gives
some examples.  If you are not familiar with using libguestfs, you also need
to read \fIguestfs\fR\|(3).
.SS "プログラミング形式"
.IX Subsection "プログラミング形式"
There are two different programming styles supported by the OCaml bindings.
You can use a module style, with each C function mapped to an OCaml
function:
.PP
.Vb 1
\& int guestfs_set_verbose (guestfs_h *g, int flag);
.Ve
.PP
becomes:
.PP
.Vb 1
\& val Guestfs.set_verbose : Guestfs.t \-> bool \-> unit
.Ve
.PP
Alternately you can use an object-oriented style, calling methods on the
class \f(CW\*(C`Guestfs.guestfs\*(C'\fR:
.PP
.Vb 1
\& method set_verbose : bool \-> unit
.Ve
.PP
The object-oriented style is usually briefer, and the minor performance
penalty isn't noticeable in the general overhead of performing libguestfs
functions.
.SS "ハンドルの閉じ方"
.IX Subsection "ハンドルの閉じ方"
The handle is closed when it is reaped by the garbage collector.  Because
libguestfs handles include a lot of state, it is also possible to close (and
hence free) them explicitly by calling \f(CW\*(C`Guestfs.close\*(C'\fR or the \f(CW\*(C`#close\*(C'\fR
method.
.SS "例外"
.IX Subsection "例外"
Errors from libguestfs functions are mapped into the \f(CW\*(C`Guestfs.Error\*(C'\fR
exception.  This has a single parameter which is the error message (a
string).
.PP
Calling any function/method on a closed handle raises
\&\f(CW\*(C`Guestfs.Handle_closed\*(C'\fR.  The single parameter is the name of the function
that you called.
.SH "例 1: ディスクイメージの作成"
.IX Header "例 1: ディスクイメージの作成"
\&\f(CW@EXAMPLE1\fR@
.SH "例 2: 仮想マシンのディスクイメージの検査"
.IX Header "例 2: 仮想マシンのディスクイメージの検査"
\&\f(CW@EXAMPLE2\fR@
.SH "関連項目"
.IX Header "関連項目"
\&\fIguestfs\fR\|(3), \fIguestfs\-examples\fR\|(3), \fIguestfs\-erlang\fR\|(3),
\&\fIguestfs\-java\fR\|(3), \fIguestfs\-perl\fR\|(3), \fIguestfs\-python\fR\|(3),
\&\fIguestfs\-recipes\fR\|(1), \fIguestfs\-ruby\fR\|(3), http://libguestfs.org/,
http://caml.inria.fr/。
.SH "著者"
.IX Header "著者"
Richard W.M. Jones (\f(CW\*(C`rjones at redhat dot com\*(C'\fR)
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
Copyright (C) 2010\-2012 Red Hat Inc.
.SH "LICENSE"
.IX Header "LICENSE"
.SH "BUGS"
.IX Header "BUGS"
To get a list of bugs against libguestfs, use this link:
https://bugzilla.redhat.com/buglist.cgi?component=libguestfs&product=Virtualization+Tools
.PP
To report a new bug against libguestfs, use this link:
https://bugzilla.redhat.com/enter_bug.cgi?component=libguestfs&product=Virtualization+Tools
.PP
When reporting a bug, please supply:
.IP "\(bu" 4
The version of libguestfs.
.IP "\(bu" 4
Where you got libguestfs (eg. which Linux distro, compiled from source, etc)
.IP "\(bu" 4
Describe the bug accurately and give a way to reproduce it.
.IP "\(bu" 4
Run \fIlibguestfs\-test\-tool\fR\|(1) and paste the \fBcomplete, unedited\fR
output into the bug report.
