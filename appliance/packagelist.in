dnl This is the list of distro packages which are
dnl installed on the appliance.
dnl
dnl This file is processed by m4 with one of the
dnl following symbols defined (depending on the distro):
dnl
dnl   REDHAT=1     For Fedora, RHEL, EPEL and workalikes.
dnl   DEBIAN=1     For Debian.
dnl   UBUNTU=1     For Ubuntu.
dnl   ARCHLINUX=1  For Archlinux.
dnl   SUSE=1       For OpenSUSE.
dnl   FRUGALWARE=1 For Frugalware.
dnl   MAGEIA=1     For Mageia.
dnl
dnl There is also a list of packages which are excluded if they appear
dnl as dependencies of the packages below.  See: excludelist.in
dnl
dnl To add arbitrary extra packages, use:
dnl
dnl   ./configure --with-extra-packages="gdb valgrind [etc]"

dnl Basically the same with a few minor tweaks.
ifelse(UBUNTU,1,`define(`DEBIAN',1)')

ifelse(REDHAT,1,
  augeas-libs
  cryptsetup
  cryptsetup-luks      dnl old name used before Fedora 17
  dhclient
  genisoimage
  gfs-utils
  gfs2-utils
  grub
  hfsplus-tools
  hivex
  iproute
  iputils
  jansson
  kernel
  libcap
  libldm
  libtirpc
  nilfs-utils
  ntfsprogs
  ntfs-3g
  openssh-clients
  pcre
  policycoreutils
  reiserfs-utils
  libselinux
  syslinux-extlinux
  systemd              dnl for /sbin/reboot and udevd
  vim-minimal
  xz
  yara
  zfs-fuse
)

ifelse(DEBIAN,1,
  bsdmainutils
dnl old name used in Jessie and earlier
  btrfs-tools
  cryptsetup
  dash
  extlinux
  genisoimage
dnl gfs-tools, gfs2-tools have been renamed to gfs2-utils
  gfs-tools
  gfs2-tools
  gfs2-utils
  grub2-common
  hfsplus
dnl iproute has been renamed to iproute2
  iproute
  iproute2
  iputils-ping
  iputils-arping
  iputils-tracepath
  isc-dhcp-client
  ldmtool
  libaugeas0
  libc-bin
  libcap2
  libhivex0
  libjansson4
  libpcre3
  libsystemd0
  libsystemd-id128-0
  libsystemd-journal0
  libtirpc1
  libyara3
  linux-image
  dnl syslinux 'suggests' mtools, but in reality it's a hard dependency:
  mtools
  nilfs-tools
  ntfs-3g
  openssh-client
  reiserfsprogs
  sysvinit                  dnl for /sbin/reboot
  systemd                   dnl alternative for /sbin/reboot
  ufsutils
  vim-tiny
  xz-utils
  zfs-fuse
  uuid-runtime
)

ifelse(ARCHLINUX,1,
  augeas
  cdrkit
  cdrtools
  cryptsetup
  dhcpcd
  gptfdisk
  grub
  hivex
  iproute2
  iputils
  jansson
  libcap
  libtirpc
  linux
  lrzip
  dnl syslinux has mtools as optional dependency, but in reality it's
  dnl a hard one:
  mtools
  multipath-tools  dnl for kpartx
  nilfs-utils
  ntfs-3g
  pcre
  reiserfsprogs
  systemd
  vim
  xz
  yara
)

ifelse(SUSE,1,
  augeas
  dnl It seems no other augeas package depends on it.
  augeas-lenses
  btrfsprogs
  cdrkit-cdrtools-compat
  cryptsetup
  dhcpcd
  dhcp-client
  genisoimage
  glibc-locale
  gptfdisk
  hivex
  initviocons
  iproute2
  iputils
  libcap2
  libhivex0
  libjansson4
  libselinux1
  libtirpc3
  libyara3
  mkisofs
  ntfsprogs
  ntfs-3g
  reiserfs
  squashfs
  systemd
  vim
  xz
  yara
)

ifelse(FRUGALWARE,1,
  augeas
  cryptsetup-luks
  cdrkit
  dhclient
  grub2
  hfsplus
  iproute2
  iputils
  jansson
  kernel
  libcap
  libtirpc
  ntfsprogs
  ntfs-3g
  openssh
  pcre
  reiserfsprogs
  systemd
  vim
  xz
  xfsprogs-acl
  xfsprogs-attr
  gptfdisk
)

ifelse(MAGEIA,1,
  augeas
  cryptsetup
  chkconfig /* for /etc/init.d */
  cdrkit-genisoimage
  cdrkit-isotools
  dhcp-client
  extlinux
  gfs2-utils
  grub
  hfsplus-tools
  hivex
  iproute2
  iputils
  libcap
  libjansson4
  lib64jansson4 /* lib64jansson4 does not provide libjansson4 */
  libldm
  libtirpc
  dnl syslinux uses mtools without depending on it
  mtools
  nilfs-utils
  ntfsprogs
  ntfs-3g
  openssh-clients
  pcre
  reiserfs-utils
  libselinux
  systemd /* for /sbin/reboot and udevd */
  vim-minimal
  xz
)

acl
attr
bash
binutils
btrfs-progs
bzip2
coreutils
cpio
diffutils
dosfstools
e2fsprogs
f2fs-tools
file
findutils
gawk
gdisk
grep
gzip
jfsutils
kmod
less
libxml2
lsof
lsscsi
lvm2
lzop
mdadm
module-init-tools
dnl Enabling this pulls out 140 extra packages
dnl into the appliance:
dnl ocfs2-tools
parted
pciutils
procps
procps-ng
psmisc
rsync
scrub
sed
sleuthkit
squashfs-tools
strace
syslinux
tar
udev
util-linux
util-linux-ng
xfsprogs
zerofree

dnl tools needed by virt-dib
ifelse(REDHAT,1,
  qemu-img
  which
)
ifelse(DEBIAN,1,
  qemu-utils
)
ifelse(ARCHLINUX,1,
  qemu
  which
)
ifelse(SUSE,1,
  qemu-tools
  which
)
ifelse(FRUGALWARE,1,
  qemu
  which
)
ifelse(MAGEIA,1,
  qemu-img
  which
)
curl
kpartx
dnl (virt-dib) tools optionally used for elements
debootstrap

dnl exFAT is not usually available in free software repos
exfat-fuse
exfat-utils
fuse-exfat

dnl Define this by doing: ./configure --with-extra-packages="..."
EXTRA_PACKAGES
